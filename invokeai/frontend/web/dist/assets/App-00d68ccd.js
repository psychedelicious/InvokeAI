import{r as g,f as fe,j as l,u as HS,c as ne,a as Ae,b as Ee,w as os,d as un,o as At,S as xc,e as yo,g as qe,h as Nr,k as ti,i as bc,_ as Qd,l as WS,m as VS,R as Me,n as Pv,p as US,q as Zd,s as na,t as w1,v as j1,x as $S,y as GS,z as ee,A as k1,B as E1,C as Sc,D as is,F as L,E as K,G as qS,H as fd,T as Ce,I as P1,J as YS,K as as,L as Iv,M as KS,N as XS,O as QS,P as Ai,Q as I1,U as Mv,V as ZS,W as M1,X as JS,Y as e3,Z as t3,$ as T1,a0 as n3,a1 as r3,a2 as o3,a3 as i3,a4 as a3,a5 as s3,a6 as l3,a7 as c3,a8 as Tv,a9 as _v,aa as Dv,ab as u3,ac as d3,ad as f3,ae as h3,af as _1,ag as p3,ah as m3,ai as Yl,aj as v3,ak as g3,al as Fl,am as Kl,an as Jd,ao as ef,ap as tf,aq as y3,ar as D1,as as x3,at as A1,au as b3,av as O1,aw as z1,ax as Uo,ay as kn,az as R1,aA as ss,aB as S3,aC as C3,aD as N1,aE as nf,aF as rf,aG as F1,aH as of,aI as af,aJ as Av,aK as L1,aL as B1,aM as H1,aN as Ll,aO as Bl,aP as w3,aQ as sf,aR as W1,aS as V1,aT as U1,aU as j3,aV as k3,aW as Ov,aX as zv,aY as E3,aZ as P3,a_ as I3,a$ as $1,b0 as G1,b1 as M3,b2 as T3,b3 as q1,b4 as Rv,b5 as _3,b6 as Nv,b7 as D3,b8 as A3,b9 as Y1,ba as O3,bb as z3,bc as R3,bd as hd,be as Fv,bf as K1,bg as lf,bh as N3,bi as Lv,bj as Hl,bk as F3,bl as L3,bm as Ga,bn as Xl,bo as X1,bp as Ql,bq as B3,br as H3,bs as Sr,bt as Q1,bu as Jf,bv as ls,bw as W3,bx as V3,by as U3,bz as jr,bA as Z1,bB as $3,bC as G3,bD as J1,bE as q3,bF as Y3,bG as K3,bH as X3,bI as Q3,bJ as Z3,bK as J3,bL as eC,bM as tC,bN as Bv,bO as nC,bP as rC,bQ as oC,bR as iC,bS as aC,bT as sC,bU as pd,bV as Na,bW as vl,bX as Hv,bY as md,bZ as vd,b_ as gl,b$ as Wv,c0 as cf,c1 as lC,c2 as cC,c3 as uC,c4 as Cc,c5 as dC,c6 as fC,c7 as hC,c8 as pC,c9 as yl,ca as gd,cb as xl,cc as Ta,cd as mC,ce as vC,cf as e2,cg as Zl,ch as eh,ci as t2,cj as n2,ck as r2,cl as gC,cm as o2,cn as i2,co as a2,cp as s2,cq as l2,cr as Bi,cs as Hi,ct as c2,cu as u2,cv as d2,cw as f2,cx as h2,cy as yC,cz as xC,cA as Vv,cB as bl,cC as bC,cD as Uv,cE as $v,cF as Gv,cG as qv,cH as SC,cI as CC,cJ as uf,cK as wC,cL as Yv,cM as Sl,cN as Jl,cO as jC,cP as kC,cQ as EC,cR as PC,cS as p2,cT as IC,cU as MC}from"./index-1cfc022d.js";import{I as tn,u as TC,c as _C,a as kt,b as Wt,A as xo,m as ar,d as Wi,e as ni,P as qa,f as DC,C as AC,g as Y,h as A}from"./storeHooks-eec1a0b5.js";function OC(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var ec="NOT_FOUND";function zC(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:ec},put:function(r,o){t={key:r,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function RC(e,t){var n=[];function r(u){var f=n.findIndex(function(h){return t(u,h.key)});if(f>-1){var p=n[f];return f>0&&(n.splice(f,1),n.unshift(p)),p.value}return ec}function o(u,f){r(u)===ec&&(n.unshift({key:u,value:f}),n.length>e&&n.pop())}function s(){return n}function c(){n=[]}return{get:r,put:o,getEntries:s,clear:c}}var NC=function(t,n){return t===n};function FC(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var o=n.length,s=0;s<o;s++)if(!e(n[s],r[s]))return!1;return!0}}function LC(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?NC:r,s=n.maxSize,c=s===void 0?1:s,u=n.resultEqualityCheck,f=FC(o),p=c===1?zC(f):RC(c,f);function h(){var y=p.get(arguments);if(y===ec){if(y=e.apply(null,arguments),u){var x=p.getEntries(),S=x.find(function(C){return u(C.value,y)});S&&(y=S.value)}p.put(arguments,y)}return y}return h.clearCache=function(){return p.clear()},h}function BC(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function HC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var p=0,h,y={memoizeOptions:void 0},x=u.pop();if(typeof x=="object"&&(y=x,x=u.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var S=y,C=S.memoizeOptions,j=C===void 0?n:C,w=Array.isArray(j)?j:[j],k=BC(u),I=e.apply(void 0,[function(){return p++,x.apply(null,arguments)}].concat(w)),P=e(function(){for(var T=[],D=k.length,_=0;_<D;_++)T.push(k[_].apply(null,arguments));return h=I.apply(null,T),h});return Object.assign(P,{resultFunc:x,memoizedResultFunc:I,dependencies:k,lastResult:function(){return h},recomputations:function(){return p},resetRecomputations:function(){return p=0}}),P};return o}var me=HC(LC);function WC(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function m2(e){var t;return WC(e)&&(t=e.ownerDocument)!=null?t:document}function VC(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var UC=VC();const v2=1/60*1e3,$C=typeof performance<"u"?()=>performance.now():()=>Date.now(),g2=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e($C()),v2);function GC(e){let t=[],n=[],r=0,o=!1,s=!1;const c=new WeakSet,u={schedule:(f,p=!1,h=!1)=>{const y=h&&o,x=y?t:n;return p&&c.add(f),x.indexOf(f)===-1&&(x.push(f),y&&o&&(r=t.length)),f},cancel:f=>{const p=n.indexOf(f);p!==-1&&n.splice(p,1),c.delete(f)},process:f=>{if(o){s=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let p=0;p<r;p++){const h=t[p];h(f),c.has(h)&&(u.schedule(h),e())}o=!1,s&&(s=!1,u.process(f))}};return u}const qC=40;let df=!0,Ya=!1,ff=!1;const Vi={delta:0,timestamp:0},cs=["read","update","preRender","render","postRender"],wc=cs.reduce((e,t)=>(e[t]=GC(()=>Ya=!0),e),{}),YC=cs.reduce((e,t)=>{const n=wc[t];return e[t]=(r,o=!1,s=!1)=>(Ya||QC(),n.schedule(r,o,s)),e},{}),KC=cs.reduce((e,t)=>(e[t]=wc[t].cancel,e),{});cs.reduce((e,t)=>(e[t]=()=>wc[t].process(Vi),e),{});const XC=e=>wc[e].process(Vi),y2=e=>{Ya=!1,Vi.delta=df?v2:Math.max(Math.min(e-Vi.timestamp,qC),1),Vi.timestamp=e,ff=!0,cs.forEach(XC),ff=!1,Ya&&(df=!1,g2(y2))},QC=()=>{Ya=!0,df=!0,ff||g2(y2)},Kv=()=>Vi;function th(e){const{viewBox:t="0 0 24 24",d:n,displayName:r,defaultProps:o={}}=e,s=g.Children.toArray(e.path),c=fe((u,f)=>l.jsx(tn,{ref:f,viewBox:t,...o,...u,children:s.length?s:l.jsx("path",{fill:"currentColor",d:n})}));return c.displayName=r,c}function us(e){const{theme:t}=HS(),n=TC();return g.useMemo(()=>_C(t.direction,{...n,...e}),[e,t.direction,n])}var ZC=Object.defineProperty,JC=(e,t,n)=>t in e?ZC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zt=(e,t,n)=>(JC(e,typeof t!="symbol"?t+"":t,n),n);function Xv(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var ew=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function Qv(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function Zv(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var hf=typeof window<"u"?g.useLayoutEffect:g.useEffect,tc=e=>e,tw=class{constructor(){zt(this,"descendants",new Map),zt(this,"register",e=>{if(e!=null)return ew(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),zt(this,"unregister",e=>{this.descendants.delete(e);const t=Xv(Array.from(this.descendants.keys()));this.assignIndex(t)}),zt(this,"destroy",()=>{this.descendants.clear()}),zt(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),zt(this,"count",()=>this.descendants.size),zt(this,"enabledCount",()=>this.enabledValues().length),zt(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),zt(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),zt(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),zt(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),zt(this,"first",()=>this.item(0)),zt(this,"firstEnabled",()=>this.enabledItem(0)),zt(this,"last",()=>this.item(this.descendants.size-1)),zt(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),zt(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),zt(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),zt(this,"next",(e,t=!0)=>{const n=Qv(e,this.count(),t);return this.item(n)}),zt(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=Qv(r,this.enabledCount(),t);return this.enabledItem(o)}),zt(this,"prev",(e,t=!0)=>{const n=Zv(e,this.count()-1,t);return this.item(n)}),zt(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=Zv(r,this.enabledCount()-1,t);return this.enabledItem(o)}),zt(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=Xv(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(r)})}};function nw(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function ct(...e){return t=>{e.forEach(n=>{nw(n,t)})}}function rw(...e){return g.useMemo(()=>ct(...e),e)}function ow(){const e=g.useRef(new tw);return hf(()=>()=>e.current.destroy()),e.current}var[iw,x2]=kt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function aw(e){const t=x2(),[n,r]=g.useState(-1),o=g.useRef(null);hf(()=>()=>{o.current&&t.unregister(o.current)},[]),hf(()=>{if(!o.current)return;const c=Number(o.current.dataset.index);n!=c&&!Number.isNaN(c)&&r(c)});const s=tc(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(o.current),register:ct(s,o)}}function nh(){return[tc(iw),()=>tc(x2()),()=>ow(),o=>aw(o)]}var[sw,jc]=kt({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[lw,rh]=kt({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[cw,hL,uw,dw]=nh(),Oi=fe(function(t,n){const{getButtonProps:r}=rh(),o=r(t,n),c={display:"flex",alignItems:"center",width:"100%",outline:0,...jc().button};return l.jsx(ne.button,{...o,className:Ae("chakra-accordion__button",t.className),__css:c})});Oi.displayName="AccordionButton";function oh(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:o=(x,S)=>x!==S}=e,s=Wt(r),c=Wt(o),[u,f]=g.useState(n),p=t!==void 0,h=p?t:u,y=Wt(x=>{const C=typeof x=="function"?x(h):x;c(h,C)&&(p||f(C),s(C))},[p,s,h,c]);return[h,y]}function fw(e){const{onChange:t,defaultIndex:n,index:r,allowMultiple:o,allowToggle:s,...c}=e;mw(e),vw(e);const u=uw(),[f,p]=g.useState(-1);g.useEffect(()=>()=>{p(-1)},[]);const[h,y]=oh({value:r,defaultValue(){return o?n??[]:n??-1},onChange:t});return{index:h,setIndex:y,htmlProps:c,getAccordionItemProps:S=>{let C=!1;return S!==null&&(C=Array.isArray(h)?h.includes(S):h===S),{isOpen:C,onChange:w=>{if(S!==null)if(o&&Array.isArray(h)){const k=w?h.concat(S):h.filter(I=>I!==S);y(k)}else w?y(S):s&&y(-1)}}},focusedIndex:f,setFocusedIndex:p,descendants:u}}var[hw,ih]=kt({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function pw(e){const{isDisabled:t,isFocusable:n,id:r,...o}=e,{getAccordionItemProps:s,setFocusedIndex:c}=ih(),u=g.useRef(null),f=g.useId(),p=r??f,h=`accordion-button-${p}`,y=`accordion-panel-${p}`;gw(e);const{register:x,index:S,descendants:C}=dw({disabled:t&&!n}),{isOpen:j,onChange:w}=s(S===-1?null:S);yw({isOpen:j,isDisabled:t});const k=()=>{w==null||w(!0)},I=()=>{w==null||w(!1)},P=g.useCallback(()=>{w==null||w(!j),c(S)},[S,c,j,w]),M=g.useCallback(R=>{const F={ArrowDown:()=>{const B=C.nextEnabled(S);B==null||B.node.focus()},ArrowUp:()=>{const B=C.prevEnabled(S);B==null||B.node.focus()},Home:()=>{const B=C.firstEnabled();B==null||B.node.focus()},End:()=>{const B=C.lastEnabled();B==null||B.node.focus()}}[R.key];F&&(R.preventDefault(),F(R))},[C,S]),T=g.useCallback(()=>{c(S)},[c,S]),D=g.useCallback(function(V={},F=null){return{...V,type:"button",ref:ct(x,u,F),id:h,disabled:!!t,"aria-expanded":!!j,"aria-controls":y,onClick:Ee(V.onClick,P),onFocus:Ee(V.onFocus,T),onKeyDown:Ee(V.onKeyDown,M)}},[h,t,j,P,T,M,y,x]),_=g.useCallback(function(V={},F=null){return{...V,ref:F,role:"region",id:y,"aria-labelledby":h,hidden:!j}},[h,j,y]);return{isOpen:j,isDisabled:t,isFocusable:n,onOpen:k,onClose:I,getButtonProps:D,getPanelProps:_,htmlProps:o}}function mw(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;os({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function vw(e){os({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function gw(e){os({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function yw(e){os({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function zi(e){const{isOpen:t,isDisabled:n}=rh(),{reduceMotion:r}=ih(),o=Ae("chakra-accordion__icon",e.className),s=jc(),c={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return l.jsx(tn,{viewBox:"0 0 24 24","aria-hidden":!0,className:o,__css:c,...e,children:l.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}zi.displayName="AccordionIcon";var Ri=fe(function(t,n){const{children:r,className:o}=t,{htmlProps:s,...c}=pw(t),f={...jc().container,overflowAnchor:"none"},p=g.useMemo(()=>c,[c]);return l.jsx(lw,{value:p,children:l.jsx(ne.div,{ref:n,...s,className:Ae("chakra-accordion__item",o),__css:f,children:typeof r=="function"?r({isExpanded:!!c.isOpen,isDisabled:!!c.isDisabled}):r})})});Ri.displayName="AccordionItem";var Wo={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},_a={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function pf(e){var t;switch((t=e==null?void 0:e.direction)!=null?t:"right"){case"right":return _a.slideRight;case"left":return _a.slideLeft;case"bottom":return _a.slideDown;case"top":return _a.slideUp;default:return _a.slideRight}}var $o={enter:{duration:.2,ease:Wo.easeOut},exit:{duration:.1,ease:Wo.easeIn}},nr={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},xw=e=>e!=null&&parseInt(e.toString(),10)>0,Jv={exit:{height:{duration:.2,ease:Wo.ease},opacity:{duration:.3,ease:Wo.ease}},enter:{height:{duration:.3,ease:Wo.ease},opacity:{duration:.4,ease:Wo.ease}}},bw={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:xw(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:nr.exit(Jv.exit,o)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:nr.enter(Jv.enter,o)}}},b2=g.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:o=!0,startingHeight:s=0,endingHeight:c="auto",style:u,className:f,transition:p,transitionEnd:h,...y}=e,[x,S]=g.useState(!1);g.useEffect(()=>{const I=setTimeout(()=>{S(!0)});return()=>clearTimeout(I)},[]),os({condition:Boolean(s>0&&r),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const C=parseFloat(s.toString())>0,j={startingHeight:s,endingHeight:c,animateOpacity:o,transition:x?p:{enter:{duration:0}},transitionEnd:{enter:h==null?void 0:h.enter,exit:r?h==null?void 0:h.exit:{...h==null?void 0:h.exit,display:C?"block":"none"}}},w=r?n:!0,k=n||r?"enter":"exit";return l.jsx(xo,{initial:!1,custom:j,children:w&&l.jsx(ar.div,{ref:t,...y,className:Ae("chakra-collapse",f),style:{overflow:"hidden",display:"block",...u},custom:j,variants:bw,initial:r?"exit":!1,animate:k,exit:"exit"})})});b2.displayName="Collapse";var Sw={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:1,transition:(r=e==null?void 0:e.enter)!=null?r:nr.enter($o.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:0,transition:(r=e==null?void 0:e.exit)!=null?r:nr.exit($o.exit,n),transitionEnd:t==null?void 0:t.exit}}},S2={initial:"exit",animate:"enter",exit:"exit",variants:Sw},Cw=g.forwardRef(function(t,n){const{unmountOnExit:r,in:o,className:s,transition:c,transitionEnd:u,delay:f,...p}=t,h=o||r?"enter":"exit",y=r?o&&r:!0,x={transition:c,transitionEnd:u,delay:f};return l.jsx(xo,{custom:x,children:y&&l.jsx(ar.div,{ref:n,className:Ae("chakra-fade",s),custom:x,...S2,animate:h,...p})})});Cw.displayName="Fade";var ww={exit:({reverse:e,initialScale:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,...e?{scale:t,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:t,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:nr.exit($o.exit,o)}},enter:({transitionEnd:e,transition:t,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=t==null?void 0:t.enter)!=null?r:nr.enter($o.enter,n),transitionEnd:e==null?void 0:e.enter}}},C2={initial:"exit",animate:"enter",exit:"exit",variants:ww},jw=g.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,initialScale:c=.95,className:u,transition:f,transitionEnd:p,delay:h,...y}=t,x=r?o&&r:!0,S=o||r?"enter":"exit",C={initialScale:c,reverse:s,transition:f,transitionEnd:p,delay:h};return l.jsx(xo,{custom:C,children:x&&l.jsx(ar.div,{ref:n,className:Ae("chakra-offset-slide",u),...C2,animate:S,custom:C,...y})})});jw.displayName="ScaleFade";var kw={initial:({offsetX:e,offsetY:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,x:e,y:t,transition:(s=n==null?void 0:n.exit)!=null?s:nr.exit($o.exit,o),transitionEnd:r==null?void 0:r.exit}},enter:({transition:e,transitionEnd:t,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=e==null?void 0:e.enter)!=null?r:nr.enter($o.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({offsetY:e,offsetX:t,transition:n,transitionEnd:r,reverse:o,delay:s})=>{var c;const u={x:t,y:e};return{opacity:0,transition:(c=n==null?void 0:n.exit)!=null?c:nr.exit($o.exit,s),...o?{...u,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...u,...r==null?void 0:r.exit}}}}},mf={initial:"initial",animate:"enter",exit:"exit",variants:kw},Ew=g.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,className:c,offsetX:u=0,offsetY:f=8,transition:p,transitionEnd:h,delay:y,...x}=t,S=r?o&&r:!0,C=o||r?"enter":"exit",j={offsetX:u,offsetY:f,reverse:s,transition:p,transitionEnd:h,delay:y};return l.jsx(xo,{custom:j,children:S&&l.jsx(ar.div,{ref:n,className:Ae("chakra-offset-slide",c),custom:j,...mf,animate:C,...x})})});Ew.displayName="SlideFade";var eg={exit:{duration:.15,ease:Wo.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},Pw={exit:({direction:e,transition:t,transitionEnd:n,delay:r})=>{var o;const{exit:s}=pf({direction:e});return{...s,transition:(o=t==null?void 0:t.exit)!=null?o:nr.exit(eg.exit,r),transitionEnd:n==null?void 0:n.exit}},enter:({direction:e,transitionEnd:t,transition:n,delay:r})=>{var o;const{enter:s}=pf({direction:e});return{...s,transition:(o=n==null?void 0:n.enter)!=null?o:nr.enter(eg.enter,r),transitionEnd:t==null?void 0:t.enter}}},w2=g.forwardRef(function(t,n){const{direction:r="right",style:o,unmountOnExit:s,in:c,className:u,transition:f,transitionEnd:p,delay:h,motionProps:y,...x}=t,S=pf({direction:r}),C=Object.assign({position:"fixed"},S.position,o),j=s?c&&s:!0,w=c||s?"enter":"exit",k={transitionEnd:p,transition:f,direction:r,delay:h};return l.jsx(xo,{custom:k,children:j&&l.jsx(ar.div,{...x,ref:n,initial:"exit",className:Ae("chakra-slide",u),animate:w,exit:"exit",custom:k,variants:Pw,style:C,...y})})});w2.displayName="Slide";var Ni=fe(function(t,n){const{className:r,motionProps:o,...s}=t,{reduceMotion:c}=ih(),{getPanelProps:u,isOpen:f}=rh(),p=u(s,n),h=Ae("chakra-accordion__panel",r),y=jc();c||delete p.hidden;const x=l.jsx(ne.div,{...p,__css:y.panel,className:h});return c?x:l.jsx(b2,{in:f,...o,children:x})});Ni.displayName="AccordionPanel";var ah=fe(function({children:t,reduceMotion:n,...r},o){const s=un("Accordion",r),c=At(r),{htmlProps:u,descendants:f,...p}=fw(c),h=g.useMemo(()=>({...p,reduceMotion:!!n}),[p,n]);return l.jsx(cw,{value:f,children:l.jsx(hw,{value:h,children:l.jsx(sw,{value:s,children:l.jsx(ne.div,{ref:o,...u,className:Ae("chakra-accordion",r.className),__css:s.root,children:t})})})})});ah.displayName="Accordion";var vf=fe(function(t,n){const{htmlWidth:r,htmlHeight:o,alt:s,...c}=t;return l.jsx("img",{width:r,height:o,ref:n,alt:s,...c})});vf.displayName="NativeImage";function Iw(e){const{loading:t,src:n,srcSet:r,onLoad:o,onError:s,crossOrigin:c,sizes:u,ignoreFallback:f}=e,[p,h]=g.useState("pending");g.useEffect(()=>{h(n?"loading":"pending")},[n]);const y=g.useRef(),x=g.useCallback(()=>{if(!n)return;S();const C=new Image;C.src=n,c&&(C.crossOrigin=c),r&&(C.srcset=r),u&&(C.sizes=u),t&&(C.loading=t),C.onload=j=>{S(),h("loaded"),o==null||o(j)},C.onerror=j=>{S(),h("failed"),s==null||s(j)},y.current=C},[n,c,r,u,o,s,t]),S=()=>{y.current&&(y.current.onload=null,y.current.onerror=null,y.current=null)};return Wi(()=>{if(!f)return p==="loading"&&x(),()=>{S()}},[p,x,f]),f?"loaded":p}var Mw=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError";function Tw(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var Xo=fe(function(t,n){const{fallbackSrc:r,fallback:o,src:s,srcSet:c,align:u,fit:f,loading:p,ignoreFallback:h,crossOrigin:y,fallbackStrategy:x="beforeLoadOrError",referrerPolicy:S,...C}=t,j=r!==void 0||o!==void 0,w=p!=null||h||!j,k=Iw({...t,ignoreFallback:w}),I=Mw(k,x),P={ref:n,objectFit:f,objectPosition:u,...w?C:Tw(C,["onError","onLoad"])};return I?o||l.jsx(ne.img,{as:vf,className:"chakra-image__placeholder",src:r,...P}):l.jsx(ne.img,{as:vf,src:s,srcSet:c,crossOrigin:y,loading:p,referrerPolicy:S,className:"chakra-image",...P})});Xo.displayName="Image";function sh(e){return g.Children.toArray(e).filter(t=>g.isValidElement(t))}var[_w,Dw]=kt({strict:!1,name:"ButtonGroupContext"}),Aw={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},Ow={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},Qt=fe(function(t,n){const{size:r,colorScheme:o,variant:s,className:c,spacing:u="0.5rem",isAttached:f,isDisabled:p,orientation:h="horizontal",...y}=t,x=Ae("chakra-button__group",c),S=g.useMemo(()=>({size:r,colorScheme:o,variant:s,isDisabled:p}),[r,o,s,p]);let C={display:"inline-flex",...f?Aw[h]:Ow[h](u)};const j=h==="vertical";return l.jsx(_w,{value:S,children:l.jsx(ne.div,{ref:n,role:"group",__css:C,className:x,"data-attached":f?"":void 0,"data-orientation":h,flexDir:j?"column":void 0,...y})})});Qt.displayName="ButtonGroup";function zw(e){const[t,n]=g.useState(!e);return{ref:g.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:t?"button":void 0}}function gf(e){const{children:t,className:n,...r}=e,o=g.isValidElement(t)?g.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,s=Ae("chakra-button__icon",n);return l.jsx(ne.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:o})}gf.displayName="ButtonIcon";function nc(e){const{label:t,placement:n,spacing:r="0.5rem",children:o=l.jsx(xc,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:c,...u}=e,f=Ae("chakra-button__spinner",s),p=n==="start"?"marginEnd":"marginStart",h=g.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[p]:t?r:0,fontSize:"1em",lineHeight:"normal",...c}),[c,t,p,r]);return l.jsx(ne.div,{className:f,...u,__css:h,children:o})}nc.displayName="ButtonSpinner";var ri=fe((e,t)=>{const n=Dw(),r=yo("Button",{...n,...e}),{isDisabled:o=n==null?void 0:n.isDisabled,isLoading:s,isActive:c,children:u,leftIcon:f,rightIcon:p,loadingText:h,iconSpacing:y="0.5rem",type:x,spinner:S,spinnerPlacement:C="start",className:j,as:w,...k}=At(e),I=g.useMemo(()=>{const D={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:D}}},[r,n]),{ref:P,type:M}=zw(w),T={rightIcon:p,leftIcon:f,iconSpacing:y,children:u};return l.jsxs(ne.button,{ref:rw(t,P),as:w,type:x??M,"data-active":qe(c),"data-loading":qe(s),__css:I,className:Ae("chakra-button",j),...k,disabled:o||s,children:[s&&C==="start"&&l.jsx(nc,{className:"chakra-button__spinner--start",label:h,placement:"start",spacing:y,children:S}),s?h||l.jsx(ne.span,{opacity:0,children:l.jsx(tg,{...T})}):l.jsx(tg,{...T}),s&&C==="end"&&l.jsx(nc,{className:"chakra-button__spinner--end",label:h,placement:"end",spacing:y,children:S})]})});ri.displayName="Button";function tg(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:o}=e;return l.jsxs(l.Fragment,{children:[t&&l.jsx(gf,{marginEnd:o,children:t}),r,n&&l.jsx(gf,{marginStart:o,children:n})]})}var ho=fe((e,t)=>{const{icon:n,children:r,isRound:o,"aria-label":s,...c}=e,u=n||r,f=g.isValidElement(u)?g.cloneElement(u,{"aria-hidden":!0,focusable:!1}):null;return l.jsx(ri,{padding:"0",borderRadius:o?"full":void 0,ref:t,"aria-label":s,...c,children:f})});ho.displayName="IconButton";var[pL,Rw]=kt({name:"CheckboxGroupContext",strict:!1});function Nw(e){return l.jsx(ne.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:l.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Fw(e){return l.jsx(ne.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:l.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Lw(e){const{isIndeterminate:t,isChecked:n,...r}=e,o=t?Fw:Nw;return n||t?l.jsx(ne.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l.jsx(o,{...r})}):null}var[Bw,j2]=kt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Hw,oi]=kt({strict:!1,name:"FormControlContext"});function Ww(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:o,isReadOnly:s,...c}=e,u=g.useId(),f=t||`field-${u}`,p=`${f}-label`,h=`${f}-feedback`,y=`${f}-helptext`,[x,S]=g.useState(!1),[C,j]=g.useState(!1),[w,k]=g.useState(!1),I=g.useCallback((_={},R=null)=>({id:y,..._,ref:ct(R,V=>{V&&j(!0)})}),[y]),P=g.useCallback((_={},R=null)=>{var V,F;return{..._,ref:R,"data-focus":qe(w),"data-disabled":qe(o),"data-invalid":qe(r),"data-readonly":qe(s),id:(V=_.id)!=null?V:p,htmlFor:(F=_.htmlFor)!=null?F:f}},[f,o,w,r,s,p]),M=g.useCallback((_={},R=null)=>({id:h,..._,ref:ct(R,V=>{V&&S(!0)}),"aria-live":"polite"}),[h]),T=g.useCallback((_={},R=null)=>({..._,...c,ref:R,role:"group"}),[c]),D=g.useCallback((_={},R=null)=>({..._,ref:R,role:"presentation","aria-hidden":!0,children:_.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!o,isFocused:!!w,onFocus:()=>k(!0),onBlur:()=>k(!1),hasFeedbackText:x,setHasFeedbackText:S,hasHelpText:C,setHasHelpText:j,id:f,labelId:p,feedbackId:h,helpTextId:y,htmlProps:c,getHelpTextProps:I,getErrorMessageProps:M,getRootProps:T,getLabelProps:P,getRequiredIndicatorProps:D}}var rt=fe(function(t,n){const r=un("Form",t),o=At(t),{getRootProps:s,htmlProps:c,...u}=Ww(o),f=Ae("chakra-form-control",t.className);return l.jsx(Hw,{value:u,children:l.jsx(Bw,{value:r,children:l.jsx(ne.div,{...s({},n),className:f,__css:r.container})})})});rt.displayName="FormControl";var pn=fe(function(t,n){const r=oi(),o=j2(),s=Ae("chakra-form__helper-text",t.className);return l.jsx(ne.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:o.helperText,className:s})});pn.displayName="FormHelperText";var[Vw,Uw]=kt({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),mn=fe((e,t)=>{const n=un("FormError",e),r=At(e),o=oi();return o!=null&&o.isInvalid?l.jsx(Vw,{value:n,children:l.jsx(ne.div,{...o==null?void 0:o.getErrorMessageProps(r,t),className:Ae("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...n.text}})}):null});mn.displayName="FormErrorMessage";var $w=fe((e,t)=>{const n=Uw(),r=oi();if(!(r!=null&&r.isInvalid))return null;const o=Ae("chakra-form__error-icon",e.className);return l.jsx(tn,{ref:t,"aria-hidden":!0,...e,__css:n.icon,className:o,children:l.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});$w.displayName="FormErrorIcon";var st=fe(function(t,n){var r;const o=yo("FormLabel",t),s=At(t),{className:c,children:u,requiredIndicator:f=l.jsx(k2,{}),optionalIndicator:p=null,...h}=s,y=oi(),x=(r=y==null?void 0:y.getLabelProps(h,n))!=null?r:{ref:n,...h};return l.jsxs(ne.label,{...x,className:Ae("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...o},children:[u,y!=null&&y.isRequired?f:p]})});st.displayName="FormLabel";var k2=fe(function(t,n){const r=oi(),o=j2();if(!(r!=null&&r.isRequired))return null;const s=Ae("chakra-form__required-indicator",t.className);return l.jsx(ne.span,{...r==null?void 0:r.getRequiredIndicatorProps(t,n),__css:o.requiredIndicator,className:s})});k2.displayName="RequiredIndicator";function lh(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:o,...s}=ch(e);return{...s,disabled:t,readOnly:r,required:o,"aria-invalid":Nr(n),"aria-required":Nr(o),"aria-readonly":Nr(r)}}function ch(e){var t,n,r;const o=oi(),{id:s,disabled:c,readOnly:u,required:f,isRequired:p,isInvalid:h,isReadOnly:y,isDisabled:x,onFocus:S,onBlur:C,...j}=e,w=e["aria-describedby"]?[e["aria-describedby"]]:[];return o!=null&&o.hasFeedbackText&&(o!=null&&o.isInvalid)&&w.push(o.feedbackId),o!=null&&o.hasHelpText&&w.push(o.helpTextId),{...j,"aria-describedby":w.join(" ")||void 0,id:s??(o==null?void 0:o.id),isDisabled:(t=c??x)!=null?t:o==null?void 0:o.isDisabled,isReadOnly:(n=u??y)!=null?n:o==null?void 0:o.isReadOnly,isRequired:(r=f??p)!=null?r:o==null?void 0:o.isRequired,isInvalid:h??(o==null?void 0:o.isInvalid),onFocus:Ee(o==null?void 0:o.onFocus,S),onBlur:Ee(o==null?void 0:o.onBlur,C)}}var uh={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},E2=ne("span",{baseStyle:uh});E2.displayName="VisuallyHidden";var Gw=ne("input",{baseStyle:uh});Gw.displayName="VisuallyHiddenInput";var ng=!1,ds=null,Qo=!1,yf=!1,xf=new Set;function dh(e,t){xf.forEach(n=>n(e,t))}var qw=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function Yw(e){return!(e.metaKey||!qw&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function rg(e){Qo=!0,Yw(e)&&(ds="keyboard",dh("keyboard",e))}function ji(e){if(ds="pointer",e.type==="mousedown"||e.type==="pointerdown"){Qo=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;dh("pointer",e)}}function Kw(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Xw(e){Kw(e)&&(Qo=!0,ds="virtual")}function Qw(e){e.target===window||e.target===document||(!Qo&&!yf&&(ds="virtual",dh("virtual",e)),Qo=!1,yf=!1)}function Zw(){Qo=!1,yf=!0}function og(){return ds!=="pointer"}function Jw(){if(typeof window>"u"||ng)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){Qo=!0,e.apply(this,n)},document.addEventListener("keydown",rg,!0),document.addEventListener("keyup",rg,!0),document.addEventListener("click",Xw,!0),window.addEventListener("focus",Qw,!0),window.addEventListener("blur",Zw,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",ji,!0),document.addEventListener("pointermove",ji,!0),document.addEventListener("pointerup",ji,!0)):(document.addEventListener("mousedown",ji,!0),document.addEventListener("mousemove",ji,!0),document.addEventListener("mouseup",ji,!0)),ng=!0}function P2(e){Jw(),e(og());const t=()=>e(og());return xf.add(t),()=>{xf.delete(t)}}function e5(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function I2(e={}){const t=ch(e),{isDisabled:n,isReadOnly:r,isRequired:o,isInvalid:s,id:c,onBlur:u,onFocus:f,"aria-describedby":p}=t,{defaultChecked:h,isChecked:y,isFocusable:x,onChange:S,isIndeterminate:C,name:j,value:w,tabIndex:k=void 0,"aria-label":I,"aria-labelledby":P,"aria-invalid":M,...T}=e,D=e5(T,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),_=Wt(S),R=Wt(u),V=Wt(f),[F,B]=g.useState(!1),[Q,U]=g.useState(!1),[X,te]=g.useState(!1),[re,$]=g.useState(!1);g.useEffect(()=>P2(B),[]);const Z=g.useRef(null),[oe,le]=g.useState(!0),[ze,Re]=g.useState(!!h),Ie=y!==void 0,pe=Ie?y:ze,ce=g.useCallback(ye=>{if(r||n){ye.preventDefault();return}Ie||Re(pe?ye.target.checked:C?!0:ye.target.checked),_==null||_(ye)},[r,n,pe,Ie,C,_]);Wi(()=>{Z.current&&(Z.current.indeterminate=Boolean(C))},[C]),ni(()=>{n&&U(!1)},[n,U]),Wi(()=>{const ye=Z.current;ye!=null&&ye.form&&(ye.form.onreset=()=>{Re(!!h)})},[]);const Ne=n&&!x,Ve=g.useCallback(ye=>{ye.key===" "&&$(!0)},[$]),Ue=g.useCallback(ye=>{ye.key===" "&&$(!1)},[$]);Wi(()=>{if(!Z.current)return;Z.current.checked!==pe&&Re(Z.current.checked)},[Z.current]);const $e=g.useCallback((ye={},Pe=null)=>{const et=Be=>{Q&&Be.preventDefault(),$(!0)};return{...ye,ref:Pe,"data-active":qe(re),"data-hover":qe(X),"data-checked":qe(pe),"data-focus":qe(Q),"data-focus-visible":qe(Q&&F),"data-indeterminate":qe(C),"data-disabled":qe(n),"data-invalid":qe(s),"data-readonly":qe(r),"aria-hidden":!0,onMouseDown:Ee(ye.onMouseDown,et),onMouseUp:Ee(ye.onMouseUp,()=>$(!1)),onMouseEnter:Ee(ye.onMouseEnter,()=>te(!0)),onMouseLeave:Ee(ye.onMouseLeave,()=>te(!1))}},[re,pe,n,Q,F,X,C,s,r]),Ze=g.useCallback((ye={},Pe=null)=>({...D,...ye,ref:ct(Pe,et=>{et&&le(et.tagName==="LABEL")}),onClick:Ee(ye.onClick,()=>{var et;oe||((et=Z.current)==null||et.click(),requestAnimationFrame(()=>{var Be;(Be=Z.current)==null||Be.focus()}))}),"data-disabled":qe(n),"data-checked":qe(pe),"data-invalid":qe(s)}),[D,n,pe,s,oe]),ve=g.useCallback((ye={},Pe=null)=>({...ye,ref:ct(Z,Pe),type:"checkbox",name:j,value:w,id:c,tabIndex:k,onChange:Ee(ye.onChange,ce),onBlur:Ee(ye.onBlur,R,()=>U(!1)),onFocus:Ee(ye.onFocus,V,()=>U(!0)),onKeyDown:Ee(ye.onKeyDown,Ve),onKeyUp:Ee(ye.onKeyUp,Ue),required:o,checked:pe,disabled:Ne,readOnly:r,"aria-label":I,"aria-labelledby":P,"aria-invalid":M?Boolean(M):s,"aria-describedby":p,"aria-disabled":n,style:uh}),[j,w,c,ce,R,V,Ve,Ue,o,pe,Ne,r,I,P,M,s,p,n,k]),Te=g.useCallback((ye={},Pe=null)=>({...ye,ref:Pe,onMouseDown:Ee(ye.onMouseDown,ig),onTouchStart:Ee(ye.onTouchStart,ig),"data-disabled":qe(n),"data-checked":qe(pe),"data-invalid":qe(s)}),[pe,n,s]);return{state:{isInvalid:s,isFocused:Q,isChecked:pe,isActive:re,isHovered:X,isIndeterminate:C,isDisabled:n,isReadOnly:r,isRequired:o},getRootProps:Ze,getCheckboxProps:$e,getInputProps:ve,getLabelProps:Te,htmlProps:D}}function ig(e){e.preventDefault(),e.stopPropagation()}var t5={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},n5={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},r5=ti({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),o5=ti({from:{opacity:0},to:{opacity:1}}),i5=ti({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),M2=fe(function(t,n){const r=Rw(),o={...r,...t},s=un("Checkbox",o),c=At(t),{spacing:u="0.5rem",className:f,children:p,iconColor:h,iconSize:y,icon:x=l.jsx(Lw,{}),isChecked:S,isDisabled:C=r==null?void 0:r.isDisabled,onChange:j,inputProps:w,...k}=c;let I=S;r!=null&&r.value&&c.value&&(I=r.value.includes(c.value));let P=j;r!=null&&r.onChange&&c.value&&(P=bc(r.onChange,j));const{state:M,getInputProps:T,getCheckboxProps:D,getLabelProps:_,getRootProps:R}=I2({...k,isDisabled:C,isChecked:I,onChange:P}),V=g.useMemo(()=>({animation:M.isIndeterminate?`${o5} 20ms linear, ${i5} 200ms linear`:`${r5} 200ms linear`,fontSize:y,color:h,...s.icon}),[h,y,,M.isIndeterminate,s.icon]),F=g.cloneElement(x,{__css:V,isIndeterminate:M.isIndeterminate,isChecked:M.isChecked});return l.jsxs(ne.label,{__css:{...n5,...s.container},className:Ae("chakra-checkbox",f),...R(),children:[l.jsx("input",{className:"chakra-checkbox__input",...T(w,n)}),l.jsx(ne.span,{__css:{...t5,...s.control},className:"chakra-checkbox__control",...D(),children:F}),p&&l.jsx(ne.span,{className:"chakra-checkbox__label",..._(),__css:{marginStart:u,...s.label},children:p})]})});M2.displayName="Checkbox";function a5(e){const t=parseFloat(e);return typeof t!="number"||Number.isNaN(t)?0:t}function fh(e,t){let n=a5(e);const r=10**(t??10);return n=Math.round(n*r)/r,t?n.toFixed(t):n.toString()}function bf(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function ag(e,t,n){return(e-t)*100/(n-t)}function s5(e,t,n){return(n-t)*e+t}function sg(e,t,n){const r=Math.round((e-t)/n)*n+t,o=bf(n);return fh(r,o)}function Wl(e,t,n){return e==null?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}function l5(e={}){const{onChange:t,precision:n,defaultValue:r,value:o,step:s=1,min:c=Number.MIN_SAFE_INTEGER,max:u=Number.MAX_SAFE_INTEGER,keepWithinRange:f=!0}=e,p=Wt(t),[h,y]=g.useState(()=>{var F;return r==null?"":(F=yd(r,s,n))!=null?F:""}),x=typeof o<"u",S=x?o:h,C=T2(io(S),s),j=n??C,w=g.useCallback(F=>{F!==S&&(x||y(F.toString()),p==null||p(F.toString(),io(F)))},[p,x,S]),k=g.useCallback(F=>{let B=F;return f&&(B=Wl(B,c,u)),fh(B,j)},[j,f,u,c]),I=g.useCallback((F=s)=>{let B;S===""?B=io(F):B=io(S)+F,B=k(B),w(B)},[k,s,w,S]),P=g.useCallback((F=s)=>{let B;S===""?B=io(-F):B=io(S)-F,B=k(B),w(B)},[k,s,w,S]),M=g.useCallback(()=>{var F;let B;r==null?B="":B=(F=yd(r,s,n))!=null?F:c,w(B)},[r,n,s,w,c]),T=g.useCallback(F=>{var B;const Q=(B=yd(F,s,j))!=null?B:c;w(Q)},[j,s,w,c]),D=io(S);return{isOutOfRange:D>u||D<c,isAtMax:D===u,isAtMin:D===c,precision:j,value:S,valueAsNumber:D,update:w,reset:M,increment:I,decrement:P,clamp:k,cast:T,setValue:y}}function io(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function T2(e,t){return Math.max(bf(t),bf(e))}function yd(e,t,n){const r=io(e);if(Number.isNaN(r))return;const o=T2(r,t);return fh(r,n??o)}function Go(e,t,n,r){const o=Wt(n);return g.useEffect(()=>{const s=typeof e=="function"?e():e??document;if(!(!n||!s))return s.addEventListener(t,o,r),()=>{s.removeEventListener(t,o,r)}},[t,e,r,o,n]),()=>{const s=typeof e=="function"?e():e??document;s==null||s.removeEventListener(t,o,r)}}function c5(e){return"current"in e}var _2=()=>typeof window<"u";function u5(){var e;const t=navigator.userAgentData;return(e=t==null?void 0:t.platform)!=null?e:navigator.platform}var d5=e=>_2()&&e.test(navigator.vendor),f5=e=>_2()&&e.test(u5()),h5=()=>f5(/mac|iphone|ipad|ipod/i),p5=()=>h5()&&d5(/apple/i);function m5(e){const{ref:t,elements:n,enabled:r}=e,o=()=>{var s,c;return(c=(s=t.current)==null?void 0:s.ownerDocument)!=null?c:document};Go(o,"pointerdown",s=>{if(!p5()||!r)return;const c=s.target,f=(n??[t]).some(p=>{const h=c5(p)?p.current:p;return(h==null?void 0:h.contains(c))||h===c});o().activeElement!==c&&f&&(s.preventDefault(),c.focus())})}var lt={},v5={get exports(){return lt},set exports(e){lt=e}},g5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y5=g5,x5=y5;function D2(){}function A2(){}A2.resetWarningCache=D2;var b5=function(){function e(r,o,s,c,u,f){if(f!==x5){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A2,resetWarningCache:D2};return n.PropTypes=n,n};v5.exports=b5();var Sf="data-focus-lock",O2="data-focus-lock-disabled",S5="data-no-focus-lock",C5="data-autofocus-inside",w5="data-no-autofocus";function j5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k5(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function z2(e,t){return k5(t||null,function(n){return e.forEach(function(r){return j5(r,n)})})}var xd={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},xr=function(){return xr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xr.apply(this,arguments)};function R2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ra(e,t,n,r){function o(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function u(h){try{p(r.next(h))}catch(y){c(y)}}function f(h){try{p(r.throw(h))}catch(y){c(y)}}function p(h){h.done?s(h.value):o(h.value).then(u,f)}p((r=r.apply(e,t||[])).next())})}function oa(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(h){return f([p,h])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(h){p=[6,h],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function lg(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],c;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return s}function Cf(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function N2(e){return e}function F2(e,t){t===void 0&&(t=N2);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var c=t(s,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(r=!0;n.length;){var c=n;n=[],c.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(s),c=n}var f=function(){var h=c;c=[],h.forEach(s)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(h){c.push(h),p()},filter:function(h){return c=c.filter(h),n}}}};return o}function hh(e,t){return t===void 0&&(t=N2),F2(e,t)}function L2(e){e===void 0&&(e={});var t=F2(null);return t.options=xr({async:!0,ssr:!1},e),t}var B2=function(e){var t=e.sideCar,n=R2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,xr({},n))};B2.isSideCarExport=!0;function E5(e,t){return e.useMedium(t),B2}var H2=hh({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),W2=hh(),P5=hh(),I5=L2({async:!0}),M5=[],ph=g.forwardRef(function(t,n){var r,o=g.useState(),s=o[0],c=o[1],u=g.useRef(),f=g.useRef(!1),p=g.useRef(null),h=t.children,y=t.disabled,x=t.noFocusGuards,S=t.persistentFocus,C=t.crossFrame,j=t.autoFocus;t.allowTextSelection;var w=t.group,k=t.className,I=t.whiteList,P=t.hasPositiveIndices,M=t.shards,T=M===void 0?M5:M,D=t.as,_=D===void 0?"div":D,R=t.lockProps,V=R===void 0?{}:R,F=t.sideCar,B=t.returnFocus,Q=t.focusOptions,U=t.onActivation,X=t.onDeactivation,te=g.useState({}),re=te[0],$=g.useCallback(function(){p.current=p.current||document&&document.activeElement,u.current&&U&&U(u.current),f.current=!0},[U]),Z=g.useCallback(function(){f.current=!1,X&&X(u.current)},[X]);g.useEffect(function(){y||(p.current=null)},[]);var oe=g.useCallback(function(Ve){var Ue=p.current;if(Ue&&Ue.focus){var $e=typeof B=="function"?B(Ue):B;if($e){var Ze=typeof $e=="object"?$e:void 0;p.current=null,Ve?Promise.resolve().then(function(){return Ue.focus(Ze)}):Ue.focus(Ze)}}},[B]),le=g.useCallback(function(Ve){f.current&&H2.useMedium(Ve)},[]),ze=W2.useMedium,Re=g.useCallback(function(Ve){u.current!==Ve&&(u.current=Ve,c(Ve))},[]),Ie=Qd((r={},r[O2]=y&&"disabled",r[Sf]=w,r),V),pe=x!==!0,ce=pe&&x!=="tail",Ne=z2([n,Re]);return g.createElement(g.Fragment,null,pe&&[g.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:y?-1:0,style:xd}),P?g.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:y?-1:1,style:xd}):null],!y&&g.createElement(F,{id:re,sideCar:I5,observed:s,disabled:y,persistentFocus:S,crossFrame:C,autoFocus:j,whiteList:I,shards:T,onActivation:$,onDeactivation:Z,returnFocus:oe,focusOptions:Q}),g.createElement(_,Qd({ref:Ne},Ie,{className:k,onBlur:ze,onFocus:le}),h),ce&&g.createElement("div",{"data-focus-guard":!0,tabIndex:y?-1:0,style:xd}))});ph.propTypes={};ph.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const V2=ph;function T5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,WS(e,t)}function _5(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var s=[],c;function u(){c=e(s.map(function(p){return p.props})),t(c)}var f=function(p){T5(h,p);function h(){return p.apply(this,arguments)||this}h.peek=function(){return c};var y=h.prototype;return y.componentDidMount=function(){s.push(this),u()},y.componentDidUpdate=function(){u()},y.componentWillUnmount=function(){var S=s.indexOf(this);s.splice(S,1),u()},y.render=function(){return Me.createElement(o,this.props)},h}(g.PureComponent);return VS(f,"displayName","SideEffect("+n(o)+")"),f}}var Er=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},rc=function(e){return Array.isArray(e)?e:[e]},U2=function(e){return Array.isArray(e)?e[0]:e},D5=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},$2=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},G2=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},A5=function(e,t){return!e||G2(e)||!D5(e)&&t($2(e))},q2=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=A5(t,q2.bind(void 0,e));return e.set(t,r),r},O5=function(e,t){return e&&!G2(e)?N5(e)?t($2(e)):!1:!0},Y2=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=O5(t,Y2.bind(void 0,e));return e.set(t,r),r},K2=function(e){return e.dataset},z5=function(e){return e.tagName==="BUTTON"},X2=function(e){return e.tagName==="INPUT"},Q2=function(e){return X2(e)&&e.type==="radio"},R5=function(e){return!((X2(e)||z5(e))&&(e.type==="hidden"||e.disabled))},N5=function(e){var t=e.getAttribute(w5);return![!0,"true",""].includes(t)},mh=function(e){var t;return Boolean(e&&((t=K2(e))===null||t===void 0?void 0:t.focusGuard))},oc=function(e){return!mh(e)},F5=function(e){return Boolean(e)},L5=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},Z2=function(e,t,n){return Er(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(L5)},B5=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],vh=B5.join(","),H5="".concat(vh,", [data-focus-guard]"),J2=function(e,t){return Er((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?H5:vh)?[r]:[],J2(r))},[])},W5=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?kc([e.contentDocument.body],t):[e]},kc=function(e,t){return e.reduce(function(n,r){var o,s=J2(r,t),c=(o=[]).concat.apply(o,s.map(function(u){return W5(u,t)}));return n.concat(c,r.parentNode?Er(r.parentNode.querySelectorAll(vh)).filter(function(u){return u===r}):[])},[])},V5=function(e){var t=e.querySelectorAll("[".concat(C5,"]"));return Er(t).map(function(n){return kc([n])}).reduce(function(n,r){return n.concat(r)},[])},gh=function(e,t){return Er(e).filter(function(n){return q2(t,n)}).filter(function(n){return R5(n)})},cg=function(e,t){return t===void 0&&(t=new Map),Er(e).filter(function(n){return Y2(t,n)})},wf=function(e,t,n){return Z2(gh(kc(e,n),t),!0,n)},ug=function(e,t){return Z2(gh(kc(e),t),!1)},U5=function(e,t){return gh(V5(e),t)},Ui=function(e,t){return e.shadowRoot?Ui(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Er(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Ui(o,t):!1}return Ui(n,t)})},$5=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var s=e[r].compareDocumentPosition(e[o]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(c,u){return!t.has(u)})},ey=function(e){return e.parentNode?ey(e.parentNode):e},yh=function(e){var t=rc(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(Sf);return n.push.apply(n,o?$5(Er(ey(r).querySelectorAll("[".concat(Sf,'="').concat(o,'"]:not([').concat(O2,'="disabled"])')))):[r]),n},[])},G5=function(e){try{return e()}catch{return}},Ka=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Ka(t.shadowRoot):t instanceof HTMLIFrameElement&&G5(function(){return t.contentWindow.document})?Ka(t.contentWindow.document):t}},q5=function(e,t){return e===t},Y5=function(e,t){return Boolean(Er(e.querySelectorAll("iframe")).some(function(n){return q5(n,t)}))},ty=function(e,t){return t===void 0&&(t=Ka(U2(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:yh(e).some(function(n){return Ui(n,t)||Y5(n,t)})},K5=function(e){e===void 0&&(e=document);var t=Ka(e);return t?Er(e.querySelectorAll("[".concat(S5,"]"))).some(function(n){return Ui(n,t)}):!1},X5=function(e,t){return t.filter(Q2).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},xh=function(e,t){return Q2(e)&&e.name?X5(e,t):e},Q5=function(e){var t=new Set;return e.forEach(function(n){return t.add(xh(n,e))}),e.filter(function(n){return t.has(n)})},dg=function(e){return e[0]&&e.length>1?xh(e[0],e):e[0]},fg=function(e,t){return e.length>1?e.indexOf(xh(e[t],e)):t},ny="NEW_FOCUS",Z5=function(e,t,n,r){var o=e.length,s=e[0],c=e[o-1],u=mh(n);if(!(n&&e.indexOf(n)>=0)){var f=n!==void 0?t.indexOf(n):-1,p=r?t.indexOf(r):f,h=r?e.indexOf(r):-1,y=f-p,x=t.indexOf(s),S=t.indexOf(c),C=Q5(t),j=n!==void 0?C.indexOf(n):-1,w=j-(r?C.indexOf(r):f),k=fg(e,0),I=fg(e,o-1);if(f===-1||h===-1)return ny;if(!y&&h>=0)return h;if(f<=x&&u&&Math.abs(y)>1)return I;if(f>=S&&u&&Math.abs(y)>1)return k;if(y&&Math.abs(w)>1)return h;if(f<=x)return I;if(f>S)return k;if(y)return Math.abs(y)>1?h:(o+h+y)%o}},J5=function(e){return function(t){var n,r=(n=K2(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},e6=function(e,t,n){var r=e.map(function(s){var c=s.node;return c}),o=cg(r.filter(J5(n)));return o&&o.length?dg(o):dg(cg(t))},jf=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&jf(e.parentNode.host||e.parentNode,t),t},bd=function(e,t){for(var n=jf(e),r=jf(t),o=0;o<n.length;o+=1){var s=n[o];if(r.indexOf(s)>=0)return s}return!1},ry=function(e,t,n){var r=rc(e),o=rc(t),s=r[0],c=!1;return o.filter(Boolean).forEach(function(u){c=bd(c||u,u)||c,n.filter(Boolean).forEach(function(f){var p=bd(s,f);p&&(!c||Ui(p,c)?c=p:c=bd(p,c))})}),c},t6=function(e,t){return e.reduce(function(n,r){return n.concat(U5(r,t))},[])},n6=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(F5)},r6=function(e,t){var n=Ka(rc(e).length>0?document:U2(e).ownerDocument),r=yh(e).filter(oc),o=ry(n||e,e,r),s=new Map,c=ug(r,s),u=wf(r,s).filter(function(S){var C=S.node;return oc(C)});if(!(!u[0]&&(u=c,!u[0]))){var f=ug([o],s).map(function(S){var C=S.node;return C}),p=n6(f,u),h=p.map(function(S){var C=S.node;return C}),y=Z5(h,f,n,t);if(y===ny){var x=e6(c,h,t6(r,s));if(x)return{node:x};console.warn("focus-lock: cannot find any node to move focus into");return}return y===void 0?y:p[y]}},o6=function(e){var t=yh(e).filter(oc),n=ry(e,e,t),r=new Map,o=wf([n],r,!0),s=wf(t,r).filter(function(c){var u=c.node;return oc(u)}).map(function(c){var u=c.node;return u});return o.map(function(c){var u=c.node,f=c.index;return{node:u,index:f,lockItem:s.indexOf(u)>=0,guard:mh(u)}})},i6=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},Sd=0,Cd=!1,oy=function(e,t,n){n===void 0&&(n={});var r=r6(e,t);if(!Cd&&r){if(Sd>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Cd=!0,setTimeout(function(){Cd=!1},1);return}Sd++,i6(r.node,n.focusOptions),Sd--}};function iy(e){var t=window,n=t.setImmediate;typeof n<"u"?n(e):setTimeout(e,1)}var a6=function(){return document&&document.activeElement===document.body},s6=function(){return a6()||K5()},$i=null,Fi=null,Gi=null,Xa=!1,l6=function(){return!0},c6=function(t){return($i.whiteList||l6)(t)},u6=function(t,n){Gi={observerNode:t,portaledElement:n}},d6=function(t){return Gi&&Gi.portaledElement===t};function hg(e,t,n,r){var o=null,s=e;do{var c=r[s];if(c.guard)c.node.dataset.focusAutoGuard&&(o=c);else if(c.lockItem){if(s!==e)return;o=null}else break}while((s+=n)!==t);o&&(o.node.tabIndex=0)}var f6=function(t){return t&&"current"in t?t.current:t},h6=function(t){return t?Boolean(Xa):Xa==="meanwhile"},p6=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},m6=function(t,n){return n.some(function(r){return p6(t,r,r)})},ic=function(){var t=!1;if($i){var n=$i,r=n.observed,o=n.persistentFocus,s=n.autoFocus,c=n.shards,u=n.crossFrame,f=n.focusOptions,p=r||Gi&&Gi.portaledElement,h=document&&document.activeElement;if(p){var y=[p].concat(c.map(f6).filter(Boolean));if((!h||c6(h))&&(o||h6(u)||!s6()||!Fi&&s)&&(p&&!(ty(y)||h&&m6(h,y)||d6(h))&&(document&&!Fi&&h&&!s?(h.blur&&h.blur(),document.body.focus()):(t=oy(y,Fi,{focusOptions:f}),Gi={})),Xa=!1,Fi=document&&document.activeElement),document){var x=document&&document.activeElement,S=o6(y),C=S.map(function(j){var w=j.node;return w}).indexOf(x);C>-1&&(S.filter(function(j){var w=j.guard,k=j.node;return w&&k.dataset.focusAutoGuard}).forEach(function(j){var w=j.node;return w.removeAttribute("tabIndex")}),hg(C,S.length,1,S),hg(C,-1,-1,S))}}}return t},ay=function(t){ic()&&t&&(t.stopPropagation(),t.preventDefault())},bh=function(){return iy(ic)},v6=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||u6(r,n)},g6=function(){return null},sy=function(){Xa="just",setTimeout(function(){Xa="meanwhile"},0)},y6=function(){document.addEventListener("focusin",ay),document.addEventListener("focusout",bh),window.addEventListener("blur",sy)},x6=function(){document.removeEventListener("focusin",ay),document.removeEventListener("focusout",bh),window.removeEventListener("blur",sy)};function b6(e){return e.filter(function(t){var n=t.disabled;return!n})}function S6(e){var t=e.slice(-1)[0];t&&!$i&&y6();var n=$i,r=n&&t&&t.id===n.id;$i=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var s=o.id;return s===n.id}).length||n.returnFocus(!t)),t?(Fi=null,(!r||n.observed!==t.observed)&&t.onActivation(),ic(),iy(ic)):(x6(),Fi=null)}H2.assignSyncMedium(v6);W2.assignMedium(bh);P5.assignMedium(function(e){return e({moveFocusInside:oy,focusInside:ty})});const C6=_5(b6,S6)(g6);var ly=g.forwardRef(function(t,n){return g.createElement(V2,Qd({sideCar:C6,ref:n},t))}),cy=V2.propTypes||{};cy.sideCar;OC(cy,["sideCar"]);ly.propTypes={};const pg=ly;function uy(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function dy(e){var t;if(!uy(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function w6(e){var t,n;return(n=(t=fy(e))==null?void 0:t.defaultView)!=null?n:window}function fy(e){return uy(e)?e.ownerDocument:document}function j6(e){return fy(e).activeElement}var hy=e=>e.hasAttribute("tabindex"),k6=e=>hy(e)&&e.tabIndex===-1;function E6(e){return Boolean(e.getAttribute("disabled"))===!0||Boolean(e.getAttribute("aria-disabled"))===!0}function py(e){return e.parentElement&&py(e.parentElement)?!0:e.hidden}function P6(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function my(e){if(!dy(e)||py(e)||E6(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const r={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in r?r[t]():P6(e)?!0:hy(e)}function I6(e){return e?dy(e)&&my(e)&&!k6(e):!1}var M6=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],T6=M6.join(),_6=e=>e.offsetWidth>0&&e.offsetHeight>0;function vy(e){const t=Array.from(e.querySelectorAll(T6));return t.unshift(e),t.filter(n=>my(n)&&_6(n))}var mg,D6=(mg=pg.default)!=null?mg:pg,gy=e=>{const{initialFocusRef:t,finalFocusRef:n,contentRef:r,restoreFocus:o,children:s,isDisabled:c,autoFocus:u,persistentFocus:f,lockFocusAcrossFrames:p}=e,h=g.useCallback(()=>{t!=null&&t.current?t.current.focus():r!=null&&r.current&&vy(r.current).length===0&&requestAnimationFrame(()=>{var C;(C=r.current)==null||C.focus()})},[t,r]),y=g.useCallback(()=>{var S;(S=n==null?void 0:n.current)==null||S.focus()},[n]),x=o&&!n;return l.jsx(D6,{crossFrame:p,persistentFocus:f,autoFocus:u,disabled:c,onActivation:h,onDeactivation:y,returnFocus:x,children:s})};gy.displayName="FocusLock";var A6=UC?g.useLayoutEffect:g.useEffect;function ac(e,t=[]){const n=g.useRef(e);return A6(()=>{n.current=e}),g.useCallback((...r)=>{var o;return(o=n.current)==null?void 0:o.call(n,...r)},t)}function O6(e,t,n,r){const o=ac(t);return g.useEffect(()=>{var s;const c=(s=Pv(n))!=null?s:document;if(t)return c.addEventListener(e,o,r),()=>{c.removeEventListener(e,o,r)}},[e,n,r,o,t]),()=>{var s;((s=Pv(n))!=null?s:document).removeEventListener(e,o,r)}}function z6(e){const{ref:t,handler:n,enabled:r=!0}=e,o=ac(n),c=g.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;g.useEffect(()=>{if(!r)return;const u=y=>{wd(y,t)&&(c.isPointerDown=!0)},f=y=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&n&&wd(y,t)&&(c.isPointerDown=!1,o(y))},p=y=>{c.ignoreEmulatedMouseEvents=!0,n&&c.isPointerDown&&wd(y,t)&&(c.isPointerDown=!1,o(y))},h=m2(t.current);return h.addEventListener("mousedown",u,!0),h.addEventListener("mouseup",f,!0),h.addEventListener("touchstart",u,!0),h.addEventListener("touchend",p,!0),()=>{h.removeEventListener("mousedown",u,!0),h.removeEventListener("mouseup",f,!0),h.removeEventListener("touchstart",u,!0),h.removeEventListener("touchend",p,!0)}},[n,t,o,c,r])}function wd(e,t){var n;const r=e.target;return e.button>0||r&&!m2(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function R6(e,t){const n=g.useId();return g.useMemo(()=>e||[t,n].filter(Boolean).join("-"),[e,t,n])}function N6(e,t){const n=e!==void 0;return[n,n&&typeof e<"u"?e:t]}function po(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=ac(n),c=ac(t),[u,f]=g.useState(e.defaultIsOpen||!1),[p,h]=N6(r,u),y=R6(o,"disclosure"),x=g.useCallback(()=>{p||f(!1),c==null||c()},[p,c]),S=g.useCallback(()=>{p||f(!0),s==null||s()},[p,s]),C=g.useCallback(()=>{(h?x:S)()},[h,S,x]);return{isOpen:!!h,onOpen:S,onClose:x,onToggle:C,isControlled:p,getButtonProps:(j={})=>({...j,"aria-expanded":h,"aria-controls":y,onClick:US(j.onClick,C)}),getDisclosureProps:(j={})=>({...j,hidden:!h,id:y})}}var Sh=fe(function(t,n){const{htmlSize:r,...o}=t,s=un("Input",o),c=At(o),u=lh(c),f=Ae("chakra-input",t.className);return l.jsx(ne.input,{size:r,...u,__css:s.field,ref:n,className:f})});Sh.displayName="Input";Sh.id="Input";var[F6,yy]=kt({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Ch=fe(function(t,n){const r=un("List",t),{children:o,styleType:s="none",stylePosition:c,spacing:u,...f}=At(t),p=sh(o),y=u?{["& > *:not(style) ~ *:not(style)"]:{mt:u}}:{};return l.jsx(F6,{value:r,children:l.jsx(ne.ul,{ref:n,listStyleType:s,listStylePosition:c,role:"list",__css:{...r.container,...y},...f,children:p})})});Ch.displayName="List";var L6=fe((e,t)=>{const{as:n,...r}=e;return l.jsx(Ch,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});L6.displayName="OrderedList";var xy=fe(function(t,n){const{as:r,...o}=t;return l.jsx(Ch,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...o})});xy.displayName="UnorderedList";var Fa=fe(function(t,n){const r=yy();return l.jsx(ne.li,{ref:n,...t,__css:r.item})});Fa.displayName="ListItem";var B6=fe(function(t,n){const r=yy();return l.jsx(tn,{ref:n,role:"presentation",...t,__css:r.icon})});B6.displayName="ListIcon";var ir=fe(function(t,n){const{templateAreas:r,gap:o,rowGap:s,columnGap:c,column:u,row:f,autoFlow:p,autoRows:h,templateRows:y,autoColumns:x,templateColumns:S,...C}=t,j={display:"grid",gridTemplateAreas:r,gridGap:o,gridRowGap:s,gridColumnGap:c,gridAutoColumns:x,gridColumn:u,gridRow:f,gridAutoFlow:p,gridAutoRows:h,gridTemplateRows:y,gridTemplateColumns:S};return l.jsx(ne.div,{ref:n,__css:j,...C})});ir.displayName="Grid";function by(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):Zd(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}var Ec=ne("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Ec.displayName="Spacer";var Sy=e=>l.jsx(ne.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});Sy.displayName="StackItem";var kf="& > *:not(style) ~ *:not(style)";function H6(e){const{spacing:t,direction:n}=e,r={column:{marginTop:t,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:t},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:t,marginStart:0},"row-reverse":{marginTop:0,marginEnd:t,marginBottom:0,marginStart:0}};return{flexDirection:n,[kf]:by(n,o=>r[o])}}function W6(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":by(n,o=>r[o])}}var wh=fe((e,t)=>{const{isInline:n,direction:r,align:o,justify:s,spacing:c="0.5rem",wrap:u,children:f,divider:p,className:h,shouldWrapChildren:y,...x}=e,S=n?"row":r??"column",C=g.useMemo(()=>H6({direction:S,spacing:c}),[S,c]),j=g.useMemo(()=>W6({spacing:c,direction:S}),[c,S]),w=!!p,k=!y&&!w,I=g.useMemo(()=>{const M=sh(f);return k?M:M.map((T,D)=>{const _=typeof T.key<"u"?T.key:D,R=D+1===M.length,F=y?l.jsx(Sy,{children:T},_):T;if(!w)return F;const B=g.cloneElement(p,{__css:j}),Q=R?null:B;return l.jsxs(g.Fragment,{children:[F,Q]},_)})},[p,j,w,k,y,f]),P=Ae("chakra-stack",h);return l.jsx(ne.div,{ref:t,display:"flex",alignItems:o,justifyContent:s,flexDirection:C.flexDirection,flexWrap:u,className:P,__css:w?{}:{[kf]:C[kf]},...x,children:I})});wh.displayName="Stack";var Fe=fe((e,t)=>l.jsx(wh,{align:"center",...e,direction:"column",ref:t}));Fe.displayName="VStack";var ia=fe((e,t)=>l.jsx(wh,{align:"center",...e,direction:"row",ref:t}));ia.displayName="HStack";var rr=fe(function(t,n){const r=yo("Heading",t),{className:o,...s}=At(t);return l.jsx(ne.h2,{ref:n,className:Ae("chakra-heading",t.className),...s,__css:r})});rr.displayName="Heading";var Ye=ne("div");Ye.displayName="Box";var Cy=fe(function(t,n){const{size:r,centerContent:o=!0,...s}=t,c=o?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return l.jsx(Ye,{ref:n,boxSize:r,__css:{...c,flexShrink:0,flexGrow:0},...s})});Cy.displayName="Square";var V6=fe(function(t,n){const{size:r,...o}=t;return l.jsx(Cy,{size:r,ref:n,borderRadius:"9999px",...o})});V6.displayName="Circle";var qo=fe(function(t,n){const r=yo("Link",t),{className:o,isExternal:s,...c}=At(t);return l.jsx(ne.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Ae("chakra-link",o),...c,__css:r})});qo.displayName="Link";var wy=fe(function(t,n){const r=yo("Badge",t),{className:o,...s}=At(t);return l.jsx(ne.span,{ref:n,className:Ae("chakra-badge",t.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});wy.displayName="Badge";var jy=ne("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});jy.displayName="Center";var U6={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};fe(function(t,n){const{axis:r="both",...o}=t;return l.jsx(ne.div,{ref:n,__css:U6[r],...o,position:"absolute"})});var ky=fe(function(t,n){const{borderLeftWidth:r,borderBottomWidth:o,borderTopWidth:s,borderRightWidth:c,borderWidth:u,borderStyle:f,borderColor:p,...h}=yo("Divider",t),{className:y,orientation:x="horizontal",__css:S,...C}=At(t),j={vertical:{borderLeftWidth:r||c||u||"1px",height:"100%"},horizontal:{borderBottomWidth:o||s||u||"1px",width:"100%"}};return l.jsx(ne.hr,{ref:n,"aria-orientation":x,...C,__css:{...h,border:"0",borderColor:p,borderStyle:f,...j[x],...S},className:Ae("chakra-divider",y)})});ky.displayName="Divider";function $6(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function G6(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[r,o]=g.useState([]),s=g.useRef(),c=()=>{s.current&&(clearTimeout(s.current),s.current=null)},u=()=>{c(),s.current=setTimeout(()=>{o([]),s.current=null},t)};g.useEffect(()=>c,[]);function f(p){return h=>{if(h.key==="Backspace"){const y=[...r];y.pop(),o(y);return}if($6(h)){const y=r.concat(h.key);n(h)&&(h.preventDefault(),h.stopPropagation()),o(y),p(y.join("")),u()}}}return f}function q6(e,t,n,r){if(t==null)return r;if(!r)return e.find(c=>n(c).toLowerCase().startsWith(t.toLowerCase()));const o=e.filter(s=>n(s).toLowerCase().startsWith(t.toLowerCase()));if(o.length>0){let s;return o.includes(r)?(s=o.indexOf(r)+1,s===o.length&&(s=0),o[s]):(s=e.indexOf(o[0]),e[s])}return r}function Y6(){const e=g.useRef(new Map),t=e.current,n=g.useCallback((o,s,c,u)=>{e.current.set(c,{type:s,el:o,options:u}),o.addEventListener(s,c,u)},[]),r=g.useCallback((o,s,c,u)=>{o.removeEventListener(s,c,u),e.current.delete(c)},[]);return g.useEffect(()=>()=>{t.forEach((o,s)=>{r(o.el,o.type,s,o.options)})},[r,t]),{add:n,remove:r}}function jd(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function Ey(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:o=!0,clickOnSpace:s=!0,onMouseDown:c,onMouseUp:u,onClick:f,onKeyDown:p,onKeyUp:h,tabIndex:y,onMouseOver:x,onMouseLeave:S,...C}=e,[j,w]=g.useState(!0),[k,I]=g.useState(!1),P=Y6(),M=$=>{$&&$.tagName!=="BUTTON"&&w(!1)},T=j?y:y||0,D=n&&!r,_=g.useCallback($=>{if(n){$.stopPropagation(),$.preventDefault();return}$.currentTarget.focus(),f==null||f($)},[n,f]),R=g.useCallback($=>{k&&jd($)&&($.preventDefault(),$.stopPropagation(),I(!1),P.remove(document,"keyup",R,!1))},[k,P]),V=g.useCallback($=>{if(p==null||p($),n||$.defaultPrevented||$.metaKey||!jd($.nativeEvent)||j)return;const Z=o&&$.key==="Enter";s&&$.key===" "&&($.preventDefault(),I(!0)),Z&&($.preventDefault(),$.currentTarget.click()),P.add(document,"keyup",R,!1)},[n,j,p,o,s,P,R]),F=g.useCallback($=>{if(h==null||h($),n||$.defaultPrevented||$.metaKey||!jd($.nativeEvent)||j)return;s&&$.key===" "&&($.preventDefault(),I(!1),$.currentTarget.click())},[s,j,n,h]),B=g.useCallback($=>{$.button===0&&(I(!1),P.remove(document,"mouseup",B,!1))},[P]),Q=g.useCallback($=>{if($.button!==0)return;if(n){$.stopPropagation(),$.preventDefault();return}j||I(!0),$.currentTarget.focus({preventScroll:!0}),P.add(document,"mouseup",B,!1),c==null||c($)},[n,j,c,P,B]),U=g.useCallback($=>{$.button===0&&(j||I(!1),u==null||u($))},[u,j]),X=g.useCallback($=>{if(n){$.preventDefault();return}x==null||x($)},[n,x]),te=g.useCallback($=>{k&&($.preventDefault(),I(!1)),S==null||S($)},[k,S]),re=ct(t,M);return j?{...C,ref:re,type:"button","aria-disabled":D?void 0:n,disabled:D,onClick:_,onMouseDown:c,onMouseUp:u,onKeyUp:h,onKeyDown:p,onMouseOver:x,onMouseLeave:S}:{...C,ref:re,role:"button","data-active":qe(k),"aria-disabled":n?"true":void 0,tabIndex:D?void 0:T,onClick:_,onMouseDown:Q,onMouseUp:U,onKeyUp:F,onKeyDown:V,onMouseOver:X,onMouseLeave:te}}function K6(e){const t=e.current;if(!t)return!1;const n=j6(t);return!n||t.contains(n)?!1:!!I6(n)}function Py(e,t){const{shouldFocus:n,visible:r,focusRef:o}=t,s=n&&!r;ni(()=>{if(!s||K6(e))return;const c=(o==null?void 0:o.current)||e.current;c&&requestAnimationFrame(()=>{c.focus()})},[s,e,o])}var X6={preventScroll:!0,shouldFocus:!1};function Q6(e,t=X6){const{focusRef:n,preventScroll:r,shouldFocus:o,visible:s}=t,c=Z6(e)?e.current:e,u=o&&s,f=g.useRef(u),p=g.useRef(s);Wi(()=>{!p.current&&s&&(f.current=u),p.current=s},[s,u]);const h=g.useCallback(()=>{if(!(!s||!c||!f.current)&&(f.current=!1,!c.contains(document.activeElement)))if(n!=null&&n.current)requestAnimationFrame(()=>{var y;(y=n.current)==null||y.focus({preventScroll:r})});else{const y=vy(c);y.length>0&&requestAnimationFrame(()=>{y[0].focus({preventScroll:r})})}},[s,r,c,n]);ni(()=>{h()},[h]),Go(c,"transitionend",h)}function Z6(e){return"current"in e}var ki=(e,t)=>({var:e,varRef:t?`var(${e}, ${t})`:`var(${e})`}),Ht={arrowShadowColor:ki("--popper-arrow-shadow-color"),arrowSize:ki("--popper-arrow-size","8px"),arrowSizeHalf:ki("--popper-arrow-size-half"),arrowBg:ki("--popper-arrow-bg"),transformOrigin:ki("--popper-transform-origin"),arrowOffset:ki("--popper-arrow-offset")};function J6(e){if(e.includes("top"))return"1px 1px 1px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 1px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 1px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 1px 0 var(--popper-arrow-shadow-color)"}var ej={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},tj=e=>ej[e],vg={scroll:!0,resize:!0};function nj(e){let t;return typeof e=="object"?t={enabled:!0,options:{...vg,...e}}:t={enabled:e,options:vg},t}var rj={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const t=e.elements.reference;e.elements.popper.style.width=`${t.offsetWidth}px`}},oj={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{gg(e)},effect:({state:e})=>()=>{gg(e)}},gg=e=>{e.elements.popper.style.setProperty(Ht.transformOrigin.var,tj(e.placement))},ij={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{aj(e)}},aj=e=>{var t;if(!e.placement)return;const n=sj(e.placement);if((t=e.elements)!=null&&t.arrow&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:Ht.arrowSize.varRef,height:Ht.arrowSize.varRef,zIndex:-1});const r={[Ht.arrowSizeHalf.var]:`calc(${Ht.arrowSize.varRef} / 2)`,[Ht.arrowOffset.var]:`calc(${Ht.arrowSizeHalf.varRef} * -1)`};for(const o in r)e.elements.arrow.style.setProperty(o,r[o])}},sj=e=>{if(e.startsWith("top"))return{property:"bottom",value:Ht.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:Ht.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:Ht.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:Ht.arrowOffset.varRef}},lj={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{yg(e)},effect:({state:e})=>()=>{yg(e)}},yg=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=J6(e.placement);n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:Ht.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},cj={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},uj={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function dj(e,t="ltr"){var n,r;const o=((n=cj[e])==null?void 0:n[t])||e;return t==="ltr"?o:(r=uj[e])!=null?r:o}var Pn="top",Vn="bottom",Un="right",In="left",jh="auto",fs=[Pn,Vn,Un,In],qi="start",Qa="end",fj="clippingParents",Iy="viewport",Da="popper",hj="reference",xg=fs.reduce(function(e,t){return e.concat([t+"-"+qi,t+"-"+Qa])},[]),My=[].concat(fs,[jh]).reduce(function(e,t){return e.concat([t,t+"-"+qi,t+"-"+Qa])},[]),pj="beforeRead",mj="read",vj="afterRead",gj="beforeMain",yj="main",xj="afterMain",bj="beforeWrite",Sj="write",Cj="afterWrite",wj=[pj,mj,vj,gj,yj,xj,bj,Sj,Cj];function kr(e){return e?(e.nodeName||"").toLowerCase():null}function $n(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zo(e){var t=$n(e).Element;return e instanceof t||e instanceof Element}function Wn(e){var t=$n(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kh(e){if(typeof ShadowRoot>"u")return!1;var t=$n(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function jj(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},s=t.elements[n];!Wn(s)||!kr(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(c){var u=o[c];u===!1?s.removeAttribute(c):s.setAttribute(c,u===!0?"":u)}))})}function kj(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],s=t.attributes[r]||{},c=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=c.reduce(function(f,p){return f[p]="",f},{});!Wn(o)||!kr(o)||(Object.assign(o.style,u),Object.keys(s).forEach(function(f){o.removeAttribute(f)}))})}}const Ej={name:"applyStyles",enabled:!0,phase:"write",fn:jj,effect:kj,requires:["computeStyles"]};function Cr(e){return e.split("-")[0]}var Yo=Math.max,sc=Math.min,Yi=Math.round;function Ef(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ty(){return!/^((?!chrome|android).)*safari/i.test(Ef())}function Ki(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,s=1;t&&Wn(e)&&(o=e.offsetWidth>0&&Yi(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Yi(r.height)/e.offsetHeight||1);var c=Zo(e)?$n(e):window,u=c.visualViewport,f=!Ty()&&n,p=(r.left+(f&&u?u.offsetLeft:0))/o,h=(r.top+(f&&u?u.offsetTop:0))/s,y=r.width/o,x=r.height/s;return{width:y,height:x,top:h,right:p+y,bottom:h+x,left:p,x:p,y:h}}function Eh(e){var t=Ki(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _y(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kh(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fr(e){return $n(e).getComputedStyle(e)}function Pj(e){return["table","td","th"].indexOf(kr(e))>=0}function bo(e){return((Zo(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pc(e){return kr(e)==="html"?e:e.assignedSlot||e.parentNode||(kh(e)?e.host:null)||bo(e)}function bg(e){return!Wn(e)||Fr(e).position==="fixed"?null:e.offsetParent}function Ij(e){var t=/firefox/i.test(Ef()),n=/Trident/i.test(Ef());if(n&&Wn(e)){var r=Fr(e);if(r.position==="fixed")return null}var o=Pc(e);for(kh(o)&&(o=o.host);Wn(o)&&["html","body"].indexOf(kr(o))<0;){var s=Fr(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function hs(e){for(var t=$n(e),n=bg(e);n&&Pj(n)&&Fr(n).position==="static";)n=bg(n);return n&&(kr(n)==="html"||kr(n)==="body"&&Fr(n).position==="static")?t:n||Ij(e)||t}function Ph(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ba(e,t,n){return Yo(e,sc(t,n))}function Mj(e,t,n){var r=Ba(e,t,n);return r>n?n:r}function Dy(){return{top:0,right:0,bottom:0,left:0}}function Ay(e){return Object.assign({},Dy(),e)}function Oy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Tj=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ay(typeof t!="number"?t:Oy(t,fs))};function _j(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,c=n.modifiersData.popperOffsets,u=Cr(n.placement),f=Ph(u),p=[In,Un].indexOf(u)>=0,h=p?"height":"width";if(!(!s||!c)){var y=Tj(o.padding,n),x=Eh(s),S=f==="y"?Pn:In,C=f==="y"?Vn:Un,j=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],w=c[f]-n.rects.reference[f],k=hs(s),I=k?f==="y"?k.clientHeight||0:k.clientWidth||0:0,P=j/2-w/2,M=y[S],T=I-x[h]-y[C],D=I/2-x[h]/2+P,_=Ba(M,D,T),R=f;n.modifiersData[r]=(t={},t[R]=_,t.centerOffset=_-D,t)}}function Dj(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||_y(t.elements.popper,o)&&(t.elements.arrow=o))}const Aj={name:"arrow",enabled:!0,phase:"main",fn:_j,effect:Dj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xi(e){return e.split("-")[1]}var Oj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zj(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:Yi(t*o)/o||0,y:Yi(n*o)/o||0}}function Sg(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,c=e.offsets,u=e.position,f=e.gpuAcceleration,p=e.adaptive,h=e.roundOffsets,y=e.isFixed,x=c.x,S=x===void 0?0:x,C=c.y,j=C===void 0?0:C,w=typeof h=="function"?h({x:S,y:j}):{x:S,y:j};S=w.x,j=w.y;var k=c.hasOwnProperty("x"),I=c.hasOwnProperty("y"),P=In,M=Pn,T=window;if(p){var D=hs(n),_="clientHeight",R="clientWidth";if(D===$n(n)&&(D=bo(n),Fr(D).position!=="static"&&u==="absolute"&&(_="scrollHeight",R="scrollWidth")),D=D,o===Pn||(o===In||o===Un)&&s===Qa){M=Vn;var V=y&&D===T&&T.visualViewport?T.visualViewport.height:D[_];j-=V-r.height,j*=f?1:-1}if(o===In||(o===Pn||o===Vn)&&s===Qa){P=Un;var F=y&&D===T&&T.visualViewport?T.visualViewport.width:D[R];S-=F-r.width,S*=f?1:-1}}var B=Object.assign({position:u},p&&Oj),Q=h===!0?zj({x:S,y:j}):{x:S,y:j};if(S=Q.x,j=Q.y,f){var U;return Object.assign({},B,(U={},U[M]=I?"0":"",U[P]=k?"0":"",U.transform=(T.devicePixelRatio||1)<=1?"translate("+S+"px, "+j+"px)":"translate3d("+S+"px, "+j+"px, 0)",U))}return Object.assign({},B,(t={},t[M]=I?j+"px":"",t[P]=k?S+"px":"",t.transform="",t))}function Rj(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,c=s===void 0?!0:s,u=n.roundOffsets,f=u===void 0?!0:u,p={placement:Cr(t.placement),variation:Xi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Sg(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sg(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Nj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rj,data:{}};var Cl={passive:!0};function Fj(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=o===void 0?!0:o,c=r.resize,u=c===void 0?!0:c,f=$n(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,Cl)}),u&&f.addEventListener("resize",n.update,Cl),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,Cl)}),u&&f.removeEventListener("resize",n.update,Cl)}}const Lj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Fj,data:{}};var Bj={left:"right",right:"left",bottom:"top",top:"bottom"};function Vl(e){return e.replace(/left|right|bottom|top/g,function(t){return Bj[t]})}var Hj={start:"end",end:"start"};function Cg(e){return e.replace(/start|end/g,function(t){return Hj[t]})}function Ih(e){var t=$n(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Mh(e){return Ki(bo(e)).left+Ih(e).scrollLeft}function Wj(e,t){var n=$n(e),r=bo(e),o=n.visualViewport,s=r.clientWidth,c=r.clientHeight,u=0,f=0;if(o){s=o.width,c=o.height;var p=Ty();(p||!p&&t==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:c,x:u+Mh(e),y:f}}function Vj(e){var t,n=bo(e),r=Ih(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=Yo(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),c=Yo(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+Mh(e),f=-r.scrollTop;return Fr(o||n).direction==="rtl"&&(u+=Yo(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:c,x:u,y:f}}function Th(e){var t=Fr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function zy(e){return["html","body","#document"].indexOf(kr(e))>=0?e.ownerDocument.body:Wn(e)&&Th(e)?e:zy(Pc(e))}function Ha(e,t){var n;t===void 0&&(t=[]);var r=zy(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=$n(r),c=o?[s].concat(s.visualViewport||[],Th(r)?r:[]):r,u=t.concat(c);return o?u:u.concat(Ha(Pc(c)))}function Pf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Uj(e,t){var n=Ki(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function wg(e,t,n){return t===Iy?Pf(Wj(e,n)):Zo(t)?Uj(t,n):Pf(Vj(bo(e)))}function $j(e){var t=Ha(Pc(e)),n=["absolute","fixed"].indexOf(Fr(e).position)>=0,r=n&&Wn(e)?hs(e):e;return Zo(r)?t.filter(function(o){return Zo(o)&&_y(o,r)&&kr(o)!=="body"}):[]}function Gj(e,t,n,r){var o=t==="clippingParents"?$j(e):[].concat(t),s=[].concat(o,[n]),c=s[0],u=s.reduce(function(f,p){var h=wg(e,p,r);return f.top=Yo(h.top,f.top),f.right=sc(h.right,f.right),f.bottom=sc(h.bottom,f.bottom),f.left=Yo(h.left,f.left),f},wg(e,c,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Ry(e){var t=e.reference,n=e.element,r=e.placement,o=r?Cr(r):null,s=r?Xi(r):null,c=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,f;switch(o){case Pn:f={x:c,y:t.y-n.height};break;case Vn:f={x:c,y:t.y+t.height};break;case Un:f={x:t.x+t.width,y:u};break;case In:f={x:t.x-n.width,y:u};break;default:f={x:t.x,y:t.y}}var p=o?Ph(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case qi:f[p]=f[p]-(t[h]/2-n[h]/2);break;case Qa:f[p]=f[p]+(t[h]/2-n[h]/2);break}}return f}function Za(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,s=n.strategy,c=s===void 0?e.strategy:s,u=n.boundary,f=u===void 0?fj:u,p=n.rootBoundary,h=p===void 0?Iy:p,y=n.elementContext,x=y===void 0?Da:y,S=n.altBoundary,C=S===void 0?!1:S,j=n.padding,w=j===void 0?0:j,k=Ay(typeof w!="number"?w:Oy(w,fs)),I=x===Da?hj:Da,P=e.rects.popper,M=e.elements[C?I:x],T=Gj(Zo(M)?M:M.contextElement||bo(e.elements.popper),f,h,c),D=Ki(e.elements.reference),_=Ry({reference:D,element:P,strategy:"absolute",placement:o}),R=Pf(Object.assign({},P,_)),V=x===Da?R:D,F={top:T.top-V.top+k.top,bottom:V.bottom-T.bottom+k.bottom,left:T.left-V.left+k.left,right:V.right-T.right+k.right},B=e.modifiersData.offset;if(x===Da&&B){var Q=B[o];Object.keys(F).forEach(function(U){var X=[Un,Vn].indexOf(U)>=0?1:-1,te=[Pn,Vn].indexOf(U)>=0?"y":"x";F[U]+=Q[te]*X})}return F}function qj(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,p=f===void 0?My:f,h=Xi(r),y=h?u?xg:xg.filter(function(C){return Xi(C)===h}):fs,x=y.filter(function(C){return p.indexOf(C)>=0});x.length===0&&(x=y);var S=x.reduce(function(C,j){return C[j]=Za(e,{placement:j,boundary:o,rootBoundary:s,padding:c})[Cr(j)],C},{});return Object.keys(S).sort(function(C,j){return S[C]-S[j]})}function Yj(e){if(Cr(e)===jh)return[];var t=Vl(e);return[Cg(e),t,Cg(t)]}function Kj(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,p=n.padding,h=n.boundary,y=n.rootBoundary,x=n.altBoundary,S=n.flipVariations,C=S===void 0?!0:S,j=n.allowedAutoPlacements,w=t.options.placement,k=Cr(w),I=k===w,P=f||(I||!C?[Vl(w)]:Yj(w)),M=[w].concat(P).reduce(function(pe,ce){return pe.concat(Cr(ce)===jh?qj(t,{placement:ce,boundary:h,rootBoundary:y,padding:p,flipVariations:C,allowedAutoPlacements:j}):ce)},[]),T=t.rects.reference,D=t.rects.popper,_=new Map,R=!0,V=M[0],F=0;F<M.length;F++){var B=M[F],Q=Cr(B),U=Xi(B)===qi,X=[Pn,Vn].indexOf(Q)>=0,te=X?"width":"height",re=Za(t,{placement:B,boundary:h,rootBoundary:y,altBoundary:x,padding:p}),$=X?U?Un:In:U?Vn:Pn;T[te]>D[te]&&($=Vl($));var Z=Vl($),oe=[];if(s&&oe.push(re[Q]<=0),u&&oe.push(re[$]<=0,re[Z]<=0),oe.every(function(pe){return pe})){V=B,R=!1;break}_.set(B,oe)}if(R)for(var le=C?3:1,ze=function(ce){var Ne=M.find(function(Ve){var Ue=_.get(Ve);if(Ue)return Ue.slice(0,ce).every(function($e){return $e})});if(Ne)return V=Ne,"break"},Re=le;Re>0;Re--){var Ie=ze(Re);if(Ie==="break")break}t.placement!==V&&(t.modifiersData[r]._skip=!0,t.placement=V,t.reset=!0)}}const Xj={name:"flip",enabled:!0,phase:"main",fn:Kj,requiresIfExists:["offset"],data:{_skip:!1}};function jg(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kg(e){return[Pn,Un,Vn,In].some(function(t){return e[t]>=0})}function Qj(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,c=Za(t,{elementContext:"reference"}),u=Za(t,{altBoundary:!0}),f=jg(c,r),p=jg(u,o,s),h=kg(f),y=kg(p);t.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":y})}const Zj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qj};function Jj(e,t,n){var r=Cr(e),o=[In,Pn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,c=s[0],u=s[1];return c=c||0,u=(u||0)*o,[In,Un].indexOf(r)>=0?{x:u,y:c}:{x:c,y:u}}function ek(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=o===void 0?[0,0]:o,c=My.reduce(function(h,y){return h[y]=Jj(y,t.rects,s),h},{}),u=c[t.placement],f=u.x,p=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=c}const tk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ek};function nk(e){var t=e.state,n=e.name;t.modifiersData[n]=Ry({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const rk={name:"popperOffsets",enabled:!0,phase:"read",fn:nk,data:{}};function ok(e){return e==="x"?"y":"x"}function ik(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=o===void 0?!0:o,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,p=n.rootBoundary,h=n.altBoundary,y=n.padding,x=n.tether,S=x===void 0?!0:x,C=n.tetherOffset,j=C===void 0?0:C,w=Za(t,{boundary:f,rootBoundary:p,padding:y,altBoundary:h}),k=Cr(t.placement),I=Xi(t.placement),P=!I,M=Ph(k),T=ok(M),D=t.modifiersData.popperOffsets,_=t.rects.reference,R=t.rects.popper,V=typeof j=="function"?j(Object.assign({},t.rects,{placement:t.placement})):j,F=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Q={x:0,y:0};if(D){if(s){var U,X=M==="y"?Pn:In,te=M==="y"?Vn:Un,re=M==="y"?"height":"width",$=D[M],Z=$+w[X],oe=$-w[te],le=S?-R[re]/2:0,ze=I===qi?_[re]:R[re],Re=I===qi?-R[re]:-_[re],Ie=t.elements.arrow,pe=S&&Ie?Eh(Ie):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Dy(),Ne=ce[X],Ve=ce[te],Ue=Ba(0,_[re],pe[re]),$e=P?_[re]/2-le-Ue-Ne-F.mainAxis:ze-Ue-Ne-F.mainAxis,Ze=P?-_[re]/2+le+Ue+Ve+F.mainAxis:Re+Ue+Ve+F.mainAxis,ve=t.elements.arrow&&hs(t.elements.arrow),Te=ve?M==="y"?ve.clientTop||0:ve.clientLeft||0:0,Ge=(U=B==null?void 0:B[M])!=null?U:0,ye=$+$e-Ge-Te,Pe=$+Ze-Ge,et=Ba(S?sc(Z,ye):Z,$,S?Yo(oe,Pe):oe);D[M]=et,Q[M]=et-$}if(u){var Be,vt=M==="x"?Pn:In,Rt=M==="x"?Vn:Un,N=D[T],ue=T==="y"?"height":"width",xe=N+w[vt],je=N-w[Rt],q=[Pn,In].indexOf(k)!==-1,ae=(Be=B==null?void 0:B[T])!=null?Be:0,Oe=q?xe:N-_[ue]-R[ue]-ae+F.altAxis,Je=q?N+_[ue]+R[ue]-ae-F.altAxis:je,J=S&&q?Mj(Oe,N,Je):Ba(S?Oe:xe,N,S?Je:je);D[T]=J,Q[T]=J-N}t.modifiersData[r]=Q}}const ak={name:"preventOverflow",enabled:!0,phase:"main",fn:ik,requiresIfExists:["offset"]};function sk(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function lk(e){return e===$n(e)||!Wn(e)?Ih(e):sk(e)}function ck(e){var t=e.getBoundingClientRect(),n=Yi(t.width)/e.offsetWidth||1,r=Yi(t.height)/e.offsetHeight||1;return n!==1||r!==1}function uk(e,t,n){n===void 0&&(n=!1);var r=Wn(t),o=Wn(t)&&ck(t),s=bo(t),c=Ki(e,o,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!n)&&((kr(t)!=="body"||Th(s))&&(u=lk(t)),Wn(t)?(f=Ki(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):s&&(f.x=Mh(s))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function dk(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function o(s){n.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=t.get(u);f&&o(f)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||o(s)}),r}function fk(e){var t=dk(e);return wj.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function hk(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function pk(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Eg={placement:"bottom",modifiers:[],strategy:"absolute"};function Pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function mk(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,s=o===void 0?Eg:o;return function(u,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eg,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},y=[],x=!1,S={state:h,setOptions:function(k){var I=typeof k=="function"?k(h.options):k;j(),h.options=Object.assign({},s,h.options,I),h.scrollParents={reference:Zo(u)?Ha(u):u.contextElement?Ha(u.contextElement):[],popper:Ha(f)};var P=fk(pk([].concat(r,h.options.modifiers)));return h.orderedModifiers=P.filter(function(M){return M.enabled}),C(),S.update()},forceUpdate:function(){if(!x){var k=h.elements,I=k.reference,P=k.popper;if(Pg(I,P)){h.rects={reference:uk(I,hs(P),h.options.strategy==="fixed"),popper:Eh(P)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(F){return h.modifiersData[F.name]=Object.assign({},F.data)});for(var M=0;M<h.orderedModifiers.length;M++){if(h.reset===!0){h.reset=!1,M=-1;continue}var T=h.orderedModifiers[M],D=T.fn,_=T.options,R=_===void 0?{}:_,V=T.name;typeof D=="function"&&(h=D({state:h,options:R,name:V,instance:S})||h)}}}},update:hk(function(){return new Promise(function(w){S.forceUpdate(),w(h)})}),destroy:function(){j(),x=!0}};if(!Pg(u,f))return S;S.setOptions(p).then(function(w){!x&&p.onFirstUpdate&&p.onFirstUpdate(w)});function C(){h.orderedModifiers.forEach(function(w){var k=w.name,I=w.options,P=I===void 0?{}:I,M=w.effect;if(typeof M=="function"){var T=M({state:h,name:k,instance:S,options:P}),D=function(){};y.push(T||D)}})}function j(){y.forEach(function(w){return w()}),y=[]}return S}}var vk=[Lj,rk,Nj,Ej,tk,Xj,ak,Aj,Zj],gk=mk({defaultModifiers:vk});function _h(e={}){const{enabled:t=!0,modifiers:n,placement:r="bottom",strategy:o="absolute",arrowPadding:s=8,eventListeners:c=!0,offset:u,gutter:f=8,flip:p=!0,boundary:h="clippingParents",preventOverflow:y=!0,matchWidth:x,direction:S="ltr"}=e,C=g.useRef(null),j=g.useRef(null),w=g.useRef(null),k=dj(r,S),I=g.useRef(()=>{}),P=g.useCallback(()=>{var F;!t||!C.current||!j.current||((F=I.current)==null||F.call(I),w.current=gk(C.current,j.current,{placement:k,modifiers:[lj,ij,oj,{...rj,enabled:!!x},{name:"eventListeners",...nj(c)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:u??[0,f]}},{name:"flip",enabled:!!p,options:{padding:8}},{name:"preventOverflow",enabled:!!y,options:{boundary:h}},...n??[]],strategy:o}),w.current.forceUpdate(),I.current=w.current.destroy)},[k,t,n,x,c,s,u,f,p,y,h,o]);g.useEffect(()=>()=>{var F;!C.current&&!j.current&&((F=w.current)==null||F.destroy(),w.current=null)},[]);const M=g.useCallback(F=>{C.current=F,P()},[P]),T=g.useCallback((F={},B=null)=>({...F,ref:ct(M,B)}),[M]),D=g.useCallback(F=>{j.current=F,P()},[P]),_=g.useCallback((F={},B=null)=>({...F,ref:ct(D,B),style:{...F.style,position:o,minWidth:x?void 0:"max-content",inset:"0 auto auto 0"}}),[o,D,x]),R=g.useCallback((F={},B=null)=>{const{size:Q,shadowColor:U,bg:X,style:te,...re}=F;return{...re,ref:B,"data-popper-arrow":"",style:yk(F)}},[]),V=g.useCallback((F={},B=null)=>({...F,ref:B,"data-popper-arrow-inner":""}),[]);return{update(){var F;(F=w.current)==null||F.update()},forceUpdate(){var F;(F=w.current)==null||F.forceUpdate()},transformOrigin:Ht.transformOrigin.varRef,referenceRef:M,popperRef:D,getPopperProps:_,getArrowProps:R,getArrowInnerProps:V,getReferenceProps:T}}function yk(e){const{size:t,shadowColor:n,bg:r,style:o}=e,s={...o,position:"absolute"};return t&&(s["--popper-arrow-size"]=t),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function Dh(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=Wt(n),c=Wt(t),[u,f]=g.useState(e.defaultIsOpen||!1),p=r!==void 0?r:u,h=r!==void 0,y=g.useId(),x=o??`disclosure-${y}`,S=g.useCallback(()=>{h||f(!1),c==null||c()},[h,c]),C=g.useCallback(()=>{h||f(!0),s==null||s()},[h,s]),j=g.useCallback(()=>{p?S():C()},[p,C,S]);function w(I={}){return{...I,"aria-expanded":p,"aria-controls":x,onClick(P){var M;(M=I.onClick)==null||M.call(I,P),j()}}}function k(I={}){return{...I,hidden:!p,id:x}}return{isOpen:p,onOpen:C,onClose:S,onToggle:j,isControlled:h,getButtonProps:w,getDisclosureProps:k}}function xk(e){const{ref:t,handler:n,enabled:r=!0}=e,o=Wt(n),c=g.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;g.useEffect(()=>{if(!r)return;const u=y=>{kd(y,t)&&(c.isPointerDown=!0)},f=y=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&n&&kd(y,t)&&(c.isPointerDown=!1,o(y))},p=y=>{c.ignoreEmulatedMouseEvents=!0,n&&c.isPointerDown&&kd(y,t)&&(c.isPointerDown=!1,o(y))},h=Ny(t.current);return h.addEventListener("mousedown",u,!0),h.addEventListener("mouseup",f,!0),h.addEventListener("touchstart",u,!0),h.addEventListener("touchend",p,!0),()=>{h.removeEventListener("mousedown",u,!0),h.removeEventListener("mouseup",f,!0),h.removeEventListener("touchstart",u,!0),h.removeEventListener("touchend",p,!0)}},[n,t,o,c,r])}function kd(e,t){var n;const r=e.target;return e.button>0||r&&!Ny(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function Ny(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Fy(e){const{isOpen:t,ref:n}=e,[r,o]=g.useState(t),[s,c]=g.useState(!1);return g.useEffect(()=>{s||(o(t),c(!0))},[t,s,r]),Go(()=>n.current,"animationend",()=>{o(t)}),{present:!(t?!1:!r),onComplete(){var f;const p=w6(n.current),h=new p.CustomEvent("animationend",{bubbles:!0});(f=n.current)==null||f.dispatchEvent(h)}}}function Ah(e){const{wasSelected:t,enabled:n,isSelected:r,mode:o="unmount"}=e;return!!(!n||r||o==="keepMounted"&&t)}var[bk,Sk,Ck,wk]=nh(),[jk,ps]=kt({strict:!1,name:"MenuContext"});function kk(e,...t){const n=g.useId(),r=e||n;return g.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}function Ly(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function Ig(e){return Ly(e).activeElement===e}function Ek(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:o,autoSelect:s=!0,isLazy:c,isOpen:u,defaultIsOpen:f,onClose:p,onOpen:h,placement:y="bottom-start",lazyBehavior:x="unmount",direction:S,computePositionOnMount:C=!1,...j}=e,w=g.useRef(null),k=g.useRef(null),I=Ck(),P=g.useCallback(()=>{requestAnimationFrame(()=>{var Ie;(Ie=w.current)==null||Ie.focus({preventScroll:!1})})},[]),M=g.useCallback(()=>{const Ie=setTimeout(()=>{var pe;if(o)(pe=o.current)==null||pe.focus();else{const ce=I.firstEnabled();ce&&U(ce.index)}});Z.current.add(Ie)},[I,o]),T=g.useCallback(()=>{const Ie=setTimeout(()=>{const pe=I.lastEnabled();pe&&U(pe.index)});Z.current.add(Ie)},[I]),D=g.useCallback(()=>{h==null||h(),s?M():P()},[s,M,P,h]),{isOpen:_,onOpen:R,onClose:V,onToggle:F}=Dh({isOpen:u,defaultIsOpen:f,onClose:p,onOpen:D});xk({enabled:_&&r,ref:w,handler:Ie=>{var pe;(pe=k.current)!=null&&pe.contains(Ie.target)||V()}});const B=_h({...j,enabled:_||C,placement:y,direction:S}),[Q,U]=g.useState(-1);ni(()=>{_||U(-1)},[_]),Py(w,{focusRef:k,visible:_,shouldFocus:!0});const X=Fy({isOpen:_,ref:w}),[te,re]=kk(t,"menu-button","menu-list"),$=g.useCallback(()=>{R(),P()},[R,P]),Z=g.useRef(new Set([]));Ak(()=>{Z.current.forEach(Ie=>clearTimeout(Ie)),Z.current.clear()});const oe=g.useCallback(()=>{R(),M()},[M,R]),le=g.useCallback(()=>{R(),T()},[R,T]),ze=g.useCallback(()=>{var Ie,pe;const ce=Ly(w.current),Ne=(Ie=w.current)==null?void 0:Ie.contains(ce.activeElement);if(!(_&&!Ne))return;const Ue=(pe=I.item(Q))==null?void 0:pe.node;Ue==null||Ue.focus()},[_,Q,I]),Re=g.useRef(null);return{openAndFocusMenu:$,openAndFocusFirstItem:oe,openAndFocusLastItem:le,onTransitionEnd:ze,unstable__animationState:X,descendants:I,popper:B,buttonId:te,menuId:re,forceUpdate:B.forceUpdate,orientation:"vertical",isOpen:_,onToggle:F,onOpen:R,onClose:V,menuRef:w,buttonRef:k,focusedIndex:Q,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:U,isLazy:c,lazyBehavior:x,initialFocusRef:o,rafId:Re}}function Pk(e={},t=null){const n=ps(),{onToggle:r,popper:o,openAndFocusFirstItem:s,openAndFocusLastItem:c}=n,u=g.useCallback(f=>{const p=f.key,y={Enter:s,ArrowDown:s,ArrowUp:c}[p];y&&(f.preventDefault(),f.stopPropagation(),y(f))},[s,c]);return{...e,ref:ct(n.buttonRef,t,o.referenceRef),id:n.buttonId,"data-active":qe(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:Ee(e.onClick,r),onKeyDown:Ee(e.onKeyDown,u)}}function If(e){var t;return _k(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function Ik(e={},t=null){const n=ps();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:o,menuRef:s,isOpen:c,onClose:u,menuId:f,isLazy:p,lazyBehavior:h,unstable__animationState:y}=n,x=Sk(),S=G6({preventDefault:k=>k.key!==" "&&If(k.target)}),C=g.useCallback(k=>{const I=k.key,M={Tab:D=>D.preventDefault(),Escape:u,ArrowDown:()=>{const D=x.nextEnabled(r);D&&o(D.index)},ArrowUp:()=>{const D=x.prevEnabled(r);D&&o(D.index)}}[I];if(M){k.preventDefault(),M(k);return}const T=S(D=>{const _=q6(x.values(),D,R=>{var V,F;return(F=(V=R==null?void 0:R.node)==null?void 0:V.textContent)!=null?F:""},x.item(r));if(_){const R=x.indexOf(_.node);o(R)}});If(k.target)&&T(k)},[x,r,S,u,o]),j=g.useRef(!1);c&&(j.current=!0);const w=Ah({wasSelected:j.current,enabled:p,mode:h,isSelected:y.present});return{...e,ref:ct(s,t),children:w?e.children:null,tabIndex:-1,role:"menu",id:f,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Ee(e.onKeyDown,C)}}function Mk(e={}){const{popper:t,isOpen:n}=ps();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function Tk(e={},t=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onClick:s,onFocus:c,isDisabled:u,isFocusable:f,closeOnSelect:p,type:h,...y}=e,x=ps(),{setFocusedIndex:S,focusedIndex:C,closeOnSelect:j,onClose:w,menuRef:k,isOpen:I,menuId:P,rafId:M}=x,T=g.useRef(null),D=`${P}-menuitem-${g.useId()}`,{index:_,register:R}=wk({disabled:u&&!f}),V=g.useCallback($=>{n==null||n($),!u&&S(_)},[S,_,u,n]),F=g.useCallback($=>{r==null||r($),T.current&&!Ig(T.current)&&V($)},[V,r]),B=g.useCallback($=>{o==null||o($),!u&&S(-1)},[S,u,o]),Q=g.useCallback($=>{s==null||s($),If($.currentTarget)&&(p??j)&&w()},[w,s,j,p]),U=g.useCallback($=>{c==null||c($),S(_)},[S,c,_]),X=_===C,te=u&&!f;ni(()=>{I&&(X&&!te&&T.current?(M.current&&cancelAnimationFrame(M.current),M.current=requestAnimationFrame(()=>{var $;($=T.current)==null||$.focus(),M.current=null})):k.current&&!Ig(k.current)&&k.current.focus())},[X,te,k,I]);const re=Ey({onClick:Q,onFocus:U,onMouseEnter:V,onMouseMove:F,onMouseLeave:B,ref:ct(R,T,t),isDisabled:u,isFocusable:f});return{...y,...re,type:h??re.type,id:D,role:"menuitem",tabIndex:X?0:-1}}function _k(e){var t;if(!Dk(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function Dk(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function Ak(e,t=[]){return g.useEffect(()=>()=>e(),t)}var[Ok,Ic]=kt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Oh=e=>{const{children:t}=e,n=un("Menu",e),r=At(e),{direction:o}=na(),{descendants:s,...c}=Ek({...r,direction:o}),u=g.useMemo(()=>c,[c]),{isOpen:f,onClose:p,forceUpdate:h}=u;return l.jsx(bk,{value:s,children:l.jsx(jk,{value:u,children:l.jsx(Ok,{value:n,children:w1(t,{isOpen:f,onClose:p,forceUpdate:h})})})})};Oh.displayName="Menu";var By=fe((e,t)=>{const n=Ic();return l.jsx(ne.span,{ref:t,...e,__css:n.command,className:"chakra-menu__command"})});By.displayName="MenuCommand";var zk=fe((e,t)=>{const{type:n,...r}=e,o=Ic(),s=r.as||n?n??void 0:"button",c=g.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return l.jsx(ne.button,{ref:t,type:s,...r,__css:c})}),Hy=e=>{const{className:t,children:n,...r}=e,o=g.Children.only(n),s=g.isValidElement(o)?g.cloneElement(o,{focusable:"false","aria-hidden":!0,className:Ae("chakra-menu__icon",o.props.className)}):null,c=Ae("chakra-menu__icon-wrapper",t);return l.jsx(ne.span,{className:c,...r,__css:{flexShrink:0},children:s})};Hy.displayName="MenuIcon";var gr=fe((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:o,commandSpacing:s="0.75rem",children:c,...u}=e,f=Tk(u,t),h=n||o?l.jsx("span",{style:{pointerEvents:"none",flex:1},children:c}):c;return l.jsxs(zk,{...f,className:Ae("chakra-menu__menuitem",f.className),children:[n&&l.jsx(Hy,{fontSize:"0.8em",marginEnd:r,children:n}),h,o&&l.jsx(By,{marginStart:s,children:o})]})});gr.displayName="MenuItem";var Rk={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},Nk=ne(ar.div),zh=fe(function(t,n){var r,o;const{rootProps:s,motionProps:c,...u}=t,{isOpen:f,onTransitionEnd:p,unstable__animationState:h}=ps(),y=Ik(u,n),x=Mk(s),S=Ic();return l.jsx(ne.div,{...x,__css:{zIndex:(o=t.zIndex)!=null?o:(r=S.list)==null?void 0:r.zIndex},children:l.jsx(Nk,{variants:Rk,initial:!1,animate:f?"enter":"exit",__css:{outline:0,...S.list},...c,className:Ae("chakra-menu__menu-list",y.className),...y,onUpdate:p,onAnimationComplete:bc(h.onComplete,y.onAnimationComplete)})})});zh.displayName="MenuList";var Fk=fe((e,t)=>{const n=Ic();return l.jsx(ne.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),Rh=fe((e,t)=>{const{children:n,as:r,...o}=e,s=Pk(o,t),c=r||Fk;return l.jsx(c,{...s,className:Ae("chakra-menu__menu-button",e.className),children:l.jsx(ne.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});Rh.displayName="MenuButton";var Lk={slideInBottom:{...mf,custom:{offsetY:16,reverse:!0}},slideInRight:{...mf,custom:{offsetX:16,reverse:!0}},scale:{...C2,custom:{initialScale:.95,reverse:!0}},none:{}},Bk=ne(ar.section),Hk=e=>Lk[e||"none"],Wy=g.forwardRef((e,t)=>{const{preset:n,motionProps:r=Hk(n),...o}=e;return l.jsx(Bk,{ref:t,...r,...o})});Wy.displayName="ModalTransition";var Wk=Object.defineProperty,Vk=(e,t,n)=>t in e?Wk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uk=(e,t,n)=>(Vk(e,typeof t!="symbol"?t+"":t,n),n),$k=class{constructor(){Uk(this,"modals"),this.modals=new Map}add(e){return this.modals.set(e,this.modals.size+1),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){return e?this.modals.get(e)===this.modals.size:!1}},Mf=new $k;function Vy(e,t){const[n,r]=g.useState(0);return g.useEffect(()=>{const o=e.current;if(o){if(t){const s=Mf.add(o);r(s)}return()=>{Mf.remove(o),r(0)}}},[t,e]),n}var Gk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ei=new WeakMap,wl=new WeakMap,jl={},Ed=0,Uy=function(e){return e&&(e.host||Uy(e.parentNode))},qk=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Uy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return Boolean(n)})},Yk=function(e,t,n,r){var o=qk(t,Array.isArray(e)?e:[e]);jl[n]||(jl[n]=new WeakMap);var s=jl[n],c=[],u=new Set,f=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var h=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(x){if(u.has(x))h(x);else{var S=x.getAttribute(r),C=S!==null&&S!=="false",j=(Ei.get(x)||0)+1,w=(s.get(x)||0)+1;Ei.set(x,j),s.set(x,w),c.push(x),j===1&&C&&wl.set(x,!0),w===1&&x.setAttribute(n,"true"),C||x.setAttribute(r,"true")}})};return h(t),u.clear(),Ed++,function(){c.forEach(function(y){var x=Ei.get(y)-1,S=s.get(y)-1;Ei.set(y,x),s.set(y,S),x||(wl.has(y)||y.removeAttribute(r),wl.delete(y)),S||y.removeAttribute(n)}),Ed--,Ed||(Ei=new WeakMap,Ei=new WeakMap,wl=new WeakMap,jl={})}},Kk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||Gk(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Yk(r,o,n,"aria-hidden")):function(){return null}};function Xk(e){const{isOpen:t,onClose:n,id:r,closeOnOverlayClick:o=!0,closeOnEsc:s=!0,useInert:c=!0,onOverlayClick:u,onEsc:f}=e,p=g.useRef(null),h=g.useRef(null),[y,x,S]=Zk(r,"chakra-modal","chakra-modal--header","chakra-modal--body");Qk(p,t&&c),Vy(p,t);const C=g.useRef(null),j=g.useCallback(R=>{C.current=R.target},[]),w=g.useCallback(R=>{R.key==="Escape"&&(R.stopPropagation(),s&&(n==null||n()),f==null||f())},[s,n,f]),[k,I]=g.useState(!1),[P,M]=g.useState(!1),T=g.useCallback((R={},V=null)=>({role:"dialog",...R,ref:ct(V,p),id:y,tabIndex:-1,"aria-modal":!0,"aria-labelledby":k?x:void 0,"aria-describedby":P?S:void 0,onClick:Ee(R.onClick,F=>F.stopPropagation())}),[S,P,y,x,k]),D=g.useCallback(R=>{R.stopPropagation(),C.current===R.target&&Mf.isTopModal(p.current)&&(o&&(n==null||n()),u==null||u())},[n,o,u]),_=g.useCallback((R={},V=null)=>({...R,ref:ct(V,h),onClick:Ee(R.onClick,D),onKeyDown:Ee(R.onKeyDown,w),onMouseDown:Ee(R.onMouseDown,j)}),[w,j,D]);return{isOpen:t,onClose:n,headerId:x,bodyId:S,setBodyMounted:M,setHeaderMounted:I,dialogRef:p,overlayRef:h,getDialogProps:T,getDialogContainerProps:_}}function Qk(e,t){const n=e.current;g.useEffect(()=>{if(!(!e.current||!t))return Kk(e.current)},[t,e,n])}function Zk(e,...t){const n=g.useId(),r=e||n;return g.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}var[Jk,aa]=kt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[e7,Jo]=kt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),mo=e=>{const t={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...e},{portalProps:n,children:r,autoFocus:o,trapFocus:s,initialFocusRef:c,finalFocusRef:u,returnFocusOnClose:f,blockScrollOnMount:p,allowPinchZoom:h,preserveScrollBarGap:y,motionPreset:x,lockFocusAcrossFrames:S,onCloseComplete:C}=t,j=un("Modal",t),k={...Xk(t),autoFocus:o,trapFocus:s,initialFocusRef:c,finalFocusRef:u,returnFocusOnClose:f,blockScrollOnMount:p,allowPinchZoom:h,preserveScrollBarGap:y,motionPreset:x,lockFocusAcrossFrames:S};return l.jsx(e7,{value:k,children:l.jsx(Jk,{value:j,children:l.jsx(xo,{onExitComplete:C,children:k.isOpen&&l.jsx(qa,{...n,children:r})})})})};mo.displayName="Modal";var Ul="right-scroll-bar-position",$l="width-before-scroll-bar",t7="with-scroll-bars-hidden",n7="--removed-body-scroll-bar-size",$y=L2(),Pd=function(){},Mc=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:Pd,onWheelCapture:Pd,onTouchMoveCapture:Pd}),o=r[0],s=r[1],c=e.forwardProps,u=e.children,f=e.className,p=e.removeScrollBar,h=e.enabled,y=e.shards,x=e.sideCar,S=e.noIsolation,C=e.inert,j=e.allowPinchZoom,w=e.as,k=w===void 0?"div":w,I=R2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),P=x,M=z2([n,t]),T=xr(xr({},I),o);return g.createElement(g.Fragment,null,h&&g.createElement(P,{sideCar:$y,removeScrollBar:p,shards:y,noIsolation:S,inert:C,setCallbacks:s,allowPinchZoom:!!j,lockRef:n}),c?g.cloneElement(g.Children.only(u),xr(xr({},T),{ref:M})):g.createElement(k,xr({},T,{className:f,ref:M}),u))});Mc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mc.classNames={fullWidth:$l,zeroRight:Ul};var Mg,r7=function(){if(Mg)return Mg;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=r7();return t&&e.setAttribute("nonce",t),e}function i7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function a7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var s7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o7())&&(i7(t,n),a7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},l7=function(){var e=s7();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Gy=function(){var e=l7(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},c7={left:0,top:0,right:0,gap:0},Id=function(e){return parseInt(e||"",10)||0},u7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Id(n),Id(r),Id(o)]},d7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return c7;var t=u7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},f7=Gy(),h7=function(e,t,n,r){var o=e.left,s=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(t7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ul,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($l,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ul," .").concat(Ul,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($l," .").concat($l,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(n7,": ").concat(u,`px;
  }
`)},p7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,s=g.useMemo(function(){return d7(o)},[o]);return g.createElement(f7,{styles:h7(s,!t,o,n?"":"!important")})},Tf=!1;if(typeof window<"u")try{var kl=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Tf=!1}var Pi=Tf?{passive:!1}:!1,m7=function(e){return e.tagName==="TEXTAREA"},qy=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!m7(e)&&n[t]==="visible")},v7=function(e){return qy(e,"overflowY")},g7=function(e){return qy(e,"overflowX")},Tg=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Yy(e,n);if(r){var o=Ky(e,n),s=o[1],c=o[2];if(s>c)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},y7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},x7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Yy=function(e,t){return e==="v"?v7(t):g7(t)},Ky=function(e,t){return e==="v"?y7(t):x7(t)},b7=function(e,t){return e==="h"&&t==="rtl"?-1:1},S7=function(e,t,n,r,o){var s=b7(e,window.getComputedStyle(t).direction),c=s*r,u=n.target,f=t.contains(u),p=!1,h=c>0,y=0,x=0;do{var S=Ky(e,u),C=S[0],j=S[1],w=S[2],k=j-w-s*C;(C||k)&&Yy(e,u)&&(y+=k,x+=C),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(h&&(o&&y===0||!o&&c>y)||!h&&(o&&x===0||!o&&-c>x))&&(p=!0),p},El=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_g=function(e){return[e.deltaX,e.deltaY]},Dg=function(e){return e&&"current"in e?e.current:e},C7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j7=0,Ii=[];function k7(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(j7++)[0],s=g.useState(function(){return Gy()})[0],c=g.useRef(e);g.useEffect(function(){c.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=Cf([e.lockRef.current],(e.shards||[]).map(Dg),!0).filter(Boolean);return j.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=g.useCallback(function(j,w){if("touches"in j&&j.touches.length===2)return!c.current.allowPinchZoom;var k=El(j),I=n.current,P="deltaX"in j?j.deltaX:I[0]-k[0],M="deltaY"in j?j.deltaY:I[1]-k[1],T,D=j.target,_=Math.abs(P)>Math.abs(M)?"h":"v";if("touches"in j&&_==="h"&&D.type==="range")return!1;var R=Tg(_,D);if(!R)return!0;if(R?T=_:(T=_==="v"?"h":"v",R=Tg(_,D)),!R)return!1;if(!r.current&&"changedTouches"in j&&(P||M)&&(r.current=T),!T)return!0;var V=r.current||T;return S7(V,w,j,V==="h"?P:M,!0)},[]),f=g.useCallback(function(j){var w=j;if(!(!Ii.length||Ii[Ii.length-1]!==s)){var k="deltaY"in w?_g(w):El(w),I=t.current.filter(function(T){return T.name===w.type&&T.target===w.target&&C7(T.delta,k)})[0];if(I&&I.should){w.cancelable&&w.preventDefault();return}if(!I){var P=(c.current.shards||[]).map(Dg).filter(Boolean).filter(function(T){return T.contains(w.target)}),M=P.length>0?u(w,P[0]):!c.current.noIsolation;M&&w.cancelable&&w.preventDefault()}}},[]),p=g.useCallback(function(j,w,k,I){var P={name:j,delta:w,target:k,should:I};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(M){return M!==P})},1)},[]),h=g.useCallback(function(j){n.current=El(j),r.current=void 0},[]),y=g.useCallback(function(j){p(j.type,_g(j),j.target,u(j,e.lockRef.current))},[]),x=g.useCallback(function(j){p(j.type,El(j),j.target,u(j,e.lockRef.current))},[]);g.useEffect(function(){return Ii.push(s),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Pi),document.addEventListener("touchmove",f,Pi),document.addEventListener("touchstart",h,Pi),function(){Ii=Ii.filter(function(j){return j!==s}),document.removeEventListener("wheel",f,Pi),document.removeEventListener("touchmove",f,Pi),document.removeEventListener("touchstart",h,Pi)}},[]);var S=e.removeScrollBar,C=e.inert;return g.createElement(g.Fragment,null,C?g.createElement(s,{styles:w7(o)}):null,S?g.createElement(p7,{gapMode:"margin"}):null)}const E7=E5($y,k7);var Xy=g.forwardRef(function(e,t){return g.createElement(Mc,xr({},e,{ref:t,sideCar:E7}))});Xy.classNames=Mc.classNames;const P7=Xy;function I7(e){const{autoFocus:t,trapFocus:n,dialogRef:r,initialFocusRef:o,blockScrollOnMount:s,allowPinchZoom:c,finalFocusRef:u,returnFocusOnClose:f,preserveScrollBarGap:p,lockFocusAcrossFrames:h,isOpen:y}=Jo(),[x,S]=DC();g.useEffect(()=>{!x&&S&&setTimeout(S)},[x,S]);const C=Vy(r,y);return l.jsx(gy,{autoFocus:t,isDisabled:!n,initialFocusRef:o,finalFocusRef:u,restoreFocus:f,contentRef:r,lockFocusAcrossFrames:h,children:l.jsx(P7,{removeScrollBar:!p,allowPinchZoom:c,enabled:C===1&&s,forwardProps:!0,children:e.children})})}var vo=fe((e,t)=>{const{className:n,children:r,containerProps:o,motionProps:s,...c}=e,{getDialogProps:u,getDialogContainerProps:f}=Jo(),p=u(c,t),h=f(o),y=Ae("chakra-modal__content",n),x=aa(),S={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...x.dialog},C={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...x.dialogContainer},{motionPreset:j}=Jo();return l.jsx(I7,{children:l.jsx(ne.div,{...h,className:"chakra-modal__content-container",tabIndex:-1,__css:C,children:l.jsx(Wy,{preset:j,motionProps:s,className:y,...p,__css:S,children:r})})})});vo.displayName="ModalContent";function Qy(e){const{leastDestructiveRef:t,...n}=e;return l.jsx(mo,{...n,initialFocusRef:t})}var Zy=fe((e,t)=>l.jsx(vo,{ref:t,role:"alertdialog",...e})),Lr=fe((e,t)=>{const{className:n,...r}=e,o=Ae("chakra-modal__footer",n),c={display:"flex",alignItems:"center",justifyContent:"flex-end",...aa().footer};return l.jsx(ne.footer,{ref:t,...r,__css:c,className:o})});Lr.displayName="ModalFooter";var Br=fe((e,t)=>{const{className:n,...r}=e,{headerId:o,setHeaderMounted:s}=Jo();g.useEffect(()=>(s(!0),()=>s(!1)),[s]);const c=Ae("chakra-modal__header",n),f={flex:0,...aa().header};return l.jsx(ne.header,{ref:t,className:c,id:o,...r,__css:f})});Br.displayName="ModalHeader";var M7=ne(ar.div),Hr=fe((e,t)=>{const{className:n,transition:r,motionProps:o,...s}=e,c=Ae("chakra-modal__overlay",n),f={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...aa().overlay},{motionPreset:p}=Jo(),y=o||(p==="none"?{}:S2);return l.jsx(M7,{...y,__css:f,ref:t,className:c,...s})});Hr.displayName="ModalOverlay";var Wr=fe((e,t)=>{const{className:n,...r}=e,{bodyId:o,setBodyMounted:s}=Jo();g.useEffect(()=>(s(!0),()=>s(!1)),[s]);const c=Ae("chakra-modal__body",n),u=aa();return l.jsx(ne.div,{ref:t,className:c,id:o,...r,__css:u.body})});Wr.displayName="ModalBody";var sa=fe((e,t)=>{const{onClick:n,className:r,...o}=e,{onClose:s}=Jo(),c=Ae("chakra-modal__close-btn",r),u=aa();return l.jsx(AC,{ref:t,__css:u.closeButton,className:c,onClick:Ee(n,f=>{f.stopPropagation(),s()}),...o})});sa.displayName="ModalCloseButton";var T7=e=>l.jsx(tn,{viewBox:"0 0 24 24",...e,children:l.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),_7=e=>l.jsx(tn,{viewBox:"0 0 24 24",...e,children:l.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function Ag(e,t,n,r){g.useEffect(()=>{var o;if(!e.current||!r)return;const s=(o=e.current.ownerDocument.defaultView)!=null?o:window,c=Array.isArray(t)?t:[t],u=new s.MutationObserver(f=>{for(const p of f)p.type==="attributes"&&p.attributeName&&c.includes(p.attributeName)&&n(p)});return u.observe(e.current,{attributes:!0,attributeFilter:c}),()=>u.disconnect()})}function D7(e,t){const n=Wt(e);g.useEffect(()=>{let r=null;const o=()=>n();return t!==null&&(r=window.setInterval(o,t)),()=>{r&&window.clearInterval(r)}},[t,n])}var A7=50,Og=300;function O7(e,t){const[n,r]=g.useState(!1),[o,s]=g.useState(null),[c,u]=g.useState(!0),f=g.useRef(null),p=()=>clearTimeout(f.current);D7(()=>{o==="increment"&&e(),o==="decrement"&&t()},n?A7:null);const h=g.useCallback(()=>{c&&e(),f.current=setTimeout(()=>{u(!1),r(!0),s("increment")},Og)},[e,c]),y=g.useCallback(()=>{c&&t(),f.current=setTimeout(()=>{u(!1),r(!0),s("decrement")},Og)},[t,c]),x=g.useCallback(()=>{u(!0),r(!1),p()},[]);return g.useEffect(()=>()=>p(),[]),{up:h,down:y,stop:x,isSpinning:n}}var z7=/^[Ee0-9+\-.]$/;function R7(e){return z7.test(e)}function N7(e,t){if(e.key==null)return!0;const n=e.ctrlKey||e.altKey||e.metaKey;return!(e.key.length===1)||n?!0:t(e.key)}function F7(e={}){const{focusInputOnChange:t=!0,clampValueOnBlur:n=!0,keepWithinRange:r=!0,min:o=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:c=1,isReadOnly:u,isDisabled:f,isRequired:p,isInvalid:h,pattern:y="[0-9]*(.[0-9]+)?",inputMode:x="decimal",allowMouseWheel:S,id:C,onChange:j,precision:w,name:k,"aria-describedby":I,"aria-label":P,"aria-labelledby":M,onFocus:T,onBlur:D,onInvalid:_,getAriaValueText:R,isValidCharacter:V,format:F,parse:B,...Q}=e,U=Wt(T),X=Wt(D),te=Wt(_),re=Wt(V??R7),$=Wt(R),Z=l5(e),{update:oe,increment:le,decrement:ze}=Z,[Re,Ie]=g.useState(!1),pe=!(u||f),ce=g.useRef(null),Ne=g.useRef(null),Ve=g.useRef(null),Ue=g.useRef(null),$e=g.useCallback(J=>J.split("").filter(re).join(""),[re]),Ze=g.useCallback(J=>{var Le;return(Le=B==null?void 0:B(J))!=null?Le:J},[B]),ve=g.useCallback(J=>{var Le;return((Le=F==null?void 0:F(J))!=null?Le:J).toString()},[F]);ni(()=>{(Z.valueAsNumber>s||Z.valueAsNumber<o)&&(te==null||te("rangeOverflow",ve(Z.value),Z.valueAsNumber))},[Z.valueAsNumber,Z.value,ve,te]),Wi(()=>{if(!ce.current)return;if(ce.current.value!=Z.value){const Le=Ze(ce.current.value);Z.setValue($e(Le))}},[Ze,$e]);const Te=g.useCallback((J=c)=>{pe&&le(J)},[le,pe,c]),Ge=g.useCallback((J=c)=>{pe&&ze(J)},[ze,pe,c]),ye=O7(Te,Ge);Ag(Ve,"disabled",ye.stop,ye.isSpinning),Ag(Ue,"disabled",ye.stop,ye.isSpinning);const Pe=g.useCallback(J=>{if(J.nativeEvent.isComposing)return;const nt=Ze(J.currentTarget.value);oe($e(nt)),Ne.current={start:J.currentTarget.selectionStart,end:J.currentTarget.selectionEnd}},[oe,$e,Ze]),et=g.useCallback(J=>{var Le,nt,Nt;U==null||U(J),Ne.current&&(J.target.selectionStart=(nt=Ne.current.start)!=null?nt:(Le=J.currentTarget.value)==null?void 0:Le.length,J.currentTarget.selectionEnd=(Nt=Ne.current.end)!=null?Nt:J.currentTarget.selectionStart)},[U]),Be=g.useCallback(J=>{if(J.nativeEvent.isComposing)return;N7(J,re)||J.preventDefault();const Le=vt(J)*c,nt=J.key,he={ArrowUp:()=>Te(Le),ArrowDown:()=>Ge(Le),Home:()=>oe(o),End:()=>oe(s)}[nt];he&&(J.preventDefault(),he(J))},[re,c,Te,Ge,oe,o,s]),vt=J=>{let Le=1;return(J.metaKey||J.ctrlKey)&&(Le=.1),J.shiftKey&&(Le=10),Le},Rt=g.useMemo(()=>{const J=$==null?void 0:$(Z.value);if(J!=null)return J;const Le=Z.value.toString();return Le||void 0},[Z.value,$]),N=g.useCallback(()=>{let J=Z.value;if(Z.value==="")return;/^[eE]/.test(Z.value.toString())?Z.setValue(""):(Z.valueAsNumber<o&&(J=o),Z.valueAsNumber>s&&(J=s),Z.cast(J))},[Z,s,o]),ue=g.useCallback(()=>{Ie(!1),n&&N()},[n,Ie,N]),xe=g.useCallback(()=>{t&&requestAnimationFrame(()=>{var J;(J=ce.current)==null||J.focus()})},[t]),je=g.useCallback(J=>{J.preventDefault(),ye.up(),xe()},[xe,ye]),q=g.useCallback(J=>{J.preventDefault(),ye.down(),xe()},[xe,ye]);Go(()=>ce.current,"wheel",J=>{var Le,nt;const he=((nt=(Le=ce.current)==null?void 0:Le.ownerDocument)!=null?nt:document).activeElement===ce.current;if(!S||!he)return;J.preventDefault();const _e=vt(J)*c,dn=Math.sign(J.deltaY);dn===-1?Te(_e):dn===1&&Ge(_e)},{passive:!1});const ae=g.useCallback((J={},Le=null)=>{const nt=f||r&&Z.isAtMax;return{...J,ref:ct(Le,Ve),role:"button",tabIndex:-1,onPointerDown:Ee(J.onPointerDown,Nt=>{Nt.button!==0||nt||je(Nt)}),onPointerLeave:Ee(J.onPointerLeave,ye.stop),onPointerUp:Ee(J.onPointerUp,ye.stop),disabled:nt,"aria-disabled":Nr(nt)}},[Z.isAtMax,r,je,ye.stop,f]),Oe=g.useCallback((J={},Le=null)=>{const nt=f||r&&Z.isAtMin;return{...J,ref:ct(Le,Ue),role:"button",tabIndex:-1,onPointerDown:Ee(J.onPointerDown,Nt=>{Nt.button!==0||nt||q(Nt)}),onPointerLeave:Ee(J.onPointerLeave,ye.stop),onPointerUp:Ee(J.onPointerUp,ye.stop),disabled:nt,"aria-disabled":Nr(nt)}},[Z.isAtMin,r,q,ye.stop,f]),Je=g.useCallback((J={},Le=null)=>{var nt,Nt,he,_e;return{name:k,inputMode:x,type:"text",pattern:y,"aria-labelledby":M,"aria-label":P,"aria-describedby":I,id:C,disabled:f,...J,readOnly:(nt=J.readOnly)!=null?nt:u,"aria-readonly":(Nt=J.readOnly)!=null?Nt:u,"aria-required":(he=J.required)!=null?he:p,required:(_e=J.required)!=null?_e:p,ref:ct(ce,Le),value:ve(Z.value),role:"spinbutton","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":Number.isNaN(Z.valueAsNumber)?void 0:Z.valueAsNumber,"aria-invalid":Nr(h??Z.isOutOfRange),"aria-valuetext":Rt,autoComplete:"off",autoCorrect:"off",onChange:Ee(J.onChange,Pe),onKeyDown:Ee(J.onKeyDown,Be),onFocus:Ee(J.onFocus,et,()=>Ie(!0)),onBlur:Ee(J.onBlur,X,ue)}},[k,x,y,M,P,ve,I,C,f,p,u,h,Z.value,Z.valueAsNumber,Z.isOutOfRange,o,s,Rt,Pe,Be,et,X,ue]);return{value:ve(Z.value),valueAsNumber:Z.valueAsNumber,isFocused:Re,isDisabled:f,isReadOnly:u,getIncrementButtonProps:ae,getDecrementButtonProps:Oe,getInputProps:Je,htmlProps:Q}}var[L7,Tc]=kt({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[B7,Nh]=kt({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),Fh=fe(function(t,n){const r=un("NumberInput",t),o=At(t),s=ch(o),{htmlProps:c,...u}=F7(s),f=g.useMemo(()=>u,[u]);return l.jsx(B7,{value:f,children:l.jsx(L7,{value:r,children:l.jsx(ne.div,{...c,ref:n,className:Ae("chakra-numberinput",t.className),__css:{position:"relative",zIndex:0,...r.root}})})})});Fh.displayName="NumberInput";var Lh=fe(function(t,n){const r=Tc();return l.jsx(ne.div,{"aria-hidden":!0,ref:n,...t,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...r.stepperGroup}})});Lh.displayName="NumberInputStepper";var Bh=fe(function(t,n){const{getInputProps:r}=Nh(),o=r(t,n),s=Tc();return l.jsx(ne.input,{...o,className:Ae("chakra-numberinput__field",t.className),__css:{width:"100%",...s.field}})});Bh.displayName="NumberInputField";var Jy=ne("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),Hh=fe(function(t,n){var r;const o=Tc(),{getDecrementButtonProps:s}=Nh(),c=s(t,n);return l.jsx(Jy,{...c,__css:o.stepper,children:(r=t.children)!=null?r:l.jsx(T7,{})})});Hh.displayName="NumberDecrementStepper";var Wh=fe(function(t,n){var r;const{getIncrementButtonProps:o}=Nh(),s=o(t,n),c=Tc();return l.jsx(Jy,{...s,__css:c.stepper,children:(r=t.children)!=null?r:l.jsx(_7,{})})});Wh.displayName="NumberIncrementStepper";var[H7,ms]=kt({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[W7,Vh]=kt({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function Uh(e){const t=g.Children.only(e.children),{getTriggerProps:n}=ms();return g.cloneElement(t,n(t.props,t.ref))}Uh.displayName="PopoverTrigger";var Mi={click:"click",hover:"hover"};function V7(e={}){const{closeOnBlur:t=!0,closeOnEsc:n=!0,initialFocusRef:r,id:o,returnFocusOnClose:s=!0,autoFocus:c=!0,arrowSize:u,arrowShadowColor:f,trigger:p=Mi.click,openDelay:h=200,closeDelay:y=200,isLazy:x,lazyBehavior:S="unmount",computePositionOnMount:C,...j}=e,{isOpen:w,onClose:k,onOpen:I,onToggle:P}=Dh(e),M=g.useRef(null),T=g.useRef(null),D=g.useRef(null),_=g.useRef(!1),R=g.useRef(!1);w&&(R.current=!0);const[V,F]=g.useState(!1),[B,Q]=g.useState(!1),U=g.useId(),X=o??U,[te,re,$,Z]=["popover-trigger","popover-content","popover-header","popover-body"].map(Pe=>`${Pe}-${X}`),{referenceRef:oe,getArrowProps:le,getPopperProps:ze,getArrowInnerProps:Re,forceUpdate:Ie}=_h({...j,enabled:w||!!C}),pe=Fy({isOpen:w,ref:D});m5({enabled:w,ref:T}),Py(D,{focusRef:T,visible:w,shouldFocus:s&&p===Mi.click}),Q6(D,{focusRef:r,visible:w,shouldFocus:c&&p===Mi.click});const ce=Ah({wasSelected:R.current,enabled:x,mode:S,isSelected:pe.present}),Ne=g.useCallback((Pe={},et=null)=>{const Be={...Pe,style:{...Pe.style,transformOrigin:Ht.transformOrigin.varRef,[Ht.arrowSize.var]:u?`${u}px`:void 0,[Ht.arrowShadowColor.var]:f},ref:ct(D,et),children:ce?Pe.children:null,id:re,tabIndex:-1,role:"dialog",onKeyDown:Ee(Pe.onKeyDown,vt=>{n&&vt.key==="Escape"&&k()}),onBlur:Ee(Pe.onBlur,vt=>{const Rt=zg(vt),N=Md(D.current,Rt),ue=Md(T.current,Rt);w&&t&&(!N&&!ue)&&k()}),"aria-labelledby":V?$:void 0,"aria-describedby":B?Z:void 0};return p===Mi.hover&&(Be.role="tooltip",Be.onMouseEnter=Ee(Pe.onMouseEnter,()=>{_.current=!0}),Be.onMouseLeave=Ee(Pe.onMouseLeave,vt=>{vt.nativeEvent.relatedTarget!==null&&(_.current=!1,setTimeout(()=>k(),y))})),Be},[ce,re,V,$,B,Z,p,n,k,w,t,y,f,u]),Ve=g.useCallback((Pe={},et=null)=>ze({...Pe,style:{visibility:w?"visible":"hidden",...Pe.style}},et),[w,ze]),Ue=g.useCallback((Pe,et=null)=>({...Pe,ref:ct(et,M,oe)}),[M,oe]),$e=g.useRef(),Ze=g.useRef(),ve=g.useCallback(Pe=>{M.current==null&&oe(Pe)},[oe]),Te=g.useCallback((Pe={},et=null)=>{const Be={...Pe,ref:ct(T,et,ve),id:te,"aria-haspopup":"dialog","aria-expanded":w,"aria-controls":re};return p===Mi.click&&(Be.onClick=Ee(Pe.onClick,P)),p===Mi.hover&&(Be.onFocus=Ee(Pe.onFocus,()=>{$e.current===void 0&&I()}),Be.onBlur=Ee(Pe.onBlur,vt=>{const Rt=zg(vt),N=!Md(D.current,Rt);w&&t&&N&&k()}),Be.onKeyDown=Ee(Pe.onKeyDown,vt=>{vt.key==="Escape"&&k()}),Be.onMouseEnter=Ee(Pe.onMouseEnter,()=>{_.current=!0,$e.current=window.setTimeout(()=>I(),h)}),Be.onMouseLeave=Ee(Pe.onMouseLeave,()=>{_.current=!1,$e.current&&(clearTimeout($e.current),$e.current=void 0),Ze.current=window.setTimeout(()=>{_.current===!1&&k()},y)})),Be},[te,w,re,p,ve,P,I,t,k,h,y]);g.useEffect(()=>()=>{$e.current&&clearTimeout($e.current),Ze.current&&clearTimeout(Ze.current)},[]);const Ge=g.useCallback((Pe={},et=null)=>({...Pe,id:$,ref:ct(et,Be=>{F(!!Be)})}),[$]),ye=g.useCallback((Pe={},et=null)=>({...Pe,id:Z,ref:ct(et,Be=>{Q(!!Be)})}),[Z]);return{forceUpdate:Ie,isOpen:w,onAnimationComplete:pe.onComplete,onClose:k,getAnchorProps:Ue,getArrowProps:le,getArrowInnerProps:Re,getPopoverPositionerProps:Ve,getPopoverProps:Ne,getTriggerProps:Te,getHeaderProps:Ge,getBodyProps:ye}}function Md(e,t){return e===t||(e==null?void 0:e.contains(t))}function zg(e){var t;const n=e.currentTarget.ownerDocument.activeElement;return(t=e.relatedTarget)!=null?t:n}function $h(e){const t=un("Popover",e),{children:n,...r}=At(e),o=na(),s=V7({...r,direction:o.direction});return l.jsx(H7,{value:s,children:l.jsx(W7,{value:t,children:w1(n,{isOpen:s.isOpen,onClose:s.onClose,forceUpdate:s.forceUpdate})})})}$h.displayName="Popover";function Gh(e){var t;const{bg:n,bgColor:r,backgroundColor:o,shadow:s,boxShadow:c}=e,{getArrowProps:u,getArrowInnerProps:f}=ms(),p=Vh(),h=(t=n??r)!=null?t:o,y=s??c;return l.jsx(ne.div,{...u(),className:"chakra-popover__arrow-positioner",children:l.jsx(ne.div,{className:Ae("chakra-popover__arrow",e.className),...f(e),__css:{"--popper-arrow-bg":h?`colors.${h}, ${h}`:void 0,"--popper-arrow-shadow":y?`shadows.${y}, ${y}`:void 0,...p.arrow}})})}Gh.displayName="PopoverArrow";var ex=fe(function(t,n){const{getBodyProps:r}=ms(),o=Vh();return l.jsx(ne.div,{...r(t,n),className:Ae("chakra-popover__body",t.className),__css:o.body})});ex.displayName="PopoverBody";function U7(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var $7={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},G7=ne(ar.section),tx=fe(function(t,n){const{variants:r=$7,...o}=t,{isOpen:s}=ms();return l.jsx(G7,{ref:n,variants:U7(r),initial:!1,animate:s?"enter":"exit",...o})});tx.displayName="PopoverTransition";var qh=fe(function(t,n){const{rootProps:r,motionProps:o,...s}=t,{getPopoverProps:c,getPopoverPositionerProps:u,onAnimationComplete:f}=ms(),p=Vh(),h={position:"relative",display:"flex",flexDirection:"column",...p.content};return l.jsx(ne.div,{...u(r),__css:p.popper,className:"chakra-popover__popper",children:l.jsx(tx,{...o,...c(s,n),onAnimationComplete:bc(f,s.onAnimationComplete),className:Ae("chakra-popover__content",t.className),__css:h})})});qh.displayName="PopoverContent";function q7(e,t,n){return(e-t)*100/(n-t)}ti({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});ti({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});var Y7=ti({"0%":{left:"-40%"},"100%":{left:"100%"}}),K7=ti({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function X7(e){const{value:t=0,min:n,max:r,valueText:o,getValueText:s,isIndeterminate:c,role:u="progressbar"}=e,f=q7(t,n,r);return{bind:{"data-indeterminate":c?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":c?void 0:t,"aria-valuetext":(()=>{if(t!=null)return typeof s=="function"?s(t,f):o})(),role:u},percent:f,value:t}}var[Q7,Z7]=kt({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),J7=fe((e,t)=>{const{min:n,max:r,value:o,isIndeterminate:s,role:c,...u}=e,f=X7({value:o,min:n,max:r,isIndeterminate:s,role:c}),h={height:"100%",...Z7().filledTrack};return l.jsx(ne.div,{ref:t,style:{width:`${f.percent}%`,...u.style},...f.bind,...u,__css:h})}),nx=fe((e,t)=>{var n;const{value:r,min:o=0,max:s=100,hasStripe:c,isAnimated:u,children:f,borderRadius:p,isIndeterminate:h,"aria-label":y,"aria-labelledby":x,"aria-valuetext":S,title:C,role:j,...w}=At(e),k=un("Progress",e),I=p??((n=k.track)==null?void 0:n.borderRadius),P={animation:`${K7} 1s linear infinite`},D={...!h&&c&&u&&P,...h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${Y7} 1s ease infinite normal none running`}},_={overflow:"hidden",position:"relative",...k.track};return l.jsx(ne.div,{ref:t,borderRadius:I,__css:_,...w,children:l.jsxs(Q7,{value:k,children:[l.jsx(J7,{"aria-label":y,"aria-labelledby":x,"aria-valuetext":S,min:o,max:s,value:r,isIndeterminate:h,css:D,borderRadius:I,title:C,role:j}),f]})})});nx.displayName="Progress";function e8(e){return e&&Zd(e)&&Zd(e.target)}function t8(e={}){const{onChange:t,value:n,defaultValue:r,name:o,isDisabled:s,isFocusable:c,isNative:u,...f}=e,[p,h]=g.useState(r||""),y=typeof n<"u",x=y?n:p,S=g.useRef(null),C=g.useCallback(()=>{const T=S.current;if(!T)return;let D="input:not(:disabled):checked";const _=T.querySelector(D);if(_){_.focus();return}D="input:not(:disabled)";const R=T.querySelector(D);R==null||R.focus()},[]),w=`radio-${g.useId()}`,k=o||w,I=g.useCallback(T=>{const D=e8(T)?T.target.value:T;y||h(D),t==null||t(String(D))},[t,y]),P=g.useCallback((T={},D=null)=>({...T,ref:ct(D,S),role:"radiogroup"}),[]),M=g.useCallback((T={},D=null)=>({...T,ref:D,name:k,[u?"checked":"isChecked"]:x!=null?T.value===x:void 0,onChange(R){I(R)},"data-radiogroup":!0}),[u,k,I,x]);return{getRootProps:P,getRadioProps:M,name:k,ref:S,focus:C,setValue:h,value:x,onChange:I,isDisabled:s,isFocusable:c,htmlProps:f}}var[n8,rx]=kt({name:"RadioGroupContext",strict:!1}),Ja=fe((e,t)=>{const{colorScheme:n,size:r,variant:o,children:s,className:c,isDisabled:u,isFocusable:f,...p}=e,{value:h,onChange:y,getRootProps:x,name:S,htmlProps:C}=t8(p),j=g.useMemo(()=>({name:S,size:r,onChange:y,colorScheme:n,value:h,variant:o,isDisabled:u,isFocusable:f}),[S,r,y,n,h,o,u,f]);return l.jsx(n8,{value:j,children:l.jsx(ne.div,{...x(C,t),className:Ae("chakra-radio-group",c),children:s})})});Ja.displayName="RadioGroup";var r8={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function o8(e={}){const{defaultChecked:t,isChecked:n,isFocusable:r,isDisabled:o,isReadOnly:s,isRequired:c,onChange:u,isInvalid:f,name:p,value:h,id:y,"data-radiogroup":x,"aria-describedby":S,...C}=e,j=`radio-${g.useId()}`,w=oi(),I=!!rx()||!!x;let M=!!w&&!I?w.id:j;M=y??M;const T=o??(w==null?void 0:w.isDisabled),D=s??(w==null?void 0:w.isReadOnly),_=c??(w==null?void 0:w.isRequired),R=f??(w==null?void 0:w.isInvalid),[V,F]=g.useState(!1),[B,Q]=g.useState(!1),[U,X]=g.useState(!1),[te,re]=g.useState(!1),[$,Z]=g.useState(Boolean(t)),oe=typeof n<"u",le=oe?n:$;g.useEffect(()=>P2(F),[]);const ze=g.useCallback(ve=>{if(D||T){ve.preventDefault();return}oe||Z(ve.target.checked),u==null||u(ve)},[oe,T,D,u]),Re=g.useCallback(ve=>{ve.key===" "&&re(!0)},[re]),Ie=g.useCallback(ve=>{ve.key===" "&&re(!1)},[re]),pe=g.useCallback((ve={},Te=null)=>({...ve,ref:Te,"data-active":qe(te),"data-hover":qe(U),"data-disabled":qe(T),"data-invalid":qe(R),"data-checked":qe(le),"data-focus":qe(B),"data-focus-visible":qe(B&&V),"data-readonly":qe(D),"aria-hidden":!0,onMouseDown:Ee(ve.onMouseDown,()=>re(!0)),onMouseUp:Ee(ve.onMouseUp,()=>re(!1)),onMouseEnter:Ee(ve.onMouseEnter,()=>X(!0)),onMouseLeave:Ee(ve.onMouseLeave,()=>X(!1))}),[te,U,T,R,le,B,D,V]),{onFocus:ce,onBlur:Ne}=w??{},Ve=g.useCallback((ve={},Te=null)=>{const Ge=T&&!r;return{...ve,id:M,ref:Te,type:"radio",name:p,value:h,onChange:Ee(ve.onChange,ze),onBlur:Ee(Ne,ve.onBlur,()=>Q(!1)),onFocus:Ee(ce,ve.onFocus,()=>Q(!0)),onKeyDown:Ee(ve.onKeyDown,Re),onKeyUp:Ee(ve.onKeyUp,Ie),checked:le,disabled:Ge,readOnly:D,required:_,"aria-invalid":Nr(R),"aria-disabled":Nr(Ge),"aria-required":Nr(_),"data-readonly":qe(D),"aria-describedby":S,style:r8}},[T,r,M,p,h,ze,Ne,ce,Re,Ie,le,D,_,R,S]);return{state:{isInvalid:R,isFocused:B,isChecked:le,isActive:te,isHovered:U,isDisabled:T,isReadOnly:D,isRequired:_},getCheckboxProps:pe,getInputProps:Ve,getLabelProps:(ve={},Te=null)=>({...ve,ref:Te,onMouseDown:Ee(ve.onMouseDown,Rg),onTouchStart:Ee(ve.onTouchStart,Rg),"data-disabled":qe(T),"data-checked":qe(le),"data-invalid":qe(R)}),getRootProps:(ve,Te=null)=>({...ve,ref:Te,"data-disabled":qe(T),"data-checked":qe(le),"data-invalid":qe(R)}),htmlProps:C}}function Rg(e){e.preventDefault(),e.stopPropagation()}function i8(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var vn=fe((e,t)=>{var n;const r=rx(),{onChange:o,value:s}=e,c=un("Radio",{...r,...e}),u=At(e),{spacing:f="0.5rem",children:p,isDisabled:h=r==null?void 0:r.isDisabled,isFocusable:y=r==null?void 0:r.isFocusable,inputProps:x,...S}=u;let C=e.isChecked;(r==null?void 0:r.value)!=null&&s!=null&&(C=r.value===s);let j=o;r!=null&&r.onChange&&s!=null&&(j=bc(r.onChange,o));const w=(n=e==null?void 0:e.name)!=null?n:r==null?void 0:r.name,{getInputProps:k,getCheckboxProps:I,getLabelProps:P,getRootProps:M,htmlProps:T}=o8({...S,isChecked:C,isFocusable:y,isDisabled:h,onChange:j,name:w}),[D,_]=i8(T,j1),R=I(_),V=k(x,t),F=P(),B=Object.assign({},D,M()),Q={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...c.container},U={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...c.control},X={userSelect:"none",marginStart:f,...c.label};return l.jsxs(ne.label,{className:"chakra-radio",...B,__css:Q,children:[l.jsx("input",{className:"chakra-radio__input",...V}),l.jsx(ne.span,{className:"chakra-radio__control",...R,__css:U}),p&&l.jsx(ne.span,{className:"chakra-radio__label",...F,__css:X,children:p})]})});vn.displayName="Radio";var ox=fe(function(t,n){const{children:r,placeholder:o,className:s,...c}=t;return l.jsxs(ne.select,{...c,ref:n,className:Ae("chakra-select",s),children:[o&&l.jsx("option",{value:"",children:o}),r]})});ox.displayName="SelectField";function a8(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var ix=fe((e,t)=>{var n;const r=un("Select",e),{rootProps:o,placeholder:s,icon:c,color:u,height:f,h:p,minH:h,minHeight:y,iconColor:x,iconSize:S,...C}=At(e),[j,w]=a8(C,j1),k=lh(w),I={width:"100%",height:"fit-content",position:"relative",color:u},P={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return l.jsxs(ne.div,{className:"chakra-select__wrapper",__css:I,...j,...o,children:[l.jsx(ox,{ref:t,height:p??f,minH:h??y,placeholder:s,...k,__css:P,children:e.children}),l.jsx(ax,{"data-disabled":qe(k.disabled),...(x||u)&&{color:x||u},__css:r.icon,...S&&{fontSize:S},children:c})]})});ix.displayName="Select";var s8=e=>l.jsx("svg",{viewBox:"0 0 24 24",...e,children:l.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),l8=ne("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),ax=e=>{const{children:t=l.jsx(s8,{}),...n}=e,r=g.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return l.jsx(l8,{...n,className:"chakra-select__icon-wrapper",children:g.isValidElement(t)?r:null})};ax.displayName="SelectIcon";var Ti=e=>e?"":void 0,Td=e=>e?!0:void 0,vs=(...e)=>e.filter(Boolean).join(" ");function _d(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function Pl(e){const{orientation:t,vertical:n,horizontal:r}=e;return t==="vertical"?n:r}var Gl={width:0,height:0},Il=e=>e||Gl;function c8(e){const{orientation:t,thumbPercents:n,thumbRects:r,isReversed:o}=e,s=j=>{var w;const k=(w=r[j])!=null?w:Gl;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...Pl({orientation:t,vertical:{bottom:`calc(${n[j]}% - ${k.height/2}px)`},horizontal:{left:`calc(${n[j]}% - ${k.width/2}px)`}})}},c=t==="vertical"?r.reduce((j,w)=>Il(j).height>Il(w).height?j:w,Gl):r.reduce((j,w)=>Il(j).width>Il(w).width?j:w,Gl),u={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...Pl({orientation:t,vertical:c?{paddingLeft:c.width/2,paddingRight:c.width/2}:{},horizontal:c?{paddingTop:c.height/2,paddingBottom:c.height/2}:{}})},f={position:"absolute",...Pl({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},p=n.length===1,h=[0,o?100-n[0]:n[0]],y=p?h:n;let x=y[0];!p&&o&&(x=100-x);const S=Math.abs(y[y.length-1]-y[0]),C={...f,...Pl({orientation:t,vertical:o?{height:`${S}%`,top:`${x}%`}:{height:`${S}%`,bottom:`${x}%`},horizontal:o?{width:`${S}%`,right:`${x}%`}:{width:`${S}%`,left:`${x}%`}})};return{trackStyle:f,innerTrackStyle:C,rootStyle:u,getThumbStyle:s}}function u8(e){const{isReversed:t,direction:n,orientation:r}=e;return n==="ltr"||r==="vertical"?t:!t}function d8(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function f8(e){const t=p8(e);return typeof t.PointerEvent<"u"&&e instanceof t.PointerEvent?e.pointerType==="mouse":e instanceof t.MouseEvent}function sx(e){return!!e.touches}function h8(e){return sx(e)&&e.touches.length>1}function p8(e){var t;return(t=e.view)!=null?t:window}function m8(e,t="page"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function v8(e,t="page"){return{x:e[`${t}X`],y:e[`${t}Y`]}}function lx(e,t="page"){return sx(e)?m8(e,t):v8(e,t)}function g8(e){return t=>{const n=f8(t);(!n||n&&t.button===0)&&e(t)}}function y8(e,t=!1){function n(o){e(o,{point:lx(o)})}return t?g8(n):n}function ql(e,t,n,r){return d8(e,t,y8(n,t==="pointerdown"),r)}var x8=Object.defineProperty,b8=(e,t,n)=>t in e?x8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zn=(e,t,n)=>(b8(e,typeof t!="symbol"?t+"":t,n),n),S8=class{constructor(e,t,n){Zn(this,"history",[]),Zn(this,"startEvent",null),Zn(this,"lastEvent",null),Zn(this,"lastEventInfo",null),Zn(this,"handlers",{}),Zn(this,"removeListeners",()=>{}),Zn(this,"threshold",3),Zn(this,"win"),Zn(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const u=Dd(this.lastEventInfo,this.history),f=this.startEvent!==null,p=k8(u.offset,{x:0,y:0})>=this.threshold;if(!f&&!p)return;const{timestamp:h}=Kv();this.history.push({...u.point,timestamp:h});const{onStart:y,onMove:x}=this.handlers;f||(y==null||y(this.lastEvent,u),this.startEvent=this.lastEvent),x==null||x(this.lastEvent,u)}),Zn(this,"onPointerMove",(u,f)=>{this.lastEvent=u,this.lastEventInfo=f,YC.update(this.updatePoint,!0)}),Zn(this,"onPointerUp",(u,f)=>{const p=Dd(f,this.history),{onEnd:h,onSessionEnd:y}=this.handlers;y==null||y(u,p),this.end(),!(!h||!this.startEvent)&&(h==null||h(u,p))});var r;if(this.win=(r=e.view)!=null?r:window,h8(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const o={point:lx(e)},{timestamp:s}=Kv();this.history=[{...o.point,timestamp:s}];const{onSessionStart:c}=t;c==null||c(e,Dd(o,this.history)),this.removeListeners=j8(ql(this.win,"pointermove",this.onPointerMove),ql(this.win,"pointerup",this.onPointerUp),ql(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),KC.update(this.updatePoint)}};function Ng(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dd(e,t){return{point:e.point,delta:Ng(e.point,t[t.length-1]),offset:Ng(e.point,t[0]),velocity:w8(t,.1)}}var C8=e=>e*1e3;function w8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=e[e.length-1];for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>C8(t)));)n--;if(!r)return{x:0,y:0};const s=(o.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const c={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function j8(...e){return t=>e.reduce((n,r)=>r(n),t)}function Ad(e,t){return Math.abs(e-t)}function Fg(e){return"x"in e&&"y"in e}function k8(e,t){if(typeof e=="number"&&typeof t=="number")return Ad(e,t);if(Fg(e)&&Fg(t)){const n=Ad(e.x,t.x),r=Ad(e.y,t.y);return Math.sqrt(n**2+r**2)}return 0}function cx(e){const t=g.useRef(null);return t.current=e,t}function E8(e,t){const{onPan:n,onPanStart:r,onPanEnd:o,onPanSessionStart:s,onPanSessionEnd:c,threshold:u}=t,f=Boolean(n||r||o||s||c),p=g.useRef(null),h=cx({onSessionStart:s,onSessionEnd:c,onStart:r,onMove:n,onEnd(y,x){p.current=null,o==null||o(y,x)}});g.useEffect(()=>{var y;(y=p.current)==null||y.updateHandlers(h.current)}),g.useEffect(()=>{const y=e.current;if(!y||!f)return;function x(S){p.current=new S8(S,h.current,u)}return ql(y,"pointerdown",x)},[e,f,h,u]),g.useEffect(()=>()=>{var y;(y=p.current)==null||y.end(),p.current=null},[])}function P8(e,t){var n;if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const r=(n=e.ownerDocument.defaultView)!=null?n:window,o=new r.ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const[c]=s;let u,f;if("borderBoxSize"in c){const p=c.borderBoxSize,h=Array.isArray(p)?p[0]:p;u=h.inlineSize,f=h.blockSize}else u=e.offsetWidth,f=e.offsetHeight;t({width:u,height:f})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}var I8=Boolean(globalThis==null?void 0:globalThis.document)?g.useLayoutEffect:g.useEffect;function M8(e,t){var n,r;if(!e||!e.parentElement)return;const o=(r=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?r:window,s=new o.MutationObserver(()=>{t()});return s.observe(e.parentElement,{childList:!0}),()=>{s.disconnect()}}function T8({getNodes:e,observeMutation:t=!0}){const[n,r]=g.useState([]),[o,s]=g.useState(0);return I8(()=>{const c=e(),u=c.map((f,p)=>P8(f,h=>{r(y=>[...y.slice(0,p),h,...y.slice(p+1)])}));if(t){const f=c[0];u.push(M8(f,()=>{s(p=>p+1)}))}return()=>{u.forEach(f=>{f==null||f()})}},[o]),n}function _8(e){return typeof e=="object"&&e!==null&&"current"in e}function D8(e){const[t]=T8({observeMutation:!1,getNodes(){return[_8(e)?e.current:e]}});return t}function A8(e){var t;const{min:n=0,max:r=100,onChange:o,value:s,defaultValue:c,isReversed:u,direction:f="ltr",orientation:p="horizontal",id:h,isDisabled:y,isReadOnly:x,onChangeStart:S,onChangeEnd:C,step:j=1,getAriaValueText:w,"aria-valuetext":k,"aria-label":I,"aria-labelledby":P,name:M,focusThumbOnChange:T=!0,...D}=e,_=Wt(S),R=Wt(C),V=Wt(w),F=u8({isReversed:u,direction:f,orientation:p}),[B,Q]=oh({value:s,defaultValue:c??z8(n,r),onChange:o}),[U,X]=g.useState(!1),[te,re]=g.useState(!1),$=!(y||x),Z=(r-n)/10,oe=j||(r-n)/100,le=Wl(B,n,r),ze=r-le+n,Ie=ag(F?ze:le,n,r),pe=p==="vertical",ce=cx({min:n,max:r,step:j,isDisabled:y,value:le,isInteractive:$,isReversed:F,isVertical:pe,eventSource:null,focusThumbOnChange:T,orientation:p}),Ne=g.useRef(null),Ve=g.useRef(null),Ue=g.useRef(null),$e=g.useId(),Ze=h??$e,[ve,Te]=[`slider-thumb-${Ze}`,`slider-track-${Ze}`],Ge=g.useCallback(he=>{var _e,dn;if(!Ne.current)return;const Vt=ce.current;Vt.eventSource="pointer";const fn=Ne.current.getBoundingClientRect(),{clientX:sr,clientY:ko}=(dn=(_e=he.touches)==null?void 0:_e[0])!=null?dn:he,ca=pe?fn.bottom-ko:sr-fn.left,Qc=pe?fn.height:fn.width;let ua=ca/Qc;F&&(ua=1-ua);let Eo=s5(ua,Vt.min,Vt.max);return Vt.step&&(Eo=parseFloat(sg(Eo,Vt.min,Vt.step))),Eo=Wl(Eo,Vt.min,Vt.max),Eo},[pe,F,ce]),ye=g.useCallback(he=>{const _e=ce.current;_e.isInteractive&&(he=parseFloat(sg(he,_e.min,oe)),he=Wl(he,_e.min,_e.max),Q(he))},[oe,Q,ce]),Pe=g.useMemo(()=>({stepUp(he=oe){const _e=F?le-he:le+he;ye(_e)},stepDown(he=oe){const _e=F?le+he:le-he;ye(_e)},reset(){ye(c||0)},stepTo(he){ye(he)}}),[ye,F,le,oe,c]),et=g.useCallback(he=>{const _e=ce.current,Vt={ArrowRight:()=>Pe.stepUp(),ArrowUp:()=>Pe.stepUp(),ArrowLeft:()=>Pe.stepDown(),ArrowDown:()=>Pe.stepDown(),PageUp:()=>Pe.stepUp(Z),PageDown:()=>Pe.stepDown(Z),Home:()=>ye(_e.min),End:()=>ye(_e.max)}[he.key];Vt&&(he.preventDefault(),he.stopPropagation(),Vt(he),_e.eventSource="keyboard")},[Pe,ye,Z,ce]),Be=(t=V==null?void 0:V(le))!=null?t:k,vt=D8(Ve),{getThumbStyle:Rt,rootStyle:N,trackStyle:ue,innerTrackStyle:xe}=g.useMemo(()=>{const he=ce.current,_e=vt??{width:0,height:0};return c8({isReversed:F,orientation:he.orientation,thumbRects:[_e],thumbPercents:[Ie]})},[F,vt,Ie,ce]),je=g.useCallback(()=>{ce.current.focusThumbOnChange&&setTimeout(()=>{var _e;return(_e=Ve.current)==null?void 0:_e.focus()})},[ce]);ni(()=>{const he=ce.current;je(),he.eventSource==="keyboard"&&(R==null||R(he.value))},[le,R]);function q(he){const _e=Ge(he);_e!=null&&_e!==ce.current.value&&Q(_e)}E8(Ue,{onPanSessionStart(he){const _e=ce.current;_e.isInteractive&&(X(!0),je(),q(he),_==null||_(_e.value))},onPanSessionEnd(){const he=ce.current;he.isInteractive&&(X(!1),R==null||R(he.value))},onPan(he){ce.current.isInteractive&&q(he)}});const ae=g.useCallback((he={},_e=null)=>({...he,...D,ref:ct(_e,Ue),tabIndex:-1,"aria-disabled":Td(y),"data-focused":Ti(te),style:{...he.style,...N}}),[D,y,te,N]),Oe=g.useCallback((he={},_e=null)=>({...he,ref:ct(_e,Ne),id:Te,"data-disabled":Ti(y),style:{...he.style,...ue}}),[y,Te,ue]),Je=g.useCallback((he={},_e=null)=>({...he,ref:_e,style:{...he.style,...xe}}),[xe]),J=g.useCallback((he={},_e=null)=>({...he,ref:ct(_e,Ve),role:"slider",tabIndex:$?0:void 0,id:ve,"data-active":Ti(U),"aria-valuetext":Be,"aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":le,"aria-orientation":p,"aria-disabled":Td(y),"aria-readonly":Td(x),"aria-label":I,"aria-labelledby":I?void 0:P,style:{...he.style,...Rt(0)},onKeyDown:_d(he.onKeyDown,et),onFocus:_d(he.onFocus,()=>re(!0)),onBlur:_d(he.onBlur,()=>re(!1))}),[$,ve,U,Be,n,r,le,p,y,x,I,P,Rt,et]),Le=g.useCallback((he,_e=null)=>{const dn=!(he.value<n||he.value>r),Vt=le>=he.value,fn=ag(he.value,n,r),sr={position:"absolute",pointerEvents:"none",...O8({orientation:p,vertical:{bottom:F?`${100-fn}%`:`${fn}%`},horizontal:{left:F?`${100-fn}%`:`${fn}%`}})};return{...he,ref:_e,role:"presentation","aria-hidden":!0,"data-disabled":Ti(y),"data-invalid":Ti(!dn),"data-highlighted":Ti(Vt),style:{...he.style,...sr}}},[y,F,r,n,p,le]),nt=g.useCallback((he={},_e=null)=>({...he,ref:_e,type:"hidden",value:le,name:M}),[M,le]);return{state:{value:le,isFocused:te,isDragging:U},actions:Pe,getRootProps:ae,getTrackProps:Oe,getInnerTrackProps:Je,getThumbProps:J,getMarkerProps:Le,getInputProps:nt}}function O8(e){const{orientation:t,vertical:n,horizontal:r}=e;return t==="vertical"?n:r}function z8(e,t){return t<e?e:e+(t-e)/2}var[R8,_c]=kt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[N8,Dc]=kt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),ux=fe((e,t)=>{const n={orientation:"horizontal",...e},r=un("Slider",n),o=At(n),{direction:s}=na();o.direction=s;const{getInputProps:c,getRootProps:u,...f}=A8(o),p=u(),h=c({},t);return l.jsx(R8,{value:f,children:l.jsx(N8,{value:r,children:l.jsxs(ne.div,{...p,className:vs("chakra-slider",n.className),__css:r.container,children:[n.children,l.jsx("input",{...h})]})})})});ux.displayName="Slider";var dx=fe((e,t)=>{const{getThumbProps:n}=_c(),r=Dc(),o=n(e,t);return l.jsx(ne.div,{...o,className:vs("chakra-slider__thumb",e.className),__css:r.thumb})});dx.displayName="SliderThumb";var fx=fe((e,t)=>{const{getTrackProps:n}=_c(),r=Dc(),o=n(e,t);return l.jsx(ne.div,{...o,className:vs("chakra-slider__track",e.className),__css:r.track})});fx.displayName="SliderTrack";var hx=fe((e,t)=>{const{getInnerTrackProps:n}=_c(),r=Dc(),o=n(e,t);return l.jsx(ne.div,{...o,className:vs("chakra-slider__filled-track",e.className),__css:r.filledTrack})});hx.displayName="SliderFilledTrack";var _f=fe((e,t)=>{const{getMarkerProps:n}=_c(),r=Dc(),o=n(e,t);return l.jsx(ne.div,{...o,className:vs("chakra-slider__marker",e.className),__css:r.mark})});_f.displayName="SliderMark";var px=fe(function(t,n){const r=un("Switch",t),{spacing:o="0.5rem",children:s,...c}=At(t),{state:u,getInputProps:f,getCheckboxProps:p,getRootProps:h,getLabelProps:y}=I2(c),x=g.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),S=g.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),C=g.useMemo(()=>({userSelect:"none",marginStart:o,...r.label}),[o,r.label]);return l.jsxs(ne.label,{...h(),className:Ae("chakra-switch",t.className),__css:x,children:[l.jsx("input",{className:"chakra-switch__input",...f({},n)}),l.jsx(ne.span,{...p(),className:"chakra-switch__track",__css:S,children:l.jsx(ne.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":qe(u.isChecked),"data-hover":qe(u.isHovered)})}),s&&l.jsx(ne.span,{className:"chakra-switch__label",...y(),__css:C,children:s})]})});px.displayName="Switch";var[F8,L8,B8,H8]=nh();function W8(e){var t;const{defaultIndex:n,onChange:r,index:o,isManual:s,isLazy:c,lazyBehavior:u="unmount",orientation:f="horizontal",direction:p="ltr",...h}=e,[y,x]=g.useState(n??0),[S,C]=oh({defaultValue:n??0,value:o,onChange:r});g.useEffect(()=>{o!=null&&x(o)},[o]);const j=B8(),w=g.useId();return{id:`tabs-${(t=e.id)!=null?t:w}`,selectedIndex:S,focusedIndex:y,setSelectedIndex:C,setFocusedIndex:x,isManual:s,isLazy:c,lazyBehavior:u,orientation:f,descendants:j,direction:p,htmlProps:h}}var[V8,Ac]=kt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function U8(e){const{focusedIndex:t,orientation:n,direction:r}=Ac(),o=L8(),s=g.useCallback(c=>{const u=()=>{var I;const P=o.nextEnabled(t);P&&((I=P.node)==null||I.focus())},f=()=>{var I;const P=o.prevEnabled(t);P&&((I=P.node)==null||I.focus())},p=()=>{var I;const P=o.firstEnabled();P&&((I=P.node)==null||I.focus())},h=()=>{var I;const P=o.lastEnabled();P&&((I=P.node)==null||I.focus())},y=n==="horizontal",x=n==="vertical",S=c.key,C=r==="ltr"?"ArrowLeft":"ArrowRight",j=r==="ltr"?"ArrowRight":"ArrowLeft",k={[C]:()=>y&&f(),[j]:()=>y&&u(),ArrowDown:()=>x&&u(),ArrowUp:()=>x&&f(),Home:p,End:h}[S];k&&(c.preventDefault(),k(c))},[o,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:Ee(e.onKeyDown,s)}}function $8(e){const{isDisabled:t,isFocusable:n,...r}=e,{setSelectedIndex:o,isManual:s,id:c,setFocusedIndex:u,selectedIndex:f}=Ac(),{index:p,register:h}=H8({disabled:t&&!n}),y=p===f,x=()=>{o(p)},S=()=>{u(p),!s&&!(t&&n)&&o(p)},C=Ey({...r,ref:ct(h,e.ref),isDisabled:t,isFocusable:n,onClick:Ee(e.onClick,x)}),j="button";return{...C,id:mx(c,p),role:"tab",tabIndex:y?0:-1,type:j,"aria-selected":y,"aria-controls":vx(c,p),onFocus:t?void 0:Ee(e.onFocus,S)}}var[G8,q8]=kt({});function Y8(e){const t=Ac(),{id:n,selectedIndex:r}=t,s=sh(e.children).map((c,u)=>g.createElement(G8,{key:u,value:{isSelected:u===r,id:vx(n,u),tabId:mx(n,u),selectedIndex:r}},c));return{...e,children:s}}function K8(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:o}=Ac(),{isSelected:s,id:c,tabId:u}=q8(),f=g.useRef(!1);s&&(f.current=!0);const p=Ah({wasSelected:f.current,isSelected:s,enabled:r,mode:o});return{tabIndex:0,...n,children:p?t:null,role:"tabpanel","aria-labelledby":u,hidden:!s,id:c}}function mx(e,t){return`${e}--tab-${t}`}function vx(e,t){return`${e}--tabpanel-${t}`}var[X8,Oc]=kt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),gx=fe(function(t,n){const r=un("Tabs",t),{children:o,className:s,...c}=At(t),{htmlProps:u,descendants:f,...p}=W8(c),h=g.useMemo(()=>p,[p]),{isFitted:y,...x}=u;return l.jsx(F8,{value:f,children:l.jsx(V8,{value:h,children:l.jsx(X8,{value:r,children:l.jsx(ne.div,{className:Ae("chakra-tabs",s),ref:n,...x,__css:r.root,children:o})})})})});gx.displayName="Tabs";var yx=fe(function(t,n){const r=U8({...t,ref:n}),s={display:"flex",...Oc().tablist};return l.jsx(ne.div,{...r,className:Ae("chakra-tabs__tablist",t.className),__css:s})});yx.displayName="TabList";var xx=fe(function(t,n){const r=K8({...t,ref:n}),o=Oc();return l.jsx(ne.div,{outline:"0",...r,className:Ae("chakra-tabs__tab-panel",t.className),__css:o.tabpanel})});xx.displayName="TabPanel";var bx=fe(function(t,n){const r=Y8(t),o=Oc();return l.jsx(ne.div,{...r,width:"100%",ref:n,className:Ae("chakra-tabs__tab-panels",t.className),__css:o.tabpanels})});bx.displayName="TabPanels";var Sx=fe(function(t,n){const r=Oc(),o=$8({...t,ref:n}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return l.jsx(ne.button,{...o,className:Ae("chakra-tabs__tab",t.className),__css:s})});Sx.displayName="Tab";function Q8(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var Z8=["h","minH","height","minHeight"],Yh=fe((e,t)=>{const n=yo("Textarea",e),{className:r,rows:o,...s}=At(e),c=lh(s),u=o?Q8(n,Z8):n;return l.jsx(ne.textarea,{ref:t,rows:o,...c,className:Ae("chakra-textarea",r),__css:u})});Yh.displayName="Textarea";var J8={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},lc=e=>{var t;return((t=e.current)==null?void 0:t.ownerDocument)||document},Df=e=>{var t,n;return((n=(t=e.current)==null?void 0:t.ownerDocument)==null?void 0:n.defaultView)||window};function eE(e={}){const{openDelay:t=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:o,closeOnScroll:s,closeOnPointerDown:c=o,closeOnEsc:u=!0,onOpen:f,onClose:p,placement:h,id:y,isOpen:x,defaultIsOpen:S,arrowSize:C=10,arrowShadowColor:j,arrowPadding:w,modifiers:k,isDisabled:I,gutter:P,offset:M,direction:T,...D}=e,{isOpen:_,onOpen:R,onClose:V}=Dh({isOpen:x,defaultIsOpen:S,onOpen:f,onClose:p}),{referenceRef:F,getPopperProps:B,getArrowInnerProps:Q,getArrowProps:U}=_h({enabled:_,placement:h,arrowPadding:w,modifiers:k,gutter:P,offset:M,direction:T}),X=g.useId(),re=`tooltip-${y??X}`,$=g.useRef(null),Z=g.useRef(),oe=g.useCallback(()=>{Z.current&&(clearTimeout(Z.current),Z.current=void 0)},[]),le=g.useRef(),ze=g.useCallback(()=>{le.current&&(clearTimeout(le.current),le.current=void 0)},[]),Re=g.useCallback(()=>{ze(),V()},[V,ze]),Ie=tE($,Re),pe=g.useCallback(()=>{if(!I&&!Z.current){Ie();const Te=Df($);Z.current=Te.setTimeout(R,t)}},[Ie,I,R,t]),ce=g.useCallback(()=>{oe();const Te=Df($);le.current=Te.setTimeout(Re,n)},[n,Re,oe]),Ne=g.useCallback(()=>{_&&r&&ce()},[r,ce,_]),Ve=g.useCallback(()=>{_&&c&&ce()},[c,ce,_]),Ue=g.useCallback(Te=>{_&&Te.key==="Escape"&&ce()},[_,ce]);Go(()=>lc($),"keydown",u?Ue:void 0),Go(()=>lc($),"scroll",()=>{_&&s&&Re()}),g.useEffect(()=>{I&&(oe(),_&&V())},[I,_,V,oe]),g.useEffect(()=>()=>{oe(),ze()},[oe,ze]),Go(()=>$.current,"pointerleave",ce);const $e=g.useCallback((Te={},Ge=null)=>({...Te,ref:ct($,Ge,F),onPointerEnter:Ee(Te.onPointerEnter,Pe=>{Pe.pointerType!=="touch"&&pe()}),onClick:Ee(Te.onClick,Ne),onPointerDown:Ee(Te.onPointerDown,Ve),onFocus:Ee(Te.onFocus,pe),onBlur:Ee(Te.onBlur,ce),"aria-describedby":_?re:void 0}),[pe,ce,Ve,_,re,Ne,F]),Ze=g.useCallback((Te={},Ge=null)=>B({...Te,style:{...Te.style,[Ht.arrowSize.var]:C?`${C}px`:void 0,[Ht.arrowShadowColor.var]:j}},Ge),[B,C,j]),ve=g.useCallback((Te={},Ge=null)=>{const ye={...Te.style,position:"relative",transformOrigin:Ht.transformOrigin.varRef};return{ref:Ge,...D,...Te,id:re,role:"tooltip",style:ye}},[D,re]);return{isOpen:_,show:pe,hide:ce,getTriggerProps:$e,getTooltipProps:ve,getTooltipPositionerProps:Ze,getArrowProps:U,getArrowInnerProps:Q}}var Od="chakra-ui:close-tooltip";function tE(e,t){return g.useEffect(()=>{const n=lc(e);return n.addEventListener(Od,t),()=>n.removeEventListener(Od,t)},[t,e]),()=>{const n=lc(e),r=Df(e);n.dispatchEvent(new r.CustomEvent(Od))}}function nE(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function rE(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}var oE=ne(ar.div),Gt=fe((e,t)=>{var n,r;const o=yo("Tooltip",e),s=At(e),c=na(),{children:u,label:f,shouldWrapChildren:p,"aria-label":h,hasArrow:y,bg:x,portalProps:S,background:C,backgroundColor:j,bgColor:w,motionProps:k,...I}=s,P=(r=(n=C??j)!=null?n:x)!=null?r:w;if(P){o.bg=P;const B=$S(c,"colors",P);o[Ht.arrowBg.var]=B}const M=eE({...I,direction:c.direction}),T=typeof u=="string"||p;let D;if(T)D=l.jsx(ne.span,{display:"inline-block",tabIndex:0,...M.getTriggerProps(),children:u});else{const B=g.Children.only(u);D=g.cloneElement(B,M.getTriggerProps(B.props,B.ref))}const _=!!h,R=M.getTooltipProps({},t),V=_?nE(R,["role","id"]):R,F=rE(R,["role","id"]);return f?l.jsxs(l.Fragment,{children:[D,l.jsx(xo,{children:M.isOpen&&l.jsx(qa,{...S,children:l.jsx(ne.div,{...M.getTooltipPositionerProps(),__css:{zIndex:o.zIndex,pointerEvents:"none"},children:l.jsxs(oE,{variants:J8,initial:"exit",animate:"enter",exit:"exit",...k,...V,__css:o,children:[f,_&&l.jsx(ne.span,{srOnly:!0,...F,children:h}),y&&l.jsx(ne.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:l.jsx(ne.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:o.bg}})})]})})})})]}):l.jsx(l.Fragment,{children:u})});Gt.displayName="Tooltip";const Kh=g.createContext(null);let Lg;const Xh=()=>({setOpenUploader:e=>{e&&(Lg=e)},openUploader:Lg}),bt=me(e=>e.ui,e=>GS[e.activeTab],{memoizeOptions:{equalityCheck:ee.isEqual}}),iE=me(e=>e.ui,e=>e.activeTab,{memoizeOptions:{equalityCheck:ee.isEqual}}),Pr=me(e=>e.ui,e=>e,{memoizeOptions:{equalityCheck:ee.isEqual}}),Bg=e=>async(t,n)=>{const{imageFile:r}=e,o=n(),s=bt(o),c=new FormData;c.append("file",r,r.name),c.append("data",JSON.stringify({kind:"init"}));const f=await(await fetch(`${window.location.origin}/upload`,{method:"POST",body:c})).json(),p={uuid:k1(),category:"user",...f};t(E1({image:p,category:"user"})),s==="unifiedCanvas"?t(Sc(p)):s==="img2img"&&t(is(p))};var aE=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function gs(e,t){var n=sE(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function sE(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=aE.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var lE=[".DS_Store","Thumbs.db"];function cE(e){return ra(this,void 0,void 0,function(){return oa(this,function(t){return cc(e)&&uE(e.dataTransfer)?[2,pE(e.dataTransfer,e.type)]:dE(e)?[2,fE(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,hE(e)]:[2,[]]})})}function uE(e){return cc(e)}function dE(e){return cc(e)&&cc(e.target)}function cc(e){return typeof e=="object"&&e!==null}function fE(e){return Af(e.target.files).map(function(t){return gs(t)})}function hE(e){return ra(this,void 0,void 0,function(){var t;return oa(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return gs(r)})]}})})}function pE(e,t){return ra(this,void 0,void 0,function(){var n,r;return oa(this,function(o){switch(o.label){case 0:return e.items?(n=Af(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(mE))]):[3,2];case 1:return r=o.sent(),[2,Hg(Cx(r))];case 2:return[2,Hg(Af(e.files).map(function(s){return gs(s)}))]}})})}function Hg(e){return e.filter(function(t){return lE.indexOf(t.name)===-1})}function Af(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function mE(e){if(typeof e.webkitGetAsEntry!="function")return Wg(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?wx(t):Wg(e)}function Cx(e){return e.reduce(function(t,n){return Cf(Cf([],lg(t),!1),lg(Array.isArray(n)?Cx(n):[n]),!1)},[])}function Wg(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=gs(t);return Promise.resolve(n)}function vE(e){return ra(this,void 0,void 0,function(){return oa(this,function(t){return[2,e.isDirectory?wx(e):gE(e)]})})}function wx(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function s(){var c=this;t.readEntries(function(u){return ra(c,void 0,void 0,function(){var f,p,h;return oa(this,function(y){switch(y.label){case 0:if(u.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return f=y.sent(),n(f),[3,4];case 3:return p=y.sent(),r(p),[3,4];case 4:return[3,6];case 5:h=Promise.all(u.map(vE)),o.push(h),s(),y.label=6;case 6:return[2]}})})},function(u){r(u)})}s()})}function gE(e){return ra(this,void 0,void 0,function(){return oa(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var s=gs(o,e.fullPath);n(s)},function(o){r(o)})})]})})}var yE=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return n.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?s===u.replace(/\/.*$/,""):o===u})}return!0};function Vg(e){return SE(e)||bE(e)||kx(e)||xE()}function xE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SE(e){if(Array.isArray(e))return Of(e)}function Ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(n),!0).forEach(function(r){jx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){return jE(e)||wE(e,t)||kx(e,t)||CE()}function CE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kx(e,t){if(e){if(typeof e=="string")return Of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Of(e,t)}}function Of(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,c,u;try{for(n=n.call(e);!(o=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));o=!0);}catch(f){s=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function jE(e){if(Array.isArray(e))return e}var kE="file-invalid-type",EE="file-too-large",PE="file-too-small",IE="too-many-files",ME=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:kE,message:"File type must be ".concat(n)}},Gg=function(t){return{code:EE,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},qg=function(t){return{code:PE,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},TE={code:IE,message:"Too many files"};function Ex(e,t){var n=e.type==="application/x-moz-file"||yE(e,t);return[n,n?null:ME(t)]}function Px(e,t,n){if(Ho(e.size))if(Ho(t)&&Ho(n)){if(e.size>n)return[!1,Gg(n)];if(e.size<t)return[!1,qg(t)]}else{if(Ho(t)&&e.size<t)return[!1,qg(t)];if(Ho(n)&&e.size>n)return[!1,Gg(n)]}return[!0,null]}function Ho(e){return e!=null}function _E(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,s=e.multiple,c=e.maxFiles,u=e.validator;return!s&&t.length>1||s&&c>=1&&t.length>c?!1:t.every(function(f){var p=Ex(f,n),h=es(p,1),y=h[0],x=Px(f,r,o),S=es(x,1),C=S[0],j=u?u(f):null;return y&&C&&!j})}function uc(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ml(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Yg(e){e.preventDefault()}function DE(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function AE(e){return e.indexOf("Edge/")!==-1}function OE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return DE(e)||AE(e)}function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return t.some(function(u){return!uc(r)&&u&&u.apply(void 0,[r].concat(s)),uc(r)})}}function zE(){return"showOpenFilePicker"in window}function RE(e){if(Ho(e)){var t=Object.entries(e).filter(function(n){var r=es(n,2),o=r[0],s=r[1],c=!0;return Ix(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(s)||!s.every(Mx))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var o=es(r,2),s=o[0],c=o[1];return $g($g({},n),{},jx({},s,c))},{});return[{description:"Files",accept:t}]}return e}function NE(e){if(Ho(e))return Object.entries(e).reduce(function(t,n){var r=es(n,2),o=r[0],s=r[1];return[].concat(Vg(t),[o],Vg(s))},[]).filter(function(t){return Ix(t)||Mx(t)}).join(",")}function FE(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function LE(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Ix(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Mx(e){return/^.*\.[\w]+$/.test(e)}var BE=["children"],HE=["open"],WE=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],VE=["refKey","onChange","onClick"];function UE(e){return qE(e)||GE(e)||Tx(e)||$E()}function $E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qE(e){if(Array.isArray(e))return zf(e)}function zd(e,t){return XE(e)||KE(e,t)||Tx(e,t)||YE()}function YE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tx(e,t){if(e){if(typeof e=="string")return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zf(e,t)}}function zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,c,u;try{for(n=n.call(e);!(o=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));o=!0);}catch(f){s=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function XE(e){if(Array.isArray(e))return e}function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kg(Object(n),!0).forEach(function(r){Rf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dc(e,t){if(e==null)return{};var n=QE(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QE(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Qh=g.forwardRef(function(e,t){var n=e.children,r=dc(e,BE),o=Dx(r),s=o.open,c=dc(o,HE);return g.useImperativeHandle(t,function(){return{open:s}},[s]),Me.createElement(g.Fragment,null,n(Dt(Dt({},c),{},{open:s})))});Qh.displayName="Dropzone";var _x={disabled:!1,getFilesFromEvent:cE,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Qh.defaultProps=_x;Qh.propTypes={children:lt.func,accept:lt.objectOf(lt.arrayOf(lt.string)),multiple:lt.bool,preventDropOnDocument:lt.bool,noClick:lt.bool,noKeyboard:lt.bool,noDrag:lt.bool,noDragEventsBubbling:lt.bool,minSize:lt.number,maxSize:lt.number,maxFiles:lt.number,disabled:lt.bool,getFilesFromEvent:lt.func,onFileDialogCancel:lt.func,onFileDialogOpen:lt.func,useFsAccessApi:lt.bool,autoFocus:lt.bool,onDragEnter:lt.func,onDragLeave:lt.func,onDragOver:lt.func,onDrop:lt.func,onDropAccepted:lt.func,onDropRejected:lt.func,onError:lt.func,validator:lt.func};var Nf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Dx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Dt(Dt({},_x),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,s=t.maxSize,c=t.minSize,u=t.multiple,f=t.maxFiles,p=t.onDragEnter,h=t.onDragLeave,y=t.onDragOver,x=t.onDrop,S=t.onDropAccepted,C=t.onDropRejected,j=t.onFileDialogCancel,w=t.onFileDialogOpen,k=t.useFsAccessApi,I=t.autoFocus,P=t.preventDropOnDocument,M=t.noClick,T=t.noKeyboard,D=t.noDrag,_=t.noDragEventsBubbling,R=t.onError,V=t.validator,F=g.useMemo(function(){return NE(n)},[n]),B=g.useMemo(function(){return RE(n)},[n]),Q=g.useMemo(function(){return typeof w=="function"?w:Xg},[w]),U=g.useMemo(function(){return typeof j=="function"?j:Xg},[j]),X=g.useRef(null),te=g.useRef(null),re=g.useReducer(ZE,Nf),$=zd(re,2),Z=$[0],oe=$[1],le=Z.isFocused,ze=Z.isFileDialogActive,Re=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&zE()),Ie=function(){!Re.current&&ze&&setTimeout(function(){if(te.current){var ae=te.current.files;ae.length||(oe({type:"closeDialog"}),U())}},300)};g.useEffect(function(){return window.addEventListener("focus",Ie,!1),function(){window.removeEventListener("focus",Ie,!1)}},[te,ze,U,Re]);var pe=g.useRef([]),ce=function(ae){X.current&&X.current.contains(ae.target)||(ae.preventDefault(),pe.current=[])};g.useEffect(function(){return P&&(document.addEventListener("dragover",Yg,!1),document.addEventListener("drop",ce,!1)),function(){P&&(document.removeEventListener("dragover",Yg),document.removeEventListener("drop",ce))}},[X,P]),g.useEffect(function(){return!r&&I&&X.current&&X.current.focus(),function(){}},[X,I,r]);var Ne=g.useCallback(function(q){R?R(q):console.error(q)},[R]),Ve=g.useCallback(function(q){q.preventDefault(),q.persist(),N(q),pe.current=[].concat(UE(pe.current),[q.target]),Ml(q)&&Promise.resolve(o(q)).then(function(ae){if(!(uc(q)&&!_)){var Oe=ae.length,Je=Oe>0&&_E({files:ae,accept:F,minSize:c,maxSize:s,multiple:u,maxFiles:f,validator:V}),J=Oe>0&&!Je;oe({isDragAccept:Je,isDragReject:J,isDragActive:!0,type:"setDraggedFiles"}),p&&p(q)}}).catch(function(ae){return Ne(ae)})},[o,p,Ne,_,F,c,s,u,f,V]),Ue=g.useCallback(function(q){q.preventDefault(),q.persist(),N(q);var ae=Ml(q);if(ae&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return ae&&y&&y(q),!1},[y,_]),$e=g.useCallback(function(q){q.preventDefault(),q.persist(),N(q);var ae=pe.current.filter(function(Je){return X.current&&X.current.contains(Je)}),Oe=ae.indexOf(q.target);Oe!==-1&&ae.splice(Oe,1),pe.current=ae,!(ae.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ml(q)&&h&&h(q))},[X,h,_]),Ze=g.useCallback(function(q,ae){var Oe=[],Je=[];q.forEach(function(J){var Le=Ex(J,F),nt=zd(Le,2),Nt=nt[0],he=nt[1],_e=Px(J,c,s),dn=zd(_e,2),Vt=dn[0],fn=dn[1],sr=V?V(J):null;if(Nt&&Vt&&!sr)Oe.push(J);else{var ko=[he,fn];sr&&(ko=ko.concat(sr)),Je.push({file:J,errors:ko.filter(function(ca){return ca})})}}),(!u&&Oe.length>1||u&&f>=1&&Oe.length>f)&&(Oe.forEach(function(J){Je.push({file:J,errors:[TE]})}),Oe.splice(0)),oe({acceptedFiles:Oe,fileRejections:Je,type:"setFiles"}),x&&x(Oe,Je,ae),Je.length>0&&C&&C(Je,ae),Oe.length>0&&S&&S(Oe,ae)},[oe,u,F,c,s,f,x,S,C,V]),ve=g.useCallback(function(q){q.preventDefault(),q.persist(),N(q),pe.current=[],Ml(q)&&Promise.resolve(o(q)).then(function(ae){uc(q)&&!_||Ze(ae,q)}).catch(function(ae){return Ne(ae)}),oe({type:"reset"})},[o,Ze,Ne,_]),Te=g.useCallback(function(){if(Re.current){oe({type:"openDialog"}),Q();var q={multiple:u,types:B};window.showOpenFilePicker(q).then(function(ae){return o(ae)}).then(function(ae){Ze(ae,null),oe({type:"closeDialog"})}).catch(function(ae){FE(ae)?(U(ae),oe({type:"closeDialog"})):LE(ae)?(Re.current=!1,te.current?(te.current.value=null,te.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ae)});return}te.current&&(oe({type:"openDialog"}),Q(),te.current.value=null,te.current.click())},[oe,Q,U,k,Ze,Ne,B,u]),Ge=g.useCallback(function(q){!X.current||!X.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),Te())},[X,Te]),ye=g.useCallback(function(){oe({type:"focus"})},[]),Pe=g.useCallback(function(){oe({type:"blur"})},[]),et=g.useCallback(function(){M||(OE()?setTimeout(Te,0):Te())},[M,Te]),Be=function(ae){return r?null:ae},vt=function(ae){return T?null:Be(ae)},Rt=function(ae){return D?null:Be(ae)},N=function(ae){_&&ae.stopPropagation()},ue=g.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=q.refKey,Oe=ae===void 0?"ref":ae,Je=q.role,J=q.onKeyDown,Le=q.onFocus,nt=q.onBlur,Nt=q.onClick,he=q.onDragEnter,_e=q.onDragOver,dn=q.onDragLeave,Vt=q.onDrop,fn=dc(q,WE);return Dt(Dt(Rf({onKeyDown:vt(vr(J,Ge)),onFocus:vt(vr(Le,ye)),onBlur:vt(vr(nt,Pe)),onClick:Be(vr(Nt,et)),onDragEnter:Rt(vr(he,Ve)),onDragOver:Rt(vr(_e,Ue)),onDragLeave:Rt(vr(dn,$e)),onDrop:Rt(vr(Vt,ve)),role:typeof Je=="string"&&Je!==""?Je:"presentation"},Oe,X),!r&&!T?{tabIndex:0}:{}),fn)}},[X,Ge,ye,Pe,et,Ve,Ue,$e,ve,T,D,r]),xe=g.useCallback(function(q){q.stopPropagation()},[]),je=g.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=q.refKey,Oe=ae===void 0?"ref":ae,Je=q.onChange,J=q.onClick,Le=dc(q,VE),nt=Rf({accept:F,multiple:u,type:"file",style:{display:"none"},onChange:Be(vr(Je,ve)),onClick:Be(vr(J,xe)),tabIndex:-1},Oe,te);return Dt(Dt({},nt),Le)}},[te,n,u,ve,r]);return Dt(Dt({},Z),{},{isFocused:le&&!r,getRootProps:ue,getInputProps:je,rootRef:X,inputRef:te,open:Be(Te)})}function ZE(e,t){switch(t.type){case"focus":return Dt(Dt({},e),{},{isFocused:!0});case"blur":return Dt(Dt({},e),{},{isFocused:!1});case"openDialog":return Dt(Dt({},Nf),{},{isFileDialogActive:!0});case"closeDialog":return Dt(Dt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Dt(Dt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Dt(Dt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Dt({},Nf);default:return e}}function Xg(){}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(this,arguments)}var Ax=["shift","alt","meta","mod","ctrl"],JE={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function so(e){return(JE[e]||e).trim().toLowerCase().replace("key","").replace("digit","").replace("numpad","").replace("arrow","")}function e9(e){return Ax.includes(e)}function Rd(e,t){return t===void 0&&(t=","),typeof e=="string"?e.split(t):e}function Nd(e,t){t===void 0&&(t="+");var n=e.toLocaleLowerCase().split(t).map(function(s){return so(s)}),r={alt:n.includes("alt"),ctrl:n.includes("ctrl")||n.includes("control"),shift:n.includes("shift"),meta:n.includes("meta"),mod:n.includes("mod")},o=n.filter(function(s){return!Ax.includes(s)});return Ff({},r,{keys:o})}var lo=new Set;function t9(e,t){t===void 0&&(t=",");var n=Array.isArray(e)?e:e.split(t);return n.every(function(r){return lo.has(r.trim().toLowerCase())})}function Ox(e){var t=Array.isArray(e)?e:[e];lo.has("meta")&&lo.forEach(function(n){return!e9(n)&&lo.delete(n.toLowerCase())}),t.forEach(function(n){return lo.add(n.toLowerCase())})}function zx(e){var t=Array.isArray(e)?e:[e];e==="meta"?lo.clear():t.forEach(function(n){return lo.delete(n.toLowerCase())})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&Ox([so(e.key),so(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&zx([so(e.key),so(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){lo.clear()})})();function n9(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function r9(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function o9(e){return Rx(e,["input","textarea","select"])}function Rx(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return t instanceof Array?Boolean(r&&t&&t.some(function(o){return o.toLowerCase()===r.toLowerCase()})):Boolean(r&&t&&t===!0)}function i9(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var a9=function(t,n,r){r===void 0&&(r=!1);var o=n.alt,s=n.meta,c=n.mod,u=n.shift,f=n.ctrl,p=n.keys,h=t.key,y=t.code,x=t.ctrlKey,S=t.metaKey,C=t.shiftKey,j=t.altKey,w=so(y),k=h.toLowerCase();if(!r){if(o===!j&&k!=="alt"||u===!C&&k!=="shift")return!1;if(c){if(!S&&!x)return!1}else if(s===!S&&k!=="meta"||f===!x&&k!=="ctrl")return!1}return p&&p.length===1&&(p.includes(k)||p.includes(w))?!0:p?t9(p):!p},s9=g.createContext(void 0),l9=function(){return g.useContext(s9)};function Nx(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&Nx(e[r],t[r])},!0):e===t}var c9=g.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),u9=function(){return g.useContext(c9)};function d9(e){var t=g.useRef(void 0);return Nx(t.current,e)||(t.current=e),t.current}var Qg=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},f9=typeof window<"u"?g.useLayoutEffect:g.useEffect;function de(e,t,n,r){var o=g.useRef(null),s=g.useRef(!1),c=n instanceof Array?r instanceof Array?void 0:r:n,u=n instanceof Array?n:r instanceof Array?r:void 0,f=g.useCallback(t,u??[]),p=g.useRef(f);u?p.current=f:p.current=t;var h=d9(c),y=u9(),x=y.enabledScopes,S=l9();return f9(function(){if(!((h==null?void 0:h.enabled)===!1||!i9(x,h==null?void 0:h.scopes))){var C=function(I,P){var M;if(P===void 0&&(P=!1),!(o9(I)&&!Rx(I,h==null?void 0:h.enableOnFormTags))){if(o.current!==null&&document.activeElement!==o.current&&!o.current.contains(document.activeElement)){Qg(I);return}(M=I.target)!=null&&M.isContentEditable&&!(h!=null&&h.enableOnContentEditable)||Rd(e,h==null?void 0:h.splitKey).forEach(function(T){var D,_=Nd(T,h==null?void 0:h.combinationKey);if(a9(I,_,h==null?void 0:h.ignoreModifiers)||(D=_.keys)!=null&&D.includes("*")){if(P&&s.current)return;if(n9(I,_,h==null?void 0:h.preventDefault),!r9(I,_,h==null?void 0:h.enabled)){Qg(I);return}p.current(I,_),P||(s.current=!0)}})}},j=function(I){I.key!==void 0&&(Ox(so(I.code)),((h==null?void 0:h.keydown)===void 0&&(h==null?void 0:h.keyup)!==!0||h!=null&&h.keydown)&&C(I))},w=function(I){I.key!==void 0&&(zx(so(I.code)),s.current=!1,h!=null&&h.keyup&&C(I,!0))};return(o.current||(c==null?void 0:c.document)||document).addEventListener("keyup",w),(o.current||(c==null?void 0:c.document)||document).addEventListener("keydown",j),S&&Rd(e,h==null?void 0:h.splitKey).forEach(function(k){return S.addHotkey(Nd(k,h==null?void 0:h.combinationKey))}),function(){(o.current||(c==null?void 0:c.document)||document).removeEventListener("keyup",w),(o.current||(c==null?void 0:c.document)||document).removeEventListener("keydown",j),S&&Rd(e,h==null?void 0:h.splitKey).forEach(function(k){return S.removeHotkey(Nd(k,h==null?void 0:h.combinationKey))})}}},[e,h,x]),o}const h9=e=>{const{isDragAccept:t,isDragReject:n,overlaySecondaryText:r,setIsHandlingUpload:o}=e;return de("esc",()=>{o(!1)}),l.jsx(Ye,{sx:{position:"absolute",top:0,insetInlineStart:0,width:"100vw",height:"100vh",zIndex:999,backdropFilter:"blur(20px)"},children:l.jsx(L,{sx:{opacity:.4,width:"100%",height:"100%",flexDirection:"column",rowGap:4,alignItems:"center",justifyContent:"center",bg:"base.900",boxShadow:`inset 0 0 20rem 1rem var(--invokeai-colors-${t?"accent":"error"}-500)`},children:t?l.jsxs(rr,{size:"lg",children:["Upload Image",r]}):l.jsxs(l.Fragment,{children:[l.jsx(rr,{size:"lg",children:"Invalid Upload"}),l.jsx(rr,{size:"md",children:"Must be single JPEG or PNG image"})]})})})},p9=e=>{const{children:t}=e,n=Y(),r=A(bt),o=us({}),{t:s}=K(),[c,u]=g.useState(!1),{setOpenUploader:f}=Xh(),p=g.useCallback(P=>{u(!0);const M=P.errors.reduce((T,D)=>`${T}
${D.message}`,"");o({title:s("toast.uploadFailed"),description:M,status:"error",isClosable:!0})},[s,o]),h=g.useCallback(async P=>{n(Bg({imageFile:P}))},[n]),y=g.useCallback((P,M)=>{M.forEach(T=>{p(T)}),P.forEach(T=>{h(T)})},[h,p]),{getRootProps:x,getInputProps:S,isDragAccept:C,isDragReject:j,isDragActive:w,open:k}=Dx({accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg",".png"]},noClick:!0,onDrop:y,onDragOver:()=>u(!0),maxFiles:1});f(k),g.useEffect(()=>{const P=M=>{var R;const T=(R=M.clipboardData)==null?void 0:R.items;if(!T)return;const D=[];for(const V of T)V.kind==="file"&&["image/png","image/jpg"].includes(V.type)&&D.push(V);if(!D.length)return;if(M.stopImmediatePropagation(),D.length>1){o({description:s("toast.uploadFailedMultipleImagesDesc"),status:"error",isClosable:!0});return}const _=D[0].getAsFile();if(!_){o({description:s("toast.uploadFailedUnableToLoadDesc"),status:"error",isClosable:!0});return}n(Bg({imageFile:_}))};return document.addEventListener("paste",P),()=>{document.removeEventListener("paste",P)}},[s,n,o,r]);const I=["img2img","unifiedCanvas"].includes(r)?` to ${String(s(`common.${r}`))}`:"";return l.jsx(Kh.Provider,{value:k,children:l.jsxs(Ye,{...x({style:{}}),onKeyDown:P=>{P.key},children:[l.jsx("input",{...S()}),t,w&&c&&l.jsx(h9,{isDragAccept:C,isDragReject:j,overlaySecondaryText:I,setIsHandlingUpload:u})]})})},m9=g.memo(p9),Fx=fe((e,t)=>{const{role:n,tooltip:r="",tooltipProps:o,isChecked:s,...c}=e;return l.jsx(Gt,{label:r,hasArrow:!0,...o,...o!=null&&o.placement?{placement:o.placement}:{placement:"top"},children:l.jsx(ho,{ref:t,role:n,"aria-checked":s!==void 0?s:void 0,...c})})});Fx.displayName="IAIIconButton";const se=g.memo(Fx);var v9=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Bt.apply(this,arguments)},Zg={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Jg={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Tl={width:"20px",height:"20px",position:"absolute"},g9={top:Bt(Bt({},Zg),{top:"-5px"}),right:Bt(Bt({},Jg),{left:void 0,right:"-5px"}),bottom:Bt(Bt({},Zg),{top:void 0,bottom:"-5px"}),left:Bt(Bt({},Jg),{left:"-5px"}),topRight:Bt(Bt({},Tl),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Bt(Bt({},Tl),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Bt(Bt({},Tl),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Bt(Bt({},Tl),{left:"-10px",top:"-10px",cursor:"nw-resize"})},y9=function(e){v9(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return g.createElement("div",{className:this.props.className||"",style:Bt(Bt({position:"absolute",userSelect:"none"},g9[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(g.PureComponent),x9=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=globalThis&&globalThis.__assign||function(){return yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},yr.apply(this,arguments)},b9={width:"auto",height:"auto"},_l=function(e,t,n){return Math.max(Math.min(e,n),t)},e0=function(e,t){return Math.round(e/t)*t},_i=function(e,t){return new RegExp(e,"i").test(t)},Dl=function(e){return Boolean(e.touches&&e.touches.length)},S9=function(e){return Boolean((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},t0=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,c,u){return Math.abs(c-e)<Math.abs(t[s]-e)?u:s},0),o=Math.abs(t[r]-e);return n===0||o<n?t[r]:e},Fd=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Al=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return r*o}}return e},C9=function(e,t,n,r,o,s,c){return r=Al(r,e.width,t,n),o=Al(o,e.height,t,n),s=Al(s,e.width,t,n),c=Al(c,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof c>"u"?void 0:Number(c)}},w9=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],n0="__resizable_base__",Lx=function(e){x9(t,e);function t(n){var r=e.call(this,n)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var o=r.parentNode;if(!o)return null;var s=r.window.document.createElement("div");return s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.transform="scale(0, 0)",s.style.left="0",s.style.flex="0 0 100%",s.classList?s.classList.add(n0):s.className+=n0,o.appendChild(s),s},r.removeBase=function(o){var s=r.parentNode;s&&s.removeChild(o)},r.ref=function(o){o&&(r.resizable=o)},r.state={isResizing:!1,width:typeof(r.propsSize&&r.propsSize.width)>"u"?"auto":r.propsSize&&r.propsSize.width,height:typeof(r.propsSize&&r.propsSize.height)>"u"?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||b9},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,c=this.resizable.style.position;c!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=c}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(u){if(typeof n.state[u]>"u"||n.state[u]==="auto")return"auto";if(n.propsSize&&n.propsSize[u]&&n.propsSize[u].toString().endsWith("%")){if(n.state[u].toString().endsWith("%"))return n.state[u].toString();var f=n.getParentSize(),p=Number(n.state[u].toString().replace("px","")),h=p/f[u]*100;return h+"%"}return Fd(n.state[u])},s=r&&typeof r.width<"u"&&!this.state.isResizing?Fd(r.width):o("width"),c=r&&typeof r.height<"u"&&!this.state.isResizing?Fd(r.height):o("height");return{width:s,height:c}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=o),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var o=this.props.boundsByDirection,s=this.state.direction,c=o&&_i("left",s),u=o&&_i("top",s),f,p;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(f=c?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),p=u?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(f=c?this.resizableRight:this.window.innerWidth-this.resizableLeft,p=u?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(f=c?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),p=u?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return f&&Number.isFinite(f)&&(n=n&&n<f?n:f),p&&Number.isFinite(p)&&(r=r&&r<p?r:p),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=this.props.resizeRatio||1,c=this.state,u=c.direction,f=c.original,p=this.props,h=p.lockAspectRatio,y=p.lockAspectRatioExtraHeight,x=p.lockAspectRatioExtraWidth,S=f.width,C=f.height,j=y||0,w=x||0;return _i("right",u)&&(S=f.width+(n-f.x)*s/o,h&&(C=(S-w)/this.ratio+j)),_i("left",u)&&(S=f.width-(n-f.x)*s/o,h&&(C=(S-w)/this.ratio+j)),_i("bottom",u)&&(C=f.height+(r-f.y)*s/o,h&&(S=(C-j)*this.ratio+w)),_i("top",u)&&(C=f.height-(r-f.y)*s/o,h&&(S=(C-j)*this.ratio+w)),{newWidth:S,newHeight:C}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var c=this.props,u=c.lockAspectRatio,f=c.lockAspectRatioExtraHeight,p=c.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,y=typeof o.width>"u"||o.width<0?n:o.width,x=typeof s.height>"u"?10:s.height,S=typeof o.height>"u"||o.height<0?r:o.height,C=f||0,j=p||0;if(u){var w=(x-C)*this.ratio+j,k=(S-C)*this.ratio+j,I=(h-j)/this.ratio+C,P=(y-j)/this.ratio+C,M=Math.max(h,w),T=Math.min(y,k),D=Math.max(x,I),_=Math.min(S,P);n=_l(n,M,T),r=_l(r,D,_)}else n=_l(n,h,y),r=_l(r,x,S);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var r=n.getBoundingClientRect();this.parentLeft=r.left,this.parentTop=r.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left,this.targetTop=o.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),c=s.left,u=s.top,f=s.right,p=s.bottom;this.resizableLeft=c,this.resizableRight=f,this.resizableTop=u,this.resizableBottom=p}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var o=0,s=0;if(n.nativeEvent&&S9(n.nativeEvent)?(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&Dl(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var c=this.props.onResizeStart(n,r,this.resizable);if(c===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var u,f=this.window.getComputedStyle(this.resizable);if(f.flexBasis!=="auto"){var p=this.parentNode;if(p){var h=this.window.getComputedStyle(p).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",u=f.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var y={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:yr(yr({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:u};this.setState(y)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Dl(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,c=o.maxHeight,u=o.minWidth,f=o.minHeight,p=Dl(n)?n.touches[0].clientX:n.clientX,h=Dl(n)?n.touches[0].clientY:n.clientY,y=this.state,x=y.direction,S=y.original,C=y.width,j=y.height,w=this.getParentSize(),k=C9(w,this.window.innerWidth,this.window.innerHeight,s,c,u,f);s=k.maxWidth,c=k.maxHeight,u=k.minWidth,f=k.minHeight;var I=this.calculateNewSizeFromDirection(p,h),P=I.newHeight,M=I.newWidth,T=this.calculateNewMaxFromBoundary(s,c);this.props.snap&&this.props.snap.x&&(M=t0(M,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(P=t0(P,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(M,P,{width:T.maxWidth,height:T.maxHeight},{width:u,height:f});if(M=D.newWidth,P=D.newHeight,this.props.grid){var _=e0(M,this.props.grid[0]),R=e0(P,this.props.grid[1]),V=this.props.snapGap||0;M=V===0||Math.abs(_-M)<=V?_:M,P=V===0||Math.abs(R-P)<=V?R:P}var F={width:M-S.width,height:P-S.height};if(C&&typeof C=="string"){if(C.endsWith("%")){var B=M/w.width*100;M=B+"%"}else if(C.endsWith("vw")){var Q=M/this.window.innerWidth*100;M=Q+"vw"}else if(C.endsWith("vh")){var U=M/this.window.innerHeight*100;M=U+"vh"}}if(j&&typeof j=="string"){if(j.endsWith("%")){var B=P/w.height*100;P=B+"%"}else if(j.endsWith("vw")){var Q=P/this.window.innerWidth*100;P=Q+"vw"}else if(j.endsWith("vh")){var U=P/this.window.innerHeight*100;P=U+"vh"}}var X={width:this.createSizeForCssProperty(M,"width"),height:this.createSizeForCssProperty(P,"height")};this.flexDir==="row"?X.flexBasis=X.width:this.flexDir==="column"&&(X.flexBasis=X.height),qS.flushSync(function(){r.setState(X)}),this.props.onResize&&this.props.onResize(n,x,this.resizable,F)}},t.prototype.onMouseUp=function(n){var r=this.state,o=r.isResizing,s=r.direction,c=r.original;if(!(!o||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,s,this.resizable,u),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:yr(yr({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){this.setState({width:n.width,height:n.height})},t.prototype.renderResizer=function(){var n=this,r=this.props,o=r.enable,s=r.handleStyles,c=r.handleClasses,u=r.handleWrapperStyle,f=r.handleWrapperClass,p=r.handleComponent;if(!o)return null;var h=Object.keys(o).map(function(y){return o[y]!==!1?g.createElement(y9,{key:y,direction:y,onResizeStart:n.onResizeStart,replaceStyles:s&&s[y],className:c&&c[y]},p&&p[y]?p[y]:null):null});return g.createElement("div",{className:f,style:u},h)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(c,u){return w9.indexOf(u)!==-1||(c[u]=n.props[u]),c},{}),o=yr(yr(yr({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return g.createElement(s,yr({ref:this.ref,style:o,className:this.props.className},r),this.state.isResizing&&g.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(g.PureComponent),Bx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r0=Me.createContext&&Me.createContext(Bx),uo=globalThis&&globalThis.__assign||function(){return uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},uo.apply(this,arguments)},j9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Hx(e){return e&&e.map(function(t,n){return Me.createElement(t.tag,uo({key:n},t.attr),Hx(t.child))})}function ge(e){return function(t){return Me.createElement(k9,uo({attr:uo({},e.attr)},t),Hx(e.child))}}function k9(e){var t=function(n){var r=e.attr,o=e.size,s=e.title,c=j9(e,["attr","size","title"]),u=o||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Me.createElement("svg",uo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:uo(uo({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),e.children)};return r0!==void 0?Me.createElement(r0.Consumer,null,function(n){return t(n)}):t(Bx)}function E9(e){return ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function P9(e){return ge({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function I9(e){return ge({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z"}}]})(e)}function M9(e){return ge({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}}]})(e)}function T9(e){return ge({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}}]})(e)}function Wx(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function _9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function Vx(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"}}]})(e)}function D9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"}}]})(e)}function A9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"}}]})(e)}function zc(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Ux(e){return ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function Qi(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function $x(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"}}]})(e)}function O9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"}}]})(e)}function Zh(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Gx(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"}}]})(e)}function z9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 344v112a23.94 23.94 0 0 1-24 24H312c-21.39 0-32.09-25.9-17-41l36.2-36.2L224 295.6 116.77 402.9 153 439c15.09 15.1 4.39 41-17 41H24a23.94 23.94 0 0 1-24-24V344c0-21.4 25.89-32.1 41-17l36.19 36.2L184.46 256 77.18 148.7 41 185c-15.1 15.1-41 4.4-41-17V56a23.94 23.94 0 0 1 24-24h112c21.39 0 32.09 25.9 17 41l-36.2 36.2L224 216.4l107.23-107.3L295 73c-15.09-15.1-4.39-41 17-41h112a23.94 23.94 0 0 1 24 24v112c0 21.4-25.89 32.1-41 17l-36.19-36.2L263.54 256l107.28 107.3L407 327.1c15.1-15.2 41-4.5 41 16.9z"}}]})(e)}function R9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"}}]})(e)}function qx(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z"}}]})(e)}function N9(e){return ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function F9(e){return ge({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Yx(e){return ge({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M512 320s-64 92.65-64 128c0 35.35 28.66 64 64 64s64-28.65 64-64-64-128-64-128zm-9.37-102.94L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.76c-6.25-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.62l86.19 86.18-94.76 94.76c-37.49 37.48-37.49 98.26 0 135.75l117.19 117.19c18.74 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.87-28.12l221.57-221.57c12.5-12.5 12.5-32.75.01-45.25zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.6 58.6c12.49 12.49 32.75 12.49 45.24 0s12.49-32.75 0-45.24l-58.6-58.6 58.95-58.95 162.44 162.44-48.34 48.34z"}}]})(e)}function L9(e){return ge({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM94.6 168.9l34.9-5 15.5-31.6c2.9-5.8 11-5.8 13.9 0l15.5 31.6 34.9 5c6.2 1 8.9 8.6 4.3 13.2l-25.4 24.6 6 34.9c1 6.2-5.3 11-11 7.9L152 233.3l-31.3 16.3c-5.7 3.1-12-1.7-11-7.9l6-34.9-25.4-24.6c-4.6-4.7-1.9-12.3 4.3-13.3zM248 432c-60.6 0-134.5-38.3-143.8-93.3-2-11.8 9.3-21.5 20.7-17.9C155.1 330.5 200 336 248 336s92.9-5.5 123.1-15.2c11.5-3.7 22.6 6.1 20.7 17.9-9.3 55-83.2 93.3-143.8 93.3zm157.7-249.9l-25.4 24.6 6 34.9c1 6.2-5.3 11-11 7.9L344 233.3l-31.3 16.3c-5.7 3.1-12-1.7-11-7.9l6-34.9-25.4-24.6c-4.5-4.6-1.9-12.2 4.3-13.2l34.9-5 15.5-31.6c2.9-5.8 11-5.8 13.9 0l15.5 31.6 34.9 5c6.3.9 9 8.5 4.4 13.1z"}}]})(e)}function B9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function H9(e){return ge({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}}]})(e)}function W9(e){return ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"}}]})(e)}function Kx(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}}]})(e)}function V9(e){return ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z"}}]})(e)}function U9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Xx(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"}}]})(e)}function $9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function G9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function Rc(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function q9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"}}]})(e)}function Y9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M184.561 261.903c3.232 13.997-12.123 24.635-24.068 17.168l-40.736-25.455-50.867 81.402C55.606 356.273 70.96 384 96.012 384H148c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12H96.115c-75.334 0-121.302-83.048-81.408-146.88l50.822-81.388-40.725-25.448c-12.081-7.547-8.966-25.961 4.879-29.158l110.237-25.45c8.611-1.988 17.201 3.381 19.189 11.99l25.452 110.237zm98.561-182.915l41.289 66.076-40.74 25.457c-12.051 7.528-9 25.953 4.879 29.158l110.237 25.45c8.672 1.999 17.215-3.438 19.189-11.99l25.45-110.237c3.197-13.844-11.99-24.719-24.068-17.168l-40.687 25.424-41.263-66.082c-37.521-60.033-125.209-60.171-162.816 0l-17.963 28.766c-3.51 5.62-1.8 13.021 3.82 16.533l33.919 21.195c5.62 3.512 13.024 1.803 16.536-3.817l17.961-28.743c12.712-20.341 41.973-19.676 54.257-.022zM497.288 301.12l-27.515-44.065c-3.511-5.623-10.916-7.334-16.538-3.821l-33.861 21.159c-5.62 3.512-7.33 10.915-3.818 16.536l27.564 44.112c13.257 21.211-2.057 48.96-27.136 48.96H320V336.02c0-14.213-17.242-21.383-27.313-11.313l-80 79.981c-6.249 6.248-6.249 16.379 0 22.627l80 79.989C302.689 517.308 320 510.3 320 495.989V448h95.88c75.274 0 121.335-82.997 81.408-146.88z"}}]})(e)}function K9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function Jh(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function o0(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function X9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"}}]})(e)}function Q9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"}}]})(e)}function i0(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function ep(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"}}]})(e)}function Z9(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}function So(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function J9(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"}}]})(e)}function Nc(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function eP(e){return ge({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function tp(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}const Et=e=>e.system,tP=e=>e.system.toastQueue,Qx=me(Et,e=>{const{model_list:t}=e,n=ee.reduce(t,(r,o,s)=>(o.status==="active"&&(r=s),r),"");return{...t[n],name:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),nP=me(Et,e=>{const{model_list:t}=e;return ee.pickBy(t,(r,o)=>{if(r.format==="diffusers")return{name:o,...r}})},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),rP=me(Et,e=>e.log,{memoizeOptions:{resultEqualityCheck:(e,t)=>e.length===t.length}}),oP=me(Et,e=>({shouldShowLogViewer:e.shouldShowLogViewer,hasError:e.hasError,wasErrorSeen:e.wasErrorSeen}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),iP=()=>{const e=Y(),{t}=K(),n=A(rP),{shouldShowLogViewer:r,hasError:o,wasErrorSeen:s}=A(oP),[c,u]=g.useState(!0),f=g.useRef(null);g.useLayoutEffect(()=>{f.current!==null&&c&&(f.current.scrollTop=f.current.scrollHeight)},[c,n,r]);const p=()=>{e(P1()),e(fd(!r))};de("`",()=>{e(fd(!r))},[r]),de("esc",()=>{e(fd(!1))});const h=()=>{f.current&&c&&f.current.scrollTop<f.current.scrollHeight-f.current.clientHeight&&u(!1)};return l.jsxs(l.Fragment,{children:[r&&l.jsx(Lx,{defaultSize:{width:"100%",height:200},style:{display:"flex",position:"fixed",insetInlineStart:0,bottom:0,zIndex:9999},maxHeight:"90vh",children:l.jsx(L,{sx:{flexDirection:"column",width:"100vw",overflow:"auto",direction:"column",fontFamily:"monospace",pt:0,pr:4,pb:4,pl:12,borderTopWidth:5,bg:"base.850",borderColor:"base.700"},ref:f,onScroll:h,children:n.map((y,x)=>{const{timestamp:S,message:C,level:j}=y,w=j==="info"?"base":j;return l.jsxs(L,{sx:{gap:2,color:`${w}.300`},children:[l.jsxs(Ce,{fontWeight:"600",children:[S,":"]}),l.jsx(Ce,{wordBreak:"break-all",children:C})]},x)})})}),r&&l.jsx(Gt,{hasArrow:!0,label:c?"Autoscroll On":"Autoscroll Off",children:l.jsx(se,{size:"sm","aria-label":t("accessibility.toggleAutoscroll"),icon:l.jsx(I9,{}),onClick:()=>u(!c),isChecked:c,sx:{position:"fixed",insetInlineStart:2,bottom:12,zIndex:"10000"}})}),l.jsx(Gt,{hasArrow:!0,label:r?"Hide Console":"Show Console",children:l.jsx(se,{size:"sm","aria-label":t("accessibility.toggleLogViewer"),icon:r?l.jsx(U9,{}):l.jsx(Ux,{}),onClick:p,sx:{position:"fixed",insetInlineStart:2,bottom:2,zIndex:"10000"},colorScheme:o||!s?"error":"base"})})]})},aP="0px",Zx="calc(70px + 1rem)",fc=1.5,sP=`calc(100vw - ${aP})`,lP=`calc(100vh - ${fc*4}px)`,cP=`calc(100vh - ${Zx})`,uP=`calc(100vh - (${Zx} + 4.4rem))`,a0=384,dP=me(Et,e=>({isProcessing:e.isProcessing,currentStep:e.currentStep,totalSteps:e.totalSteps,currentStatusHasSteps:e.currentStatusHasSteps}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),fP=()=>{const{t:e}=K(),{isProcessing:t,currentStep:n,totalSteps:r,currentStatusHasSteps:o}=A(dP),s=n?Math.round(n*100/r):0;return l.jsx(nx,{value:s,"aria-label":e("accessibility.invokeProgressBar"),isIndeterminate:t&&!o,height:fc,zIndex:99})};function hP(e){const{title:t,hotkey:n,description:r}=e;return l.jsxs(ir,{sx:{gridTemplateColumns:"auto max-content",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs(ir,{children:[l.jsx(Ce,{fontWeight:600,children:t}),r&&l.jsx(Ce,{sx:{fontSize:"sm"},variant:"subtext",children:r})]}),l.jsx(Ye,{sx:{fontSize:"sm",fontWeight:600,px:2,py:1},children:n})]})}function pP({children:e}){const{isOpen:t,onOpen:n,onClose:r}=po(),{t:o}=K(),s=[{title:o("hotkeys.invoke.title"),desc:o("hotkeys.invoke.desc"),hotkey:"Ctrl+Enter"},{title:o("hotkeys.cancel.title"),desc:o("hotkeys.cancel.desc"),hotkey:"Shift+X"},{title:o("hotkeys.focusPrompt.title"),desc:o("hotkeys.focusPrompt.desc"),hotkey:"Alt+A"},{title:o("hotkeys.toggleOptions.title"),desc:o("hotkeys.toggleOptions.desc"),hotkey:"O"},{title:o("hotkeys.pinOptions.title"),desc:o("hotkeys.pinOptions.desc"),hotkey:"Shift+O"},{title:o("hotkeys.toggleViewer.title"),desc:o("hotkeys.toggleViewer.desc"),hotkey:"Z"},{title:o("hotkeys.toggleGallery.title"),desc:o("hotkeys.toggleGallery.desc"),hotkey:"G"},{title:o("hotkeys.maximizeWorkSpace.title"),desc:o("hotkeys.maximizeWorkSpace.desc"),hotkey:"F"},{title:o("hotkeys.changeTabs.title"),desc:o("hotkeys.changeTabs.desc"),hotkey:"1-5"},{title:o("hotkeys.consoleToggle.title"),desc:o("hotkeys.consoleToggle.desc"),hotkey:"`"}],c=[{title:o("hotkeys.setPrompt.title"),desc:o("hotkeys.setPrompt.desc"),hotkey:"P"},{title:o("hotkeys.setSeed.title"),desc:o("hotkeys.setSeed.desc"),hotkey:"S"},{title:o("hotkeys.setParameters.title"),desc:o("hotkeys.setParameters.desc"),hotkey:"A"},{title:o("hotkeys.restoreFaces.title"),desc:o("hotkeys.restoreFaces.desc"),hotkey:"Shift+R"},{title:o("hotkeys.upscale.title"),desc:o("hotkeys.upscale.desc"),hotkey:"Shift+U"},{title:o("hotkeys.showInfo.title"),desc:o("hotkeys.showInfo.desc"),hotkey:"I"},{title:o("hotkeys.sendToImageToImage.title"),desc:o("hotkeys.sendToImageToImage.desc"),hotkey:"Shift+I"},{title:o("hotkeys.deleteImage.title"),desc:o("hotkeys.deleteImage.desc"),hotkey:"Del"},{title:o("hotkeys.closePanels.title"),desc:o("hotkeys.closePanels.desc"),hotkey:"Esc"}],u=[{title:o("hotkeys.previousImage.title"),desc:o("hotkeys.previousImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextImage.title"),desc:o("hotkeys.nextImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.toggleGalleryPin.title"),desc:o("hotkeys.toggleGalleryPin.desc"),hotkey:"Shift+G"},{title:o("hotkeys.increaseGalleryThumbSize.title"),desc:o("hotkeys.increaseGalleryThumbSize.desc"),hotkey:"Shift+Up"},{title:o("hotkeys.decreaseGalleryThumbSize.title"),desc:o("hotkeys.decreaseGalleryThumbSize.desc"),hotkey:"Shift+Down"}],f=[{title:o("hotkeys.selectBrush.title"),desc:o("hotkeys.selectBrush.desc"),hotkey:"B"},{title:o("hotkeys.selectEraser.title"),desc:o("hotkeys.selectEraser.desc"),hotkey:"E"},{title:o("hotkeys.decreaseBrushSize.title"),desc:o("hotkeys.decreaseBrushSize.desc"),hotkey:"["},{title:o("hotkeys.increaseBrushSize.title"),desc:o("hotkeys.increaseBrushSize.desc"),hotkey:"]"},{title:o("hotkeys.decreaseBrushOpacity.title"),desc:o("hotkeys.decreaseBrushOpacity.desc"),hotkey:"Shift + ["},{title:o("hotkeys.increaseBrushOpacity.title"),desc:o("hotkeys.increaseBrushOpacity.desc"),hotkey:"Shift + ]"},{title:o("hotkeys.moveTool.title"),desc:o("hotkeys.moveTool.desc"),hotkey:"V"},{title:o("hotkeys.fillBoundingBox.title"),desc:o("hotkeys.fillBoundingBox.desc"),hotkey:"Shift + F"},{title:o("hotkeys.eraseBoundingBox.title"),desc:o("hotkeys.eraseBoundingBox.desc"),hotkey:"Delete / Backspace"},{title:o("hotkeys.colorPicker.title"),desc:o("hotkeys.colorPicker.desc"),hotkey:"C"},{title:o("hotkeys.toggleSnap.title"),desc:o("hotkeys.toggleSnap.desc"),hotkey:"N"},{title:o("hotkeys.quickToggleMove.title"),desc:o("hotkeys.quickToggleMove.desc"),hotkey:"Hold Space"},{title:o("hotkeys.toggleLayer.title"),desc:o("hotkeys.toggleLayer.desc"),hotkey:"Q"},{title:o("hotkeys.clearMask.title"),desc:o("hotkeys.clearMask.desc"),hotkey:"Shift+C"},{title:o("hotkeys.hideMask.title"),desc:o("hotkeys.hideMask.desc"),hotkey:"H"},{title:o("hotkeys.showHideBoundingBox.title"),desc:o("hotkeys.showHideBoundingBox.desc"),hotkey:"Shift+H"},{title:o("hotkeys.mergeVisible.title"),desc:o("hotkeys.mergeVisible.desc"),hotkey:"Shift+M"},{title:o("hotkeys.saveToGallery.title"),desc:o("hotkeys.saveToGallery.desc"),hotkey:"Shift+S"},{title:o("hotkeys.copyToClipboard.title"),desc:o("hotkeys.copyToClipboard.desc"),hotkey:"Ctrl+C"},{title:o("hotkeys.downloadImage.title"),desc:o("hotkeys.downloadImage.desc"),hotkey:"Shift+D"},{title:o("hotkeys.undoStroke.title"),desc:o("hotkeys.undoStroke.desc"),hotkey:"Ctrl+Z"},{title:o("hotkeys.redoStroke.title"),desc:o("hotkeys.redoStroke.desc"),hotkey:"Ctrl+Shift+Z, Ctrl+Y"},{title:o("hotkeys.resetView.title"),desc:o("hotkeys.resetView.desc"),hotkey:"R"},{title:o("hotkeys.previousStagingImage.title"),desc:o("hotkeys.previousStagingImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextStagingImage.title"),desc:o("hotkeys.nextStagingImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.acceptStagingImage.title"),desc:o("hotkeys.acceptStagingImage.desc"),hotkey:"Enter"}],p=h=>l.jsx(L,{flexDir:"column",gap:4,children:h.map((y,x)=>l.jsxs(L,{flexDir:"column",px:2,gap:4,children:[l.jsx(hP,{title:y.title,description:y.desc,hotkey:y.hotkey}),x<h.length-1&&l.jsx(ky,{})]},x))});return l.jsxs(l.Fragment,{children:[g.cloneElement(e,{onClick:n}),l.jsxs(mo,{isOpen:t,onClose:r,children:[l.jsx(Hr,{}),l.jsxs(vo,{children:[l.jsx(Br,{children:o("hotkeys.keyboardShortcuts")}),l.jsx(sa,{}),l.jsx(Wr,{children:l.jsx(ah,{allowMultiple:!0,children:l.jsxs(L,{flexDir:"column",gap:2,children:[l.jsxs(Ri,{children:[l.jsx(Oi,{children:l.jsxs(L,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[l.jsx("h2",{children:o("hotkeys.appHotkeys")}),l.jsx(zi,{})]})}),l.jsx(Ni,{children:p(s)})]}),l.jsxs(Ri,{children:[l.jsx(Oi,{children:l.jsxs(L,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[l.jsx("h2",{children:o("hotkeys.generalHotkeys")}),l.jsx(zi,{})]})}),l.jsx(Ni,{children:p(c)})]}),l.jsxs(Ri,{children:[l.jsx(Oi,{children:l.jsxs(L,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[l.jsx("h2",{children:o("hotkeys.galleryHotkeys")}),l.jsx(zi,{})]})}),l.jsx(Ni,{children:p(u)})]}),l.jsxs(Ri,{children:[l.jsx(Oi,{children:l.jsxs(L,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[l.jsx("h2",{children:o("hotkeys.unifiedCanvasHotkeys")}),l.jsx(zi,{})]})}),l.jsx(Ni,{children:p(f)})]})]})})}),l.jsx(Lr,{})]})]})]})}const mP=fe((e,t)=>{const{children:n,tooltip:r="",tooltipProps:o,isChecked:s,...c}=e;return l.jsx(Gt,{label:r,...o,children:l.jsx(ri,{ref:t,"aria-checked":s,...c,children:n})})}),Xe=g.memo(mP),vP=e=>{const{label:t="",isDisabled:n=!1,isInvalid:r,formControlProps:o,...s}=e;return l.jsxs(rt,{isInvalid:r,isDisabled:n,...o,children:[t!==""&&l.jsx(st,{children:t}),l.jsx(Sh,{...s})]})},mt=g.memo(vP),s0=/^-?(0\.)?\.?$/,gP=e=>{const{label:t,isDisabled:n=!1,showStepper:r=!0,isInvalid:o,value:s,onChange:c,min:u,max:f,isInteger:p=!0,formControlProps:h,formLabelProps:y,numberInputFieldProps:x,numberInputStepperProps:S,tooltipProps:C,...j}=e,[w,k]=g.useState(String(s));g.useEffect(()=>{!w.match(s0)&&s!==Number(w)&&k(String(s))},[s,w]);const I=M=>{k(M),M.match(s0)||c(p?Math.floor(Number(M)):Number(M))},P=M=>{const T=ee.clamp(p?Math.floor(Number(M.target.value)):Number(M.target.value),u,f);k(String(T)),c(T)};return l.jsx(Gt,{...C,children:l.jsxs(rt,{isDisabled:n,isInvalid:o,...h,children:[t&&l.jsx(st,{...y,children:t}),l.jsxs(Fh,{value:w,min:u,max:f,keepWithinRange:!0,clampValueOnBlur:!1,onChange:I,onBlur:P,...j,children:[l.jsx(Bh,{...x}),r&&l.jsxs(Lh,{children:[l.jsx(Wh,{...S}),l.jsx(Hh,{...S})]})]})]})})},Vr=g.memo(gP);var l0=Array.isArray,c0=Object.keys,yP=Object.prototype.hasOwnProperty,xP=typeof Element<"u";function Lf(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=l0(e),r=l0(t),o,s,c;if(n&&r){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!Lf(e[o],t[o]))return!1;return!0}if(n!=r)return!1;var u=e instanceof Date,f=t instanceof Date;if(u!=f)return!1;if(u&&f)return e.getTime()==t.getTime();var p=e instanceof RegExp,h=t instanceof RegExp;if(p!=h)return!1;if(p&&h)return e.toString()==t.toString();var y=c0(e);if(s=y.length,s!==c0(t).length)return!1;for(o=s;o--!==0;)if(!yP.call(t,y[o]))return!1;if(xP&&e instanceof Element&&t instanceof Element)return e===t;for(o=s;o--!==0;)if(c=y[o],!(c==="_owner"&&e.$$typeof)&&!Lf(e[c],t[c]))return!1;return!0}return e!==e&&t!==t}var ao=function(t,n){try{return Lf(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},bP=function(t){return SP(t)&&!CP(t)};function SP(e){return!!e&&typeof e=="object"}function CP(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||kP(e)}var wP=typeof Symbol=="function"&&Symbol.for,jP=wP?Symbol.for("react.element"):60103;function kP(e){return e.$$typeof===jP}function EP(e){return Array.isArray(e)?[]:{}}function hc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ts(EP(e),e,t):e}function PP(e,t,n){return e.concat(t).map(function(r){return hc(r,n)})}function IP(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(o){r[o]=hc(e[o],n)}),Object.keys(t).forEach(function(o){!n.isMergeableObject(t[o])||!e[o]?r[o]=hc(t[o],n):r[o]=ts(e[o],t[o],n)}),r}function ts(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||PP,n.isMergeableObject=n.isMergeableObject||bP;var r=Array.isArray(t),o=Array.isArray(e),s=r===o;return s?r?n.arrayMerge(e,t,n):IP(e,t,n):hc(t,n)}ts.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return ts(r,o,n)},{})};var Bf=ts,MP=typeof global=="object"&&global&&global.Object===Object&&global;const Jx=MP;var TP=typeof self=="object"&&self&&self.Object===Object&&self,_P=Jx||TP||Function("return this")();const Ir=_P;var DP=Ir.Symbol;const go=DP;var eb=Object.prototype,AP=eb.hasOwnProperty,OP=eb.toString,Aa=go?go.toStringTag:void 0;function zP(e){var t=AP.call(e,Aa),n=e[Aa];try{e[Aa]=void 0;var r=!0}catch{}var o=OP.call(e);return r&&(t?e[Aa]=n:delete e[Aa]),o}var RP=Object.prototype,NP=RP.toString;function FP(e){return NP.call(e)}var LP="[object Null]",BP="[object Undefined]",u0=go?go.toStringTag:void 0;function ii(e){return e==null?e===void 0?BP:LP:u0&&u0 in Object(e)?zP(e):FP(e)}function tb(e,t){return function(n){return e(t(n))}}var HP=tb(Object.getPrototypeOf,Object);const np=HP;function ai(e){return e!=null&&typeof e=="object"}var WP="[object Object]",VP=Function.prototype,UP=Object.prototype,nb=VP.toString,$P=UP.hasOwnProperty,GP=nb.call(Object);function d0(e){if(!ai(e)||ii(e)!=WP)return!1;var t=np(e);if(t===null)return!0;var n=$P.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&nb.call(n)==GP}function qP(){this.__data__=[],this.size=0}function rb(e,t){return e===t||e!==e&&t!==t}function Fc(e,t){for(var n=e.length;n--;)if(rb(e[n][0],t))return n;return-1}var YP=Array.prototype,KP=YP.splice;function XP(e){var t=this.__data__,n=Fc(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():KP.call(t,n,1),--this.size,!0}function QP(e){var t=this.__data__,n=Fc(t,e);return n<0?void 0:t[n][1]}function ZP(e){return Fc(this.__data__,e)>-1}function JP(e,t){var n=this.__data__,r=Fc(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Gr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gr.prototype.clear=qP;Gr.prototype.delete=XP;Gr.prototype.get=QP;Gr.prototype.has=ZP;Gr.prototype.set=JP;function eI(){this.__data__=new Gr,this.size=0}function tI(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function nI(e){return this.__data__.get(e)}function rI(e){return this.__data__.has(e)}function ys(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oI="[object AsyncFunction]",iI="[object Function]",aI="[object GeneratorFunction]",sI="[object Proxy]";function ob(e){if(!ys(e))return!1;var t=ii(e);return t==iI||t==aI||t==oI||t==sI}var lI=Ir["__core-js_shared__"];const Ld=lI;var f0=function(){var e=/[^.]+$/.exec(Ld&&Ld.keys&&Ld.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cI(e){return!!f0&&f0 in e}var uI=Function.prototype,dI=uI.toString;function si(e){if(e!=null){try{return dI.call(e)}catch{}try{return e+""}catch{}}return""}var fI=/[\\^$.*+?()[\]{}|]/g,hI=/^\[object .+?Constructor\]$/,pI=Function.prototype,mI=Object.prototype,vI=pI.toString,gI=mI.hasOwnProperty,yI=RegExp("^"+vI.call(gI).replace(fI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xI(e){if(!ys(e)||cI(e))return!1;var t=ob(e)?yI:hI;return t.test(si(e))}function bI(e,t){return e==null?void 0:e[t]}function li(e,t){var n=bI(e,t);return xI(n)?n:void 0}var SI=li(Ir,"Map");const ns=SI;var CI=li(Object,"create");const rs=CI;function wI(){this.__data__=rs?rs(null):{},this.size=0}function jI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kI="__lodash_hash_undefined__",EI=Object.prototype,PI=EI.hasOwnProperty;function II(e){var t=this.__data__;if(rs){var n=t[e];return n===kI?void 0:n}return PI.call(t,e)?t[e]:void 0}var MI=Object.prototype,TI=MI.hasOwnProperty;function _I(e){var t=this.__data__;return rs?t[e]!==void 0:TI.call(t,e)}var DI="__lodash_hash_undefined__";function AI(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rs&&t===void 0?DI:t,this}function ei(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ei.prototype.clear=wI;ei.prototype.delete=jI;ei.prototype.get=II;ei.prototype.has=_I;ei.prototype.set=AI;function OI(){this.size=0,this.__data__={hash:new ei,map:new(ns||Gr),string:new ei}}function zI(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Lc(e,t){var n=e.__data__;return zI(t)?n[typeof t=="string"?"string":"hash"]:n.map}function RI(e){var t=Lc(this,e).delete(e);return this.size-=t?1:0,t}function NI(e){return Lc(this,e).get(e)}function FI(e){return Lc(this,e).has(e)}function LI(e,t){var n=Lc(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Co(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Co.prototype.clear=OI;Co.prototype.delete=RI;Co.prototype.get=NI;Co.prototype.has=FI;Co.prototype.set=LI;var BI=200;function HI(e,t){var n=this.__data__;if(n instanceof Gr){var r=n.__data__;if(!ns||r.length<BI-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Co(r)}return n.set(e,t),this.size=n.size,this}function la(e){var t=this.__data__=new Gr(e);this.size=t.size}la.prototype.clear=eI;la.prototype.delete=tI;la.prototype.get=nI;la.prototype.has=rI;la.prototype.set=HI;function WI(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var VI=function(){try{var e=li(Object,"defineProperty");return e({},"",{}),e}catch{}}();const h0=VI;function ib(e,t,n){t=="__proto__"&&h0?h0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var UI=Object.prototype,$I=UI.hasOwnProperty;function ab(e,t,n){var r=e[t];(!($I.call(e,t)&&rb(r,n))||n===void 0&&!(t in e))&&ib(e,t,n)}function Bc(e,t,n,r){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],f=r?r(n[u],e[u],u,n,e):void 0;f===void 0&&(f=e[u]),o?ib(n,u,f):ab(n,u,f)}return n}function GI(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var qI="[object Arguments]";function p0(e){return ai(e)&&ii(e)==qI}var sb=Object.prototype,YI=sb.hasOwnProperty,KI=sb.propertyIsEnumerable,XI=p0(function(){return arguments}())?p0:function(e){return ai(e)&&YI.call(e,"callee")&&!KI.call(e,"callee")};const QI=XI;var ZI=Array.isArray;const xs=ZI;function JI(){return!1}var lb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m0=lb&&typeof module=="object"&&module&&!module.nodeType&&module,eM=m0&&m0.exports===lb,v0=eM?Ir.Buffer:void 0,tM=v0?v0.isBuffer:void 0,nM=tM||JI;const cb=nM;var rM=9007199254740991,oM=/^(?:0|[1-9]\d*)$/;function iM(e,t){var n=typeof e;return t=t??rM,!!t&&(n=="number"||n!="symbol"&&oM.test(e))&&e>-1&&e%1==0&&e<t}var aM=9007199254740991;function ub(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aM}var sM="[object Arguments]",lM="[object Array]",cM="[object Boolean]",uM="[object Date]",dM="[object Error]",fM="[object Function]",hM="[object Map]",pM="[object Number]",mM="[object Object]",vM="[object RegExp]",gM="[object Set]",yM="[object String]",xM="[object WeakMap]",bM="[object ArrayBuffer]",SM="[object DataView]",CM="[object Float32Array]",wM="[object Float64Array]",jM="[object Int8Array]",kM="[object Int16Array]",EM="[object Int32Array]",PM="[object Uint8Array]",IM="[object Uint8ClampedArray]",MM="[object Uint16Array]",TM="[object Uint32Array]",wt={};wt[CM]=wt[wM]=wt[jM]=wt[kM]=wt[EM]=wt[PM]=wt[IM]=wt[MM]=wt[TM]=!0;wt[sM]=wt[lM]=wt[bM]=wt[cM]=wt[SM]=wt[uM]=wt[dM]=wt[fM]=wt[hM]=wt[pM]=wt[mM]=wt[vM]=wt[gM]=wt[yM]=wt[xM]=!1;function _M(e){return ai(e)&&ub(e.length)&&!!wt[ii(e)]}function rp(e){return function(t){return e(t)}}var db=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wa=db&&typeof module=="object"&&module&&!module.nodeType&&module,DM=Wa&&Wa.exports===db,Bd=DM&&Jx.process,AM=function(){try{var e=Wa&&Wa.require&&Wa.require("util").types;return e||Bd&&Bd.binding&&Bd.binding("util")}catch{}}();const Zi=AM;var g0=Zi&&Zi.isTypedArray,OM=g0?rp(g0):_M;const zM=OM;var RM=Object.prototype,NM=RM.hasOwnProperty;function fb(e,t){var n=xs(e),r=!n&&QI(e),o=!n&&!r&&cb(e),s=!n&&!r&&!o&&zM(e),c=n||r||o||s,u=c?GI(e.length,String):[],f=u.length;for(var p in e)(t||NM.call(e,p))&&!(c&&(p=="length"||o&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||iM(p,f)))&&u.push(p);return u}var FM=Object.prototype;function op(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||FM;return e===n}var LM=tb(Object.keys,Object);const BM=LM;var HM=Object.prototype,WM=HM.hasOwnProperty;function VM(e){if(!op(e))return BM(e);var t=[];for(var n in Object(e))WM.call(e,n)&&n!="constructor"&&t.push(n);return t}function hb(e){return e!=null&&ub(e.length)&&!ob(e)}function ip(e){return hb(e)?fb(e):VM(e)}function UM(e,t){return e&&Bc(t,ip(t),e)}function $M(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var GM=Object.prototype,qM=GM.hasOwnProperty;function YM(e){if(!ys(e))return $M(e);var t=op(e),n=[];for(var r in e)r=="constructor"&&(t||!qM.call(e,r))||n.push(r);return n}function ap(e){return hb(e)?fb(e,!0):YM(e)}function KM(e,t){return e&&Bc(t,ap(t),e)}var pb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y0=pb&&typeof module=="object"&&module&&!module.nodeType&&module,XM=y0&&y0.exports===pb,x0=XM?Ir.Buffer:void 0,b0=x0?x0.allocUnsafe:void 0;function QM(e,t){if(t)return e.slice();var n=e.length,r=b0?b0(n):new e.constructor(n);return e.copy(r),r}function mb(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ZM(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var c=e[n];t(c,n,e)&&(s[o++]=c)}return s}function vb(){return[]}var JM=Object.prototype,eT=JM.propertyIsEnumerable,S0=Object.getOwnPropertySymbols,tT=S0?function(e){return e==null?[]:(e=Object(e),ZM(S0(e),function(t){return eT.call(e,t)}))}:vb;const sp=tT;function nT(e,t){return Bc(e,sp(e),t)}function gb(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var rT=Object.getOwnPropertySymbols,oT=rT?function(e){for(var t=[];e;)gb(t,sp(e)),e=np(e);return t}:vb;const yb=oT;function iT(e,t){return Bc(e,yb(e),t)}function xb(e,t,n){var r=t(e);return xs(e)?r:gb(r,n(e))}function aT(e){return xb(e,ip,sp)}function sT(e){return xb(e,ap,yb)}var lT=li(Ir,"DataView");const Hf=lT;var cT=li(Ir,"Promise");const Wf=cT;var uT=li(Ir,"Set");const Vf=uT;var dT=li(Ir,"WeakMap");const Uf=dT;var C0="[object Map]",fT="[object Object]",w0="[object Promise]",j0="[object Set]",k0="[object WeakMap]",E0="[object DataView]",hT=si(Hf),pT=si(ns),mT=si(Wf),vT=si(Vf),gT=si(Uf),Bo=ii;(Hf&&Bo(new Hf(new ArrayBuffer(1)))!=E0||ns&&Bo(new ns)!=C0||Wf&&Bo(Wf.resolve())!=w0||Vf&&Bo(new Vf)!=j0||Uf&&Bo(new Uf)!=k0)&&(Bo=function(e){var t=ii(e),n=t==fT?e.constructor:void 0,r=n?si(n):"";if(r)switch(r){case hT:return E0;case pT:return C0;case mT:return w0;case vT:return j0;case gT:return k0}return t});const lp=Bo;var yT=Object.prototype,xT=yT.hasOwnProperty;function bT(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&xT.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ST=Ir.Uint8Array;const P0=ST;function cp(e){var t=new e.constructor(e.byteLength);return new P0(t).set(new P0(e)),t}function CT(e,t){var n=t?cp(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var wT=/\w*$/;function jT(e){var t=new e.constructor(e.source,wT.exec(e));return t.lastIndex=e.lastIndex,t}var I0=go?go.prototype:void 0,M0=I0?I0.valueOf:void 0;function kT(e){return M0?Object(M0.call(e)):{}}function ET(e,t){var n=t?cp(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var PT="[object Boolean]",IT="[object Date]",MT="[object Map]",TT="[object Number]",_T="[object RegExp]",DT="[object Set]",AT="[object String]",OT="[object Symbol]",zT="[object ArrayBuffer]",RT="[object DataView]",NT="[object Float32Array]",FT="[object Float64Array]",LT="[object Int8Array]",BT="[object Int16Array]",HT="[object Int32Array]",WT="[object Uint8Array]",VT="[object Uint8ClampedArray]",UT="[object Uint16Array]",$T="[object Uint32Array]";function GT(e,t,n){var r=e.constructor;switch(t){case zT:return cp(e);case PT:case IT:return new r(+e);case RT:return CT(e,n);case NT:case FT:case LT:case BT:case HT:case WT:case VT:case UT:case $T:return ET(e,n);case MT:return new r;case TT:case AT:return new r(e);case _T:return jT(e);case DT:return new r;case OT:return kT(e)}}var T0=Object.create,qT=function(){function e(){}return function(t){if(!ys(t))return{};if(T0)return T0(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const YT=qT;function KT(e){return typeof e.constructor=="function"&&!op(e)?YT(np(e)):{}}var XT="[object Map]";function QT(e){return ai(e)&&lp(e)==XT}var _0=Zi&&Zi.isMap,ZT=_0?rp(_0):QT;const JT=ZT;var e_="[object Set]";function t_(e){return ai(e)&&lp(e)==e_}var D0=Zi&&Zi.isSet,n_=D0?rp(D0):t_;const r_=n_;var o_=1,i_=2,a_=4,bb="[object Arguments]",s_="[object Array]",l_="[object Boolean]",c_="[object Date]",u_="[object Error]",Sb="[object Function]",d_="[object GeneratorFunction]",f_="[object Map]",h_="[object Number]",Cb="[object Object]",p_="[object RegExp]",m_="[object Set]",v_="[object String]",g_="[object Symbol]",y_="[object WeakMap]",x_="[object ArrayBuffer]",b_="[object DataView]",S_="[object Float32Array]",C_="[object Float64Array]",w_="[object Int8Array]",j_="[object Int16Array]",k_="[object Int32Array]",E_="[object Uint8Array]",P_="[object Uint8ClampedArray]",I_="[object Uint16Array]",M_="[object Uint32Array]",xt={};xt[bb]=xt[s_]=xt[x_]=xt[b_]=xt[l_]=xt[c_]=xt[S_]=xt[C_]=xt[w_]=xt[j_]=xt[k_]=xt[f_]=xt[h_]=xt[Cb]=xt[p_]=xt[m_]=xt[v_]=xt[g_]=xt[E_]=xt[P_]=xt[I_]=xt[M_]=!0;xt[u_]=xt[Sb]=xt[y_]=!1;function Va(e,t,n,r,o,s){var c,u=t&o_,f=t&i_,p=t&a_;if(n&&(c=o?n(e,r,o,s):n(e)),c!==void 0)return c;if(!ys(e))return e;var h=xs(e);if(h){if(c=bT(e),!u)return mb(e,c)}else{var y=lp(e),x=y==Sb||y==d_;if(cb(e))return QM(e,u);if(y==Cb||y==bb||x&&!o){if(c=f||x?{}:KT(e),!u)return f?iT(e,KM(c,e)):nT(e,UM(c,e))}else{if(!xt[y])return o?e:{};c=GT(e,y,u)}}s||(s=new la);var S=s.get(e);if(S)return S;s.set(e,c),r_(e)?e.forEach(function(w){c.add(Va(w,t,n,w,e,s))}):JT(e)&&e.forEach(function(w,k){c.set(k,Va(w,t,n,k,e,s))});var C=p?f?sT:aT:f?ap:ip,j=h?void 0:C(e);return WI(j||e,function(w,k){j&&(k=w,w=e[k]),ab(c,k,Va(w,t,n,k,e,s))}),c}var T_=4;function A0(e){return Va(e,T_)}function wb(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var __="[object Symbol]";function up(e){return typeof e=="symbol"||ai(e)&&ii(e)==__}var D_="Expected a function";function dp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(D_);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var c=e.apply(this,r);return n.cache=s.set(o,c)||s,c};return n.cache=new(dp.Cache||Co),n}dp.Cache=Co;var A_=500;function O_(e){var t=dp(e,function(r){return n.size===A_&&n.clear(),r}),n=t.cache;return t}var z_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R_=/\\(\\)?/g,N_=O_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(z_,function(n,r,o,s){t.push(o?s.replace(R_,"$1"):r||n)}),t});const F_=N_;var L_=1/0;function B_(e){if(typeof e=="string"||up(e))return e;var t=e+"";return t=="0"&&1/e==-L_?"-0":t}var H_=1/0,O0=go?go.prototype:void 0,z0=O0?O0.toString:void 0;function jb(e){if(typeof e=="string")return e;if(xs(e))return wb(e,jb)+"";if(up(e))return z0?z0.call(e):"";var t=e+"";return t=="0"&&1/e==-H_?"-0":t}function W_(e){return e==null?"":jb(e)}function kb(e){return xs(e)?wb(e,B_):up(e)?[e]:mb(F_(W_(e)))}var V_=!0;function U_(e,t){if(!V_){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var $_=1,G_=4;function q_(e){return Va(e,$_|G_)}function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function Y_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Vo(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function R0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N0=function(t){return Array.isArray(t)&&t.length===0},jn=function(t){return typeof t=="function"},Hc=function(t){return t!==null&&typeof t=="object"},K_=function(t){return String(Math.floor(Number(t)))===t},Hd=function(t){return Object.prototype.toString.call(t)==="[object String]"},Eb=function(t){return g.Children.count(t)===0},Wd=function(t){return Hc(t)&&jn(t.then)};function en(e,t,n,r){r===void 0&&(r=0);for(var o=kb(t);e&&r<o.length;)e=e[o[r++]];return e===void 0?n:e}function wr(e,t,n){for(var r=A0(e),o=r,s=0,c=kb(t);s<c.length-1;s++){var u=c[s],f=en(e,c.slice(0,s+1));if(f&&(Hc(f)||Array.isArray(f)))o=o[u]=A0(f);else{var p=c[s+1];o=o[u]=K_(p)&&Number(p)>=0?[]:{}}}return(s===0?e:o)[c[s]]===n?e:(n===void 0?delete o[c[s]]:o[c[s]]=n,s===0&&n===void 0&&delete r[c[s]],r)}function Pb(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var o=0,s=Object.keys(e);o<s.length;o++){var c=s[o],u=e[c];Hc(u)?n.get(u)||(n.set(u,!0),r[c]=Array.isArray(u)?[]:{},Pb(u,t,n,r[c])):r[c]=t}return r}var Wc=g.createContext(void 0);Wc.displayName="FormikContext";var X_=Wc.Provider;Wc.Consumer;function Ib(){var e=g.useContext(Wc);return e||U_(!1),e}function Q_(e,t){switch(t.type){case"SET_VALUES":return pt({},e,{values:t.payload});case"SET_TOUCHED":return pt({},e,{touched:t.payload});case"SET_ERRORS":return ao(e.errors,t.payload)?e:pt({},e,{errors:t.payload});case"SET_STATUS":return pt({},e,{status:t.payload});case"SET_ISSUBMITTING":return pt({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return pt({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return pt({},e,{values:wr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return pt({},e,{touched:wr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return pt({},e,{errors:wr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return pt({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return pt({},e,{touched:Pb(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return pt({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return pt({},e,{isSubmitting:!1});default:return e}}var No={},Ol={};function Z_(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,o=r===void 0?!0:r,s=e.validateOnMount,c=s===void 0?!1:s,u=e.isInitialValid,f=e.enableReinitialize,p=f===void 0?!1:f,h=e.onSubmit,y=Vo(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),x=pt({validateOnChange:n,validateOnBlur:o,validateOnMount:c,onSubmit:h},y),S=g.useRef(x.initialValues),C=g.useRef(x.initialErrors||No),j=g.useRef(x.initialTouched||Ol),w=g.useRef(x.initialStatus),k=g.useRef(!1),I=g.useRef({});g.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]);var P=g.useReducer(Q_,{values:x.initialValues,errors:x.initialErrors||No,touched:x.initialTouched||Ol,status:x.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),M=P[0],T=P[1],D=g.useCallback(function(N,ue){return new Promise(function(xe,je){var q=x.validate(N,ue);q==null?xe(No):Wd(q)?q.then(function(ae){xe(ae||No)},function(ae){je(ae)}):xe(q)})},[x.validate]),_=g.useCallback(function(N,ue){var xe=x.validationSchema,je=jn(xe)?xe(ue):xe,q=ue&&je.validateAt?je.validateAt(ue,N):eD(N,je);return new Promise(function(ae,Oe){q.then(function(){ae(No)},function(Je){Je.name==="ValidationError"?ae(J_(Je)):Oe(Je)})})},[x.validationSchema]),R=g.useCallback(function(N,ue){return new Promise(function(xe){return xe(I.current[N].validate(ue))})},[]),V=g.useCallback(function(N){var ue=Object.keys(I.current).filter(function(je){return jn(I.current[je].validate)}),xe=ue.length>0?ue.map(function(je){return R(je,en(N,je))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(xe).then(function(je){return je.reduce(function(q,ae,Oe){return ae==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ae&&(q=wr(q,ue[Oe],ae)),q},{})})},[R]),F=g.useCallback(function(N){return Promise.all([V(N),x.validationSchema?_(N):{},x.validate?D(N):{}]).then(function(ue){var xe=ue[0],je=ue[1],q=ue[2],ae=Bf.all([xe,je,q],{arrayMerge:tD});return ae})},[x.validate,x.validationSchema,V,D,_]),B=Bn(function(N){return N===void 0&&(N=M.values),T({type:"SET_ISVALIDATING",payload:!0}),F(N).then(function(ue){return k.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:ue})),ue})});g.useEffect(function(){c&&k.current===!0&&ao(S.current,x.initialValues)&&B(S.current)},[c,B]);var Q=g.useCallback(function(N){var ue=N&&N.values?N.values:S.current,xe=N&&N.errors?N.errors:C.current?C.current:x.initialErrors||{},je=N&&N.touched?N.touched:j.current?j.current:x.initialTouched||{},q=N&&N.status?N.status:w.current?w.current:x.initialStatus;S.current=ue,C.current=xe,j.current=je,w.current=q;var ae=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!N&&!!N.isSubmitting,errors:xe,touched:je,status:q,values:ue,isValidating:!!N&&!!N.isValidating,submitCount:N&&N.submitCount&&typeof N.submitCount=="number"?N.submitCount:0}})};if(x.onReset){var Oe=x.onReset(M.values,ve);Wd(Oe)?Oe.then(ae):ae()}else ae()},[x.initialErrors,x.initialStatus,x.initialTouched]);g.useEffect(function(){k.current===!0&&!ao(S.current,x.initialValues)&&(p&&(S.current=x.initialValues,Q()),c&&B(S.current))},[p,x.initialValues,Q,c,B]),g.useEffect(function(){p&&k.current===!0&&!ao(C.current,x.initialErrors)&&(C.current=x.initialErrors||No,T({type:"SET_ERRORS",payload:x.initialErrors||No}))},[p,x.initialErrors]),g.useEffect(function(){p&&k.current===!0&&!ao(j.current,x.initialTouched)&&(j.current=x.initialTouched||Ol,T({type:"SET_TOUCHED",payload:x.initialTouched||Ol}))},[p,x.initialTouched]),g.useEffect(function(){p&&k.current===!0&&!ao(w.current,x.initialStatus)&&(w.current=x.initialStatus,T({type:"SET_STATUS",payload:x.initialStatus}))},[p,x.initialStatus,x.initialTouched]);var U=Bn(function(N){if(I.current[N]&&jn(I.current[N].validate)){var ue=en(M.values,N),xe=I.current[N].validate(ue);return Wd(xe)?(T({type:"SET_ISVALIDATING",payload:!0}),xe.then(function(je){return je}).then(function(je){T({type:"SET_FIELD_ERROR",payload:{field:N,value:je}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:N,value:xe}}),Promise.resolve(xe))}else if(x.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),_(M.values,N).then(function(je){return je}).then(function(je){T({type:"SET_FIELD_ERROR",payload:{field:N,value:je[N]}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),X=g.useCallback(function(N,ue){var xe=ue.validate;I.current[N]={validate:xe}},[]),te=g.useCallback(function(N){delete I.current[N]},[]),re=Bn(function(N,ue){T({type:"SET_TOUCHED",payload:N});var xe=ue===void 0?o:ue;return xe?B(M.values):Promise.resolve()}),$=g.useCallback(function(N){T({type:"SET_ERRORS",payload:N})},[]),Z=Bn(function(N,ue){var xe=jn(N)?N(M.values):N;T({type:"SET_VALUES",payload:xe});var je=ue===void 0?n:ue;return je?B(xe):Promise.resolve()}),oe=g.useCallback(function(N,ue){T({type:"SET_FIELD_ERROR",payload:{field:N,value:ue}})},[]),le=Bn(function(N,ue,xe){T({type:"SET_FIELD_VALUE",payload:{field:N,value:ue}});var je=xe===void 0?n:xe;return je?B(wr(M.values,N,ue)):Promise.resolve()}),ze=g.useCallback(function(N,ue){var xe=ue,je=N,q;if(!Hd(N)){N.persist&&N.persist();var ae=N.target?N.target:N.currentTarget,Oe=ae.type,Je=ae.name,J=ae.id,Le=ae.value,nt=ae.checked,Nt=ae.outerHTML,he=ae.options,_e=ae.multiple;xe=ue||Je||J,je=/number|range/.test(Oe)?(q=parseFloat(Le),isNaN(q)?"":q):/checkbox/.test(Oe)?rD(en(M.values,xe),nt,Le):he&&_e?nD(he):Le}xe&&le(xe,je)},[le,M.values]),Re=Bn(function(N){if(Hd(N))return function(ue){return ze(ue,N)};ze(N)}),Ie=Bn(function(N,ue,xe){ue===void 0&&(ue=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:N,value:ue}});var je=xe===void 0?o:xe;return je?B(M.values):Promise.resolve()}),pe=g.useCallback(function(N,ue){N.persist&&N.persist();var xe=N.target,je=xe.name,q=xe.id,ae=xe.outerHTML,Oe=ue||je||q;Ie(Oe,!0)},[Ie]),ce=Bn(function(N){if(Hd(N))return function(ue){return pe(ue,N)};pe(N)}),Ne=g.useCallback(function(N){jn(N)?T({type:"SET_FORMIK_STATE",payload:N}):T({type:"SET_FORMIK_STATE",payload:function(){return N}})},[]),Ve=g.useCallback(function(N){T({type:"SET_STATUS",payload:N})},[]),Ue=g.useCallback(function(N){T({type:"SET_ISSUBMITTING",payload:N})},[]),$e=Bn(function(){return T({type:"SUBMIT_ATTEMPT"}),B().then(function(N){var ue=N instanceof Error,xe=!ue&&Object.keys(N).length===0;if(xe){var je;try{if(je=Te(),je===void 0)return}catch(q){throw q}return Promise.resolve(je).then(function(q){return k.current&&T({type:"SUBMIT_SUCCESS"}),q}).catch(function(q){if(k.current)throw T({type:"SUBMIT_FAILURE"}),q})}else if(k.current&&(T({type:"SUBMIT_FAILURE"}),ue))throw N})}),Ze=Bn(function(N){N&&N.preventDefault&&jn(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&jn(N.stopPropagation)&&N.stopPropagation(),$e().catch(function(ue){console.warn("Warning: An unhandled error was caught from submitForm()",ue)})}),ve={resetForm:Q,validateForm:B,validateField:U,setErrors:$,setFieldError:oe,setFieldTouched:Ie,setFieldValue:le,setStatus:Ve,setSubmitting:Ue,setTouched:re,setValues:Z,setFormikState:Ne,submitForm:$e},Te=Bn(function(){return h(M.values,ve)}),Ge=Bn(function(N){N&&N.preventDefault&&jn(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&jn(N.stopPropagation)&&N.stopPropagation(),Q()}),ye=g.useCallback(function(N){return{value:en(M.values,N),error:en(M.errors,N),touched:!!en(M.touched,N),initialValue:en(S.current,N),initialTouched:!!en(j.current,N),initialError:en(C.current,N)}},[M.errors,M.touched,M.values]),Pe=g.useCallback(function(N){return{setValue:function(xe,je){return le(N,xe,je)},setTouched:function(xe,je){return Ie(N,xe,je)},setError:function(xe){return oe(N,xe)}}},[le,Ie,oe]),et=g.useCallback(function(N){var ue=Hc(N),xe=ue?N.name:N,je=en(M.values,xe),q={name:xe,value:je,onChange:Re,onBlur:ce};if(ue){var ae=N.type,Oe=N.value,Je=N.as,J=N.multiple;ae==="checkbox"?Oe===void 0?q.checked=!!je:(q.checked=!!(Array.isArray(je)&&~je.indexOf(Oe)),q.value=Oe):ae==="radio"?(q.checked=je===Oe,q.value=Oe):Je==="select"&&J&&(q.value=q.value||[],q.multiple=!0)}return q},[ce,Re,M.values]),Be=g.useMemo(function(){return!ao(S.current,M.values)},[S.current,M.values]),vt=g.useMemo(function(){return typeof u<"u"?Be?M.errors&&Object.keys(M.errors).length===0:u!==!1&&jn(u)?u(x):u:M.errors&&Object.keys(M.errors).length===0},[u,Be,M.errors,x]),Rt=pt({},M,{initialValues:S.current,initialErrors:C.current,initialTouched:j.current,initialStatus:w.current,handleBlur:ce,handleChange:Re,handleReset:Ge,handleSubmit:Ze,resetForm:Q,setErrors:$,setFormikState:Ne,setFieldTouched:Ie,setFieldValue:le,setFieldError:oe,setStatus:Ve,setSubmitting:Ue,setTouched:re,setValues:Z,submitForm:$e,validateForm:B,validateField:U,isValid:vt,dirty:Be,unregisterField:te,registerField:X,getFieldProps:et,getFieldMeta:ye,getFieldHelpers:Pe,validateOnBlur:o,validateOnChange:n,validateOnMount:c});return Rt}function bs(e){var t=Z_(e),n=e.component,r=e.children,o=e.render,s=e.innerRef;return g.useImperativeHandle(s,function(){return t}),g.createElement(X_,{value:t},n?g.createElement(n,t):o?o(t):r?jn(r)?r(t):Eb(r)?null:g.Children.only(r):null)}function J_(e){var t={};if(e.inner){if(e.inner.length===0)return wr(t,e.path,e.message);for(var o=e.inner,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var c=s;en(t,c.path)||(t=wr(t,c.path,c.message))}}return t}function eD(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var o=$f(e);return t[n?"validateSync":"validate"](o,{abortEarly:!1,context:r})}function $f(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(o){return Array.isArray(o)===!0||d0(o)?$f(o):o!==""?o:void 0}):d0(e[r])?t[r]=$f(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function tD(e,t,n){var r=e.slice();return t.forEach(function(s,c){if(typeof r[c]>"u"){var u=n.clone!==!1,f=u&&n.isMergeableObject(s);r[c]=f?Bf(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[c]=Bf(e[c],s,n):e.indexOf(s)===-1&&r.push(s)}),r}function nD(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function rD(e,t,n){if(typeof e=="boolean")return Boolean(t);var r=[],o=!1,s=-1;if(Array.isArray(e))r=e,s=e.indexOf(n),o=s>=0;else if(!n||n=="true"||n=="false")return Boolean(t);return t&&n&&!o?r.concat(n):o?r.slice(0,s).concat(r.slice(s+1)):r}var oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Bn(e){var t=g.useRef(e);return oD(function(){t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current.apply(void 0,r)},[])}function jt(e){var t=e.validate,n=e.name,r=e.render,o=e.children,s=e.as,c=e.component,u=Vo(e,["validate","name","render","children","as","component"]),f=Ib(),p=Vo(f,["validate","validationSchema"]),h=p.registerField,y=p.unregisterField;g.useEffect(function(){return h(n,{validate:t}),function(){y(n)}},[h,y,n,t]);var x=p.getFieldProps(pt({name:n},u)),S=p.getFieldMeta(n),C={field:x,form:p};if(r)return r(pt({},C,{meta:S}));if(jn(o))return o(pt({},C,{meta:S}));if(c){if(typeof c=="string"){var j=u.innerRef,w=Vo(u,["innerRef"]);return g.createElement(c,pt({ref:j},x,w),o)}return g.createElement(c,pt({field:x,form:p},u),o)}var k=s||"input";if(typeof k=="string"){var I=u.innerRef,P=Vo(u,["innerRef"]);return g.createElement(k,pt({ref:I},x,P),o)}return g.createElement(k,pt({},x,u),o)}var iD=g.forwardRef(function(e,t){var n=e.action,r=Vo(e,["action"]),o=n??"#",s=Ib(),c=s.handleReset,u=s.handleSubmit;return g.createElement("form",Object.assign({onSubmit:u,ref:t,onReset:c,action:o},r))});iD.displayName="Form";var aD=function(t,n,r){var o=Ji(t),s=o[n];return o.splice(n,1),o.splice(r,0,s),o},sD=function(t,n,r){var o=Ji(t),s=o[n];return o[n]=o[r],o[r]=s,o},Vd=function(t,n,r){var o=Ji(t);return o.splice(n,0,r),o},lD=function(t,n,r){var o=Ji(t);return o[n]=r,o},Ji=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,o){return o>r?o:r},0);return Array.from(pt({},t,{length:n+1}))}else return[]},cD=function(e){Y_(t,e);function t(r){var o;return o=e.call(this,r)||this,o.updateArrayField=function(s,c,u){var f=o.props,p=f.name,h=f.formik.setFormikState;h(function(y){var x=typeof u=="function"?u:s,S=typeof c=="function"?c:s,C=wr(y.values,p,s(en(y.values,p))),j=u?x(en(y.errors,p)):void 0,w=c?S(en(y.touched,p)):void 0;return N0(j)&&(j=void 0),N0(w)&&(w=void 0),pt({},y,{values:C,errors:u?wr(y.errors,p,j):y.errors,touched:c?wr(y.touched,p,w):y.touched})})},o.push=function(s){return o.updateArrayField(function(c){return[].concat(Ji(c),[q_(s)])},!1,!1)},o.handlePush=function(s){return function(){return o.push(s)}},o.swap=function(s,c){return o.updateArrayField(function(u){return sD(u,s,c)},!0,!0)},o.handleSwap=function(s,c){return function(){return o.swap(s,c)}},o.move=function(s,c){return o.updateArrayField(function(u){return aD(u,s,c)},!0,!0)},o.handleMove=function(s,c){return function(){return o.move(s,c)}},o.insert=function(s,c){return o.updateArrayField(function(u){return Vd(u,s,c)},function(u){return Vd(u,s,null)},function(u){return Vd(u,s,null)})},o.handleInsert=function(s,c){return function(){return o.insert(s,c)}},o.replace=function(s,c){return o.updateArrayField(function(u){return lD(u,s,c)},!1,!1)},o.handleReplace=function(s,c){return function(){return o.replace(s,c)}},o.unshift=function(s){var c=-1;return o.updateArrayField(function(u){var f=u?[s].concat(u):[s];return c<0&&(c=f.length),f},function(u){var f=u?[null].concat(u):[null];return c<0&&(c=f.length),f},function(u){var f=u?[null].concat(u):[null];return c<0&&(c=f.length),f}),c},o.handleUnshift=function(s){return function(){return o.unshift(s)}},o.handleRemove=function(s){return function(){return o.remove(s)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(R0(o)),o.pop=o.pop.bind(R0(o)),o}var n=t.prototype;return n.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ao(en(o.formik.values,o.name),en(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(o){var s;return this.updateArrayField(function(c){var u=c?Ji(c):[];return s||(s=u[o]),jn(u.splice)&&u.splice(o,1),u},!0,!0),s},n.pop=function(){var o;return this.updateArrayField(function(s){var c=s;return o||(o=c&&c.pop&&c.pop()),c},!0,!0),o},n.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,c=s.component,u=s.render,f=s.children,p=s.name,h=s.formik,y=Vo(h,["validate","validationSchema"]),x=pt({},o,{form:y,name:p});return c?g.createElement(c,x):u?u(x):f?typeof f=="function"?f(x):Eb(f)?null:g.Children.only(f):null},t}(g.Component);cD.defaultProps={validateOnChange:!0};const uD=fe((e,t)=>{const{t:n}=K(),{acceptButtonText:r=n("common.accept"),acceptCallback:o,cancelButtonText:s=n("common.cancel"),cancelCallback:c,children:u,title:f,triggerComponent:p}=e,{isOpen:h,onOpen:y,onClose:x}=po(),S=g.useRef(null),C=()=>{o(),x()},j=()=>{c&&c(),x()};return l.jsxs(l.Fragment,{children:[g.cloneElement(p,{onClick:y,ref:t}),l.jsx(Qy,{isOpen:h,leastDestructiveRef:S,onClose:x,isCentered:!0,children:l.jsx(Hr,{children:l.jsxs(Zy,{children:[l.jsx(Br,{fontSize:"lg",fontWeight:"bold",children:f}),l.jsx(Wr,{children:u}),l.jsxs(Lr,{children:[l.jsx(Xe,{ref:S,onClick:j,children:s}),l.jsx(Xe,{colorScheme:"error",onClick:C,ml:3,children:r})]})]})})})]})}),Vc=g.memo(uD);function dD(e){const{model:t}=e,r=A(C=>C.system.model_list)[t],o=Y(),{t:s}=K(),c=A(C=>C.system.isProcessing),u=A(C=>C.system.isConnected),[f,p]=g.useState("same"),[h,y]=g.useState("");g.useEffect(()=>{p("same")},[t]);const x=()=>{p("same")},S=()=>{o(YS({model_name:t,save_location:f,custom_location:f==="custom"&&h!==""?h:null}))};return l.jsxs(Vc,{title:`${s("modelManager.convert")} ${t}`,acceptCallback:S,cancelCallback:x,acceptButtonText:`${s("modelManager.convert")}`,triggerComponent:l.jsxs(Xe,{size:"sm","aria-label":s("modelManager.convertToDiffusers"),isDisabled:r.status==="active"||c||!u,className:" modal-close-btn",marginInlineEnd:8,children:[" ",s("modelManager.convertToDiffusers")]}),motionPreset:"slideInBottom",children:[l.jsxs(L,{flexDirection:"column",rowGap:4,children:[l.jsx(Ce,{children:s("modelManager.convertToDiffusersHelpText1")}),l.jsxs(xy,{children:[l.jsx(Fa,{children:s("modelManager.convertToDiffusersHelpText2")}),l.jsx(Fa,{children:s("modelManager.convertToDiffusersHelpText3")}),l.jsx(Fa,{children:s("modelManager.convertToDiffusersHelpText4")}),l.jsx(Fa,{children:s("modelManager.convertToDiffusersHelpText5")})]}),l.jsx(Ce,{children:s("modelManager.convertToDiffusersHelpText6")})]}),l.jsxs(L,{flexDir:"column",gap:4,children:[l.jsxs(L,{marginTop:4,flexDir:"column",gap:2,children:[l.jsx(Ce,{fontWeight:"600",children:s("modelManager.convertToDiffusersSaveLocation")}),l.jsx(Ja,{value:f,onChange:C=>p(C),children:l.jsxs(L,{gap:4,children:[l.jsx(vn,{value:"same",children:l.jsx(Gt,{label:"Save converted model in the same folder",children:s("modelManager.sameFolder")})}),l.jsx(vn,{value:"root",children:l.jsx(Gt,{label:"Save converted model in the InvokeAI root folder",children:s("modelManager.invokeRoot")})}),l.jsx(vn,{value:"custom",children:l.jsx(Gt,{label:"Save converted model in a custom folder",children:s("modelManager.custom")})})]})})]}),f==="custom"&&l.jsxs(L,{flexDirection:"column",rowGap:2,children:[l.jsx(Ce,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:s("modelManager.customSaveLocation")}),l.jsx(mt,{value:h,onChange:C=>{C.target.value!==""&&y(C.target.value)},width:"full"})]})]})]})}function er(e){const{children:t,...n}=e;return l.jsx(pn,{margin:0,color:"base.400",...n,children:t})}function tr(e){const{children:t,...n}=e;return l.jsx(mn,{color:"error.400",...n,children:t})}const Ss=ne.form,fD=me([Et],e=>{const{openModel:t,model_list:n}=e;return{model_list:n,openModel:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),F0=64,L0=2048;function hD(){const{openModel:e,model_list:t}=A(fD),n=A(f=>f.system.isProcessing),r=Y(),{t:o}=K(),[s,c]=g.useState({name:"",description:"",config:"configs/stable-diffusion/v1-inference.yaml",weights:"",vae:"",width:512,height:512,default:!1,format:"ckpt"});g.useEffect(()=>{var f,p,h,y,x,S,C;if(e){const j=ee.pickBy(t,(w,k)=>ee.isEqual(k,e));c({name:e,description:(f=j[e])==null?void 0:f.description,config:(p=j[e])==null?void 0:p.config,weights:(h=j[e])==null?void 0:h.weights,vae:(y=j[e])==null?void 0:y.vae,width:(x=j[e])==null?void 0:x.width,height:(S=j[e])==null?void 0:S.height,default:(C=j[e])==null?void 0:C.default,format:"ckpt"})}},[t,e]);const u=f=>{r(as({...f,width:Number(f.width),height:Number(f.height)}))};return e?l.jsxs(L,{flexDirection:"column",rowGap:4,width:"100%",children:[l.jsxs(L,{alignItems:"center",gap:4,justifyContent:"space-between",children:[l.jsx(Ce,{fontSize:"lg",fontWeight:"bold",children:e}),l.jsx(dD,{model:e})]}),l.jsx(L,{flexDirection:"column",maxHeight:window.innerHeight-270,overflowY:"scroll",paddingInlineEnd:8,children:l.jsx(bs,{enableReinitialize:!0,initialValues:s,onSubmit:u,children:({handleSubmit:f,errors:p,touched:h})=>l.jsx(Ss,{onSubmit:f,children:l.jsxs(Fe,{rowGap:2,alignItems:"start",children:[l.jsxs(rt,{isInvalid:!!p.description&&h.description,isRequired:!0,children:[l.jsx(st,{htmlFor:"description",fontSize:"sm",children:o("modelManager.description")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"description",name:"description",type:"text",width:"full"}),p.description&&h.description?l.jsx(tr,{children:p.description}):l.jsx(er,{children:o("modelManager.descriptionValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.config&&h.config,isRequired:!0,children:[l.jsx(st,{htmlFor:"config",fontSize:"sm",children:o("modelManager.config")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"config",name:"config",type:"text",width:"full"}),p.config&&h.config?l.jsx(tr,{children:p.config}):l.jsx(er,{children:o("modelManager.configValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.weights&&h.weights,isRequired:!0,children:[l.jsx(st,{htmlFor:"config",fontSize:"sm",children:o("modelManager.modelLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"weights",name:"weights",type:"text",width:"full"}),p.weights&&h.weights?l.jsx(tr,{children:p.weights}):l.jsx(er,{children:o("modelManager.modelLocationValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.vae&&h.vae,children:[l.jsx(st,{htmlFor:"vae",fontSize:"sm",children:o("modelManager.vaeLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae",name:"vae",type:"text",width:"full"}),p.vae&&h.vae?l.jsx(tr,{children:p.vae}):l.jsx(er,{children:o("modelManager.vaeLocationValidationMsg")})]})]}),l.jsxs(ia,{width:"100%",children:[l.jsxs(rt,{isInvalid:!!p.width&&h.width,children:[l.jsx(st,{htmlFor:"width",fontSize:"sm",children:o("modelManager.width")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{id:"width",name:"width",children:({field:y,form:x})=>l.jsx(Vr,{id:"width",name:"width",min:F0,max:L0,step:64,value:x.values.width,onChange:S=>x.setFieldValue(y.name,Number(S))})}),p.width&&h.width?l.jsx(tr,{children:p.width}):l.jsx(er,{children:o("modelManager.widthValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.height&&h.height,children:[l.jsx(st,{htmlFor:"height",fontSize:"sm",children:o("modelManager.height")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{id:"height",name:"height",children:({field:y,form:x})=>l.jsx(Vr,{id:"height",name:"height",min:F0,max:L0,step:64,value:x.values.height,onChange:S=>x.setFieldValue(y.name,Number(S))})}),p.height&&h.height?l.jsx(tr,{children:p.height}):l.jsx(er,{children:o("modelManager.heightValidationMsg")})]})]})]}),l.jsx(Xe,{type:"submit",className:"modal-close-btn",isLoading:n,children:o("modelManager.updateModel")})]})})})})]}):l.jsx(L,{sx:{width:"100%",justifyContent:"center",alignItems:"center",borderRadius:"base",bg:"base.900"},children:l.jsx(Ce,{fontWeight:500,children:"Pick A Model To Edit"})})}const pD=me([Et],e=>{const{openModel:t,model_list:n}=e;return{model_list:n,openModel:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function mD(){const{openModel:e,model_list:t}=A(pD),n=A(f=>f.system.isProcessing),r=Y(),{t:o}=K(),[s,c]=g.useState({name:"",description:"",repo_id:"",path:"",vae:{repo_id:"",path:""},default:!1,format:"diffusers"});g.useEffect(()=>{var f,p,h,y,x,S,C,j,w,k,I,P,M,T,D,_;if(e){const R=ee.pickBy(t,(V,F)=>ee.isEqual(F,e));c({name:e,description:(f=R[e])==null?void 0:f.description,path:(p=R[e])!=null&&p.path&&((h=R[e])==null?void 0:h.path)!=="None"?(y=R[e])==null?void 0:y.path:"",repo_id:(x=R[e])!=null&&x.repo_id&&((S=R[e])==null?void 0:S.repo_id)!=="None"?(C=R[e])==null?void 0:C.repo_id:"",vae:{repo_id:(w=(j=R[e])==null?void 0:j.vae)!=null&&w.repo_id?(I=(k=R[e])==null?void 0:k.vae)==null?void 0:I.repo_id:"",path:(M=(P=R[e])==null?void 0:P.vae)!=null&&M.path?(D=(T=R[e])==null?void 0:T.vae)==null?void 0:D.path:""},default:(_=R[e])==null?void 0:_.default,format:"diffusers"})}},[t,e]);const u=f=>{const p=f;f.path===""&&delete p.path,f.repo_id===""&&delete p.repo_id,f.vae.path===""&&delete p.vae.path,f.vae.repo_id===""&&delete p.vae.repo_id,r(as(f))};return e?l.jsxs(L,{flexDirection:"column",rowGap:4,width:"100%",children:[l.jsx(L,{alignItems:"center",children:l.jsx(Ce,{fontSize:"lg",fontWeight:"bold",children:e})}),l.jsx(L,{flexDirection:"column",overflowY:"scroll",paddingInlineEnd:8,children:l.jsx(bs,{enableReinitialize:!0,initialValues:s,onSubmit:u,children:({handleSubmit:f,errors:p,touched:h})=>{var y,x,S,C,j,w,k,I,P,M;return l.jsx(Ss,{onSubmit:f,children:l.jsxs(Fe,{rowGap:2,alignItems:"start",children:[l.jsxs(rt,{isInvalid:!!p.description&&h.description,isRequired:!0,children:[l.jsx(st,{htmlFor:"description",fontSize:"sm",children:o("modelManager.description")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"description",name:"description",type:"text",width:"full"}),p.description&&h.description?l.jsx(tr,{children:p.description}):l.jsx(er,{children:o("modelManager.descriptionValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.path&&h.path,isRequired:!0,children:[l.jsx(st,{htmlFor:"path",fontSize:"sm",children:o("modelManager.modelLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"path",name:"path",type:"text",width:"full"}),p.path&&h.path?l.jsx(tr,{children:p.path}):l.jsx(er,{children:o("modelManager.modelLocationValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!p.repo_id&&h.repo_id,children:[l.jsx(st,{htmlFor:"repo_id",fontSize:"sm",children:o("modelManager.repo_id")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"repo_id",name:"repo_id",type:"text",width:"full"}),p.repo_id&&h.repo_id?l.jsx(tr,{children:p.repo_id}):l.jsx(er,{children:o("modelManager.repoIDValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!((y=p.vae)!=null&&y.path)&&((x=h.vae)==null?void 0:x.path),children:[l.jsx(st,{htmlFor:"vae.path",fontSize:"sm",children:o("modelManager.vaeLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae.path",name:"vae.path",type:"text",width:"full"}),(S=p.vae)!=null&&S.path&&((C=h.vae)!=null&&C.path)?l.jsx(tr,{children:(j=p.vae)==null?void 0:j.path}):l.jsx(er,{children:o("modelManager.vaeLocationValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!((w=p.vae)!=null&&w.repo_id)&&((k=h.vae)==null?void 0:k.repo_id),children:[l.jsx(st,{htmlFor:"vae.repo_id",fontSize:"sm",children:o("modelManager.vaeRepoID")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae.repo_id",name:"vae.repo_id",type:"text",width:"full"}),(I=p.vae)!=null&&I.repo_id&&((P=h.vae)!=null&&P.repo_id)?l.jsx(tr,{children:(M=p.vae)==null?void 0:M.repo_id}):l.jsx(er,{children:o("modelManager.vaeRepoIDValidationMsg")})]})]}),l.jsx(Xe,{type:"submit",className:"modal-close-btn",isLoading:n,children:o("modelManager.updateModel")})]})})}})})]}):l.jsx(L,{sx:{width:"100%",justifyContent:"center",alignItems:"center",borderRadius:"base",bg:"base.900"},children:l.jsx(Ce,{fontWeight:"500",children:"Pick A Model To Edit"})})}const vD=e=>{const{label:t,...n}=e;return l.jsx(M2,{colorScheme:"accent",...n,children:t})},ft=g.memo(vD),Mb=me([Et],e=>{const{model_list:t}=e,n=[];return ee.forEach(t,r=>{n.push(r.weights)}),n});function B0({model:e,modelsToAdd:t,setModelsToAdd:n}){const{t:r}=K(),o=A(Mb),s=c=>{t.includes(c.target.value)?n(ee.remove(t,u=>u!==c.target.value)):n([...t,c.target.value])};return l.jsxs(L,{flexDirection:"column",gap:2,backgroundColor:t.includes(e.name)?"accent.650":"base.800",paddingX:4,paddingY:2,borderRadius:4,children:[l.jsxs(L,{gap:4,alignItems:"center",justifyContent:"space-between",children:[l.jsx(ft,{value:e.name,label:l.jsx(Ce,{fontWeight:500,children:e.name}),isChecked:t.includes(e.name),isDisabled:o.includes(e.location),onChange:s}),o.includes(e.location)&&l.jsx(wy,{colorScheme:"accent",children:r("modelManager.modelExists")})]}),l.jsx(Ce,{fontStyle:"italic",variant:"subtext",children:e.location})]})}function gD(){const e=Y(),{t}=K(),n=A(P=>P.system.searchFolder),r=A(P=>P.system.foundModels),o=A(Mb),s=A(P=>P.ui.shouldShowExistingModelsInSearch),c=A(P=>P.system.isProcessing),[u,f]=Me.useState([]),[p,h]=Me.useState("v1"),[y,x]=Me.useState(""),S=()=>{e(XS(null)),e(QS(null)),f([])},C=P=>{e(Iv(P.checkpointFolder))},j=()=>{f([]),r&&r.forEach(P=>{o.includes(P.location)||f(M=>[...M,P.name])})},w=()=>{f([])},k=()=>{const P=r==null?void 0:r.filter(T=>u.includes(T.name)),M={v1:"configs/stable-diffusion/v1-inference.yaml",v2_base:"configs/stable-diffusion/v2-inference-v.yaml",v2_768:"configs/stable-diffusion/v2-inference-v.yaml",inpainting:"configs/stable-diffusion/v1-inpainting-inference.yaml",custom:y};P==null||P.forEach(T=>{const D={name:T.name,description:"",config:M[p],weights:T.location,vae:"",width:512,height:512,default:!1,format:"ckpt"};e(as(D))}),f([])},I=()=>{const P=[],M=[];return r&&r.forEach((T,D)=>{o.includes(T.location)?M.push(l.jsx(B0,{model:T,modelsToAdd:u,setModelsToAdd:f},D)):P.push(l.jsx(B0,{model:T,modelsToAdd:u,setModelsToAdd:f},D))}),l.jsxs(L,{flexDirection:"column",rowGap:4,children:[P,s&&M]})};return l.jsxs(l.Fragment,{children:[n?l.jsxs(L,{sx:{padding:4,gap:2,position:"relative",borderRadius:"base",alignItems:"center",w:"full",bg:"base.900"},children:[l.jsxs(L,{sx:{flexDir:"column",gap:2},children:[l.jsx(Ce,{sx:{fontWeight:500},variant:"subtext",children:t("modelManager.checkpointFolder")}),l.jsx(Ce,{sx:{fontWeight:500},children:n})]}),l.jsx(Ec,{}),l.jsx(se,{"aria-label":t("modelManager.scanAgain"),tooltip:t("modelManager.scanAgain"),icon:l.jsx(o0,{}),fontSize:18,disabled:c,onClick:()=>e(Iv(n))}),l.jsx(se,{"aria-label":t("modelManager.clearCheckpointFolder"),tooltip:t("modelManager.clearCheckpointFolder"),icon:l.jsx(So,{}),onClick:S})]}):l.jsx(bs,{initialValues:{checkpointFolder:""},onSubmit:P=>{C(P)},children:({handleSubmit:P})=>l.jsx(Ss,{onSubmit:P,width:"100%",children:l.jsxs(ia,{columnGap:2,alignItems:"flex-end",children:[l.jsx(rt,{flexGrow:1,children:l.jsx(jt,{as:mt,id:"checkpointFolder",name:"checkpointFolder",type:"text",size:"md",label:t("modelManager.checkpointFolder")})}),l.jsx(Xe,{leftIcon:l.jsx(o0,{}),"aria-label":t("modelManager.findModels"),tooltip:t("modelManager.findModels"),type:"submit",disabled:c,px:8,children:t("modelManager.findModels")})]})})}),r&&l.jsxs(L,{flexDirection:"column",rowGap:4,width:"full",children:[l.jsxs(L,{justifyContent:"space-between",alignItems:"center",children:[l.jsxs("p",{children:[t("modelManager.modelsFound"),": ",r.length]}),l.jsxs("p",{children:[t("modelManager.selected"),": ",u.length]})]}),l.jsxs(L,{columnGap:2,justifyContent:"space-between",children:[l.jsxs(L,{columnGap:2,children:[l.jsx(Xe,{isDisabled:u.length===r.length,onClick:j,children:t("modelManager.selectAll")}),l.jsx(Xe,{isDisabled:u.length===0,onClick:w,children:t("modelManager.deselectAll")}),l.jsx(ft,{label:t("modelManager.showExisting"),isChecked:s,onChange:()=>e(KS(!s))})]}),l.jsx(Xe,{isDisabled:u.length===0,onClick:k,colorScheme:"accent",children:t("modelManager.addSelected")})]}),l.jsxs(L,{sx:{flexDirection:"column",padding:4,rowGap:4,borderRadius:"base",width:"full",bg:"base.900"},children:[l.jsxs(L,{gap:4,children:[l.jsx(Ce,{fontWeight:500,variant:"subtext",children:t("modelManager.pickModelType")}),l.jsx(Ja,{value:p,onChange:P=>h(P),defaultValue:"v1",name:"model_type",children:l.jsxs(L,{gap:4,children:[l.jsx(vn,{value:"v1",children:l.jsx(Ce,{fontSize:"sm",children:t("modelManager.v1")})}),l.jsx(vn,{value:"v2_base",children:l.jsx(Ce,{fontSize:"sm",children:t("modelManager.v2_base")})}),l.jsx(vn,{value:"v2_768",children:l.jsx(Ce,{fontSize:"sm",children:t("modelManager.v2_768")})}),l.jsx(vn,{value:"inpainting",children:l.jsx(Ce,{fontSize:"sm",children:t("modelManager.inpainting")})}),l.jsx(vn,{value:"custom",children:l.jsx(Ce,{fontSize:"sm",children:t("modelManager.customConfig")})})]})})]}),p==="custom"&&l.jsxs(L,{flexDirection:"column",rowGap:2,children:[l.jsx(Ce,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:t("modelManager.pathToCustomConfig")}),l.jsx(mt,{value:y,onChange:P=>{P.target.value!==""&&x(P.target.value)},width:"full"})]})]}),l.jsx(L,{flexDirection:"column",maxHeight:72,overflowY:"scroll",borderRadius:"sm",gap:2,children:r.length>0?I():l.jsx(Ce,{fontWeight:"500",padding:2,borderRadius:"sm",textAlign:"center",variant:"subtext",children:t("modelManager.noModelsFound")})})]})]})}function Jn({children:e}){return l.jsx(L,{sx:{flexDirection:"column",padding:4,rowGap:4,borderRadius:"base",width:"full",bg:"base.900"},children:e})}const H0=64,W0=2048;function yD(){const e=Y(),{t}=K(),n=A(p=>p.system.isProcessing);function r(p){return/\s/.test(p)}function o(p){let h;return r(p)&&(h=t("modelManager.cannotUseSpaces")),h}const s={name:"",description:"",config:"configs/stable-diffusion/v1-inference.yaml",weights:"",vae:"",width:512,height:512,format:"ckpt",default:!1},c=p=>{e(as(p)),e(Ai(null))},[u,f]=Me.useState(!1);return l.jsxs(Fe,{gap:2,alignItems:"flex-start",children:[l.jsxs(L,{columnGap:4,children:[l.jsx(ft,{isChecked:!u,label:t("modelManager.scanForModels"),onChange:()=>f(!u)}),l.jsx(ft,{label:t("modelManager.addManually"),isChecked:u,onChange:()=>f(!u)})]}),u?l.jsx(bs,{initialValues:s,onSubmit:c,children:({handleSubmit:p,errors:h,touched:y})=>l.jsx(Ss,{onSubmit:p,sx:{w:"full"},children:l.jsxs(Fe,{rowGap:2,children:[l.jsx(Ce,{fontSize:20,fontWeight:"bold",alignSelf:"start",children:t("modelManager.manual")}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.name&&y.name,isRequired:!0,children:[l.jsx(st,{htmlFor:"name",fontSize:"sm",children:t("modelManager.name")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"name",name:"name",type:"text",validate:o,width:"full"}),h.name&&y.name?l.jsx(mn,{children:h.name}):l.jsx(pn,{margin:0,children:t("modelManager.nameValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.description&&y.description,isRequired:!0,children:[l.jsx(st,{htmlFor:"description",fontSize:"sm",children:t("modelManager.description")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"description",name:"description",type:"text",width:"full"}),h.description&&y.description?l.jsx(mn,{children:h.description}):l.jsx(pn,{margin:0,children:t("modelManager.descriptionValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.config&&y.config,isRequired:!0,children:[l.jsx(st,{htmlFor:"config",fontSize:"sm",children:t("modelManager.config")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"config",name:"config",type:"text",width:"full"}),h.config&&y.config?l.jsx(mn,{children:h.config}):l.jsx(pn,{margin:0,children:t("modelManager.configValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.weights&&y.weights,isRequired:!0,children:[l.jsx(st,{htmlFor:"config",fontSize:"sm",children:t("modelManager.modelLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"weights",name:"weights",type:"text",width:"full"}),h.weights&&y.weights?l.jsx(mn,{children:h.weights}):l.jsx(pn,{margin:0,children:t("modelManager.modelLocationValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.vae&&y.vae,children:[l.jsx(st,{htmlFor:"vae",fontSize:"sm",children:t("modelManager.vaeLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae",name:"vae",type:"text",width:"full"}),h.vae&&y.vae?l.jsx(mn,{children:h.vae}):l.jsx(pn,{margin:0,children:t("modelManager.vaeLocationValidationMsg")})]})]})}),l.jsxs(ia,{width:"100%",children:[l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.width&&y.width,children:[l.jsx(st,{htmlFor:"width",fontSize:"sm",children:t("modelManager.width")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{id:"width",name:"width",children:({field:x,form:S})=>l.jsx(Vr,{id:"width",name:"width",min:H0,max:W0,step:64,value:S.values.width,onChange:C=>S.setFieldValue(x.name,Number(C))})}),h.width&&y.width?l.jsx(mn,{children:h.width}):l.jsx(pn,{margin:0,children:t("modelManager.widthValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!h.height&&y.height,children:[l.jsx(st,{htmlFor:"height",fontSize:"sm",children:t("modelManager.height")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{id:"height",name:"height",children:({field:x,form:S})=>l.jsx(Vr,{id:"height",name:"height",min:H0,max:W0,step:64,value:S.values.height,onChange:C=>S.setFieldValue(x.name,Number(C))})}),h.height&&y.height?l.jsx(mn,{children:h.height}):l.jsx(pn,{margin:0,children:t("modelManager.heightValidationMsg")})]})]})})]}),l.jsx(Xe,{type:"submit",className:"modal-close-btn",isLoading:n,children:t("modelManager.addModel")})]})})}):l.jsx(gD,{})]})}function xD(){const e=Y(),{t}=K(),n=A(u=>u.system.isProcessing);function r(u){return/\s/.test(u)}function o(u){let f;return r(u)&&(f=t("modelManager.cannotUseSpaces")),f}const s={name:"",description:"",repo_id:"",path:"",format:"diffusers",default:!1,vae:{repo_id:"",path:""}},c=u=>{const f=u;u.path===""&&delete f.path,u.repo_id===""&&delete f.repo_id,u.vae.path===""&&delete f.vae.path,u.vae.repo_id===""&&delete f.vae.repo_id,e(as(f)),e(Ai(null))};return l.jsx(L,{children:l.jsx(bs,{initialValues:s,onSubmit:c,children:({handleSubmit:u,errors:f,touched:p})=>{var h,y,x,S,C,j,w,k,I,P;return l.jsx(Ss,{onSubmit:u,children:l.jsxs(Fe,{rowGap:2,children:[l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!f.name&&p.name,isRequired:!0,children:[l.jsx(st,{htmlFor:"name",fontSize:"sm",children:t("modelManager.name")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"name",name:"name",type:"text",validate:o,width:"2xl",isRequired:!0}),f.name&&p.name?l.jsx(mn,{children:f.name}):l.jsx(pn,{margin:0,children:t("modelManager.nameValidationMsg")})]})]})}),l.jsx(Jn,{children:l.jsxs(rt,{isInvalid:!!f.description&&p.description,isRequired:!0,children:[l.jsx(st,{htmlFor:"description",fontSize:"sm",children:t("modelManager.description")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"description",name:"description",type:"text",width:"2xl",isRequired:!0}),f.description&&p.description?l.jsx(mn,{children:f.description}):l.jsx(pn,{margin:0,children:t("modelManager.descriptionValidationMsg")})]})]})}),l.jsxs(Jn,{children:[l.jsx(Ce,{fontWeight:"bold",fontSize:"sm",children:t("modelManager.formMessageDiffusersModelLocation")}),l.jsx(Ce,{sx:{fontSize:"sm",fontStyle:"italic"},variant:"subtext",children:t("modelManager.formMessageDiffusersModelLocationDesc")}),l.jsxs(rt,{isInvalid:!!f.path&&p.path,children:[l.jsx(st,{htmlFor:"path",fontSize:"sm",children:t("modelManager.modelLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"path",name:"path",type:"text",width:"2xl"}),f.path&&p.path?l.jsx(mn,{children:f.path}):l.jsx(pn,{margin:0,children:t("modelManager.modelLocationValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!f.repo_id&&p.repo_id,children:[l.jsx(st,{htmlFor:"repo_id",fontSize:"sm",children:t("modelManager.repo_id")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"repo_id",name:"repo_id",type:"text",width:"2xl"}),f.repo_id&&p.repo_id?l.jsx(mn,{children:f.repo_id}):l.jsx(pn,{margin:0,children:t("modelManager.repoIDValidationMsg")})]})]})]}),l.jsxs(Jn,{children:[l.jsx(Ce,{fontWeight:"bold",children:t("modelManager.formMessageDiffusersVAELocation")}),l.jsx(Ce,{sx:{fontSize:"sm",fontStyle:"italic"},variant:"subtext",children:t("modelManager.formMessageDiffusersVAELocationDesc")}),l.jsxs(rt,{isInvalid:!!((h=f.vae)!=null&&h.path)&&((y=p.vae)==null?void 0:y.path),children:[l.jsx(st,{htmlFor:"vae.path",fontSize:"sm",children:t("modelManager.vaeLocation")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae.path",name:"vae.path",type:"text",width:"2xl"}),(x=f.vae)!=null&&x.path&&((S=p.vae)!=null&&S.path)?l.jsx(mn,{children:(C=f.vae)==null?void 0:C.path}):l.jsx(pn,{margin:0,children:t("modelManager.vaeLocationValidationMsg")})]})]}),l.jsxs(rt,{isInvalid:!!((j=f.vae)!=null&&j.repo_id)&&((w=p.vae)==null?void 0:w.repo_id),children:[l.jsx(st,{htmlFor:"vae.repo_id",fontSize:"sm",children:t("modelManager.vaeRepoID")}),l.jsxs(Fe,{alignItems:"start",children:[l.jsx(jt,{as:mt,id:"vae.repo_id",name:"vae.repo_id",type:"text",width:"2xl"}),(k=f.vae)!=null&&k.repo_id&&((I=p.vae)!=null&&I.repo_id)?l.jsx(mn,{children:(P=f.vae)==null?void 0:P.repo_id}):l.jsx(pn,{margin:0,children:t("modelManager.vaeRepoIDValidationMsg")})]})]})]}),l.jsx(Xe,{type:"submit",isLoading:n,children:t("modelManager.addModel")})]})})}})})}function V0({text:e,onClick:t}){return l.jsx(L,{position:"relative",width:"50%",height:40,justifyContent:"center",alignItems:"center",onClick:t,as:ri,children:l.jsx(Ce,{fontWeight:"bold",children:e})})}function bD(){const{isOpen:e,onOpen:t,onClose:n}=po(),r=A(u=>u.ui.addNewModelUIOption),o=Y(),{t:s}=K(),c=()=>{n(),o(Ai(null))};return l.jsxs(l.Fragment,{children:[l.jsx(Xe,{"aria-label":s("modelManager.addNewModel"),tooltip:s("modelManager.addNewModel"),onClick:t,size:"sm",children:l.jsxs(L,{columnGap:2,alignItems:"center",children:[l.jsx(Rc,{}),s("modelManager.addNew")]})}),l.jsxs(mo,{isOpen:e,onClose:c,size:"3xl",closeOnOverlayClick:!1,children:[l.jsx(Hr,{}),l.jsxs(vo,{margin:"auto",children:[l.jsxs(Br,{children:[s("modelManager.addNewModel")," "]}),r!==null&&l.jsx(se,{"aria-label":s("common.back"),tooltip:s("common.back"),onClick:()=>o(Ai(null)),position:"absolute",variant:"ghost",zIndex:1,size:"sm",insetInlineEnd:12,top:2,icon:l.jsx(Wx,{})}),l.jsx(sa,{}),l.jsxs(Wr,{children:[r==null&&l.jsxs(L,{columnGap:4,children:[l.jsx(V0,{text:s("modelManager.addCheckpointModel"),onClick:()=>o(Ai("ckpt"))}),l.jsx(V0,{text:s("modelManager.addDiffuserModel"),onClick:()=>o(Ai("diffusers"))})]}),r=="ckpt"&&l.jsx(yD,{}),r=="diffusers"&&l.jsx(xD,{})]}),l.jsx(Lr,{})]})]})]})}var SD=th({displayName:"EditIcon",path:l.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[l.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),Tb=th({displayName:"ExternalLinkIcon",path:l.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),l.jsx("path",{d:"M15 3h6v6"}),l.jsx("path",{d:"M10 14L21 3"})]})}),CD=th({displayName:"DeleteIcon",path:l.jsx("g",{fill:"currentColor",children:l.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})});function zl(e){const{isProcessing:t,isConnected:n}=A(S=>S.system),r=A(S=>S.system.openModel),{t:o}=K(),s=Y(),{name:c,status:u,description:f}=e,p=()=>{s(I1(c))},h=()=>{s(Mv(c))},y=()=>{s(ZS(c)),s(Mv(null))},x=()=>{switch(u){case"active":return"ok.500";case"cached":return"warning.500";case"not loaded":return"inherit"}};return l.jsxs(L,{alignItems:"center",p:2,borderRadius:"base",sx:c===r?{bg:"accent.750",_hover:{bg:"accent.750"}}:{_hover:{bg:"base.750"}},children:[l.jsx(Ye,{onClick:h,cursor:"pointer",children:l.jsx(Gt,{label:f,hasArrow:!0,placement:"bottom",children:l.jsx(Ce,{fontWeight:"600",children:c})})}),l.jsx(Ec,{onClick:h,cursor:"pointer"}),l.jsxs(L,{gap:2,alignItems:"center",children:[l.jsx(Ce,{color:x(),children:u}),l.jsx(ri,{size:"sm",onClick:p,isDisabled:u==="active"||t||!n,children:o("modelManager.load")}),l.jsx(se,{icon:l.jsx(SD,{}),size:"sm",onClick:h,"aria-label":o("accessibility.modifyConfig"),isDisabled:u==="active"||t||!n}),l.jsx(Vc,{title:o("modelManager.deleteModel"),acceptCallback:y,acceptButtonText:o("modelManager.delete"),triggerComponent:l.jsx(se,{icon:l.jsx(CD,{}),size:"sm","aria-label":o("modelManager.deleteConfig"),isDisabled:u==="active"||t||!n,colorScheme:"error"}),children:l.jsxs(L,{rowGap:4,flexDirection:"column",children:[l.jsx("p",{style:{fontWeight:"bold"},children:o("modelManager.deleteMsg1")}),l.jsx("p",{children:o("modelManager.deleteMsg2")})]})})]})]})}function U0(e){const{children:t,value:n}=e,[r,o]=M1("colors",["base.800","base.200"]);return l.jsx("option",{value:n,style:{background:r,color:o},children:t})}const wD=e=>{const{label:t,isDisabled:n,validValues:r,tooltip:o,tooltipProps:s,...c}=e;return l.jsxs(rt,{isDisabled:n,onClick:u=>{u.stopPropagation(),u.nativeEvent.stopImmediatePropagation(),u.nativeEvent.stopPropagation(),u.nativeEvent.cancelBubble=!0},children:[t&&l.jsx(st,{children:t}),l.jsx(Gt,{label:o,...s,children:l.jsx(ix,{...c,children:r.map(u=>typeof u=="string"||typeof u=="number"?l.jsx(U0,{value:u,children:u},u):l.jsx(U0,{value:u.value,children:u.key},u.value))})})]})},Mn=g.memo(wD);function jD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.002 3h-14c-1.103 0-2 .897-2 2v4h2V5h14v14h-14v-4h-2v4c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.898-2-2-2z"}},{tag:"path",attr:{d:"m11 16 5-4-5-4v3.001H3v2h8z"}}]})(e)}function _b(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c1.671 0 3-1.331 3-3s-1.329-3-3-3-3 1.331-3 3 1.329 3 3 3z"}},{tag:"path",attr:{d:"M20.817 11.186a8.94 8.94 0 0 0-1.355-3.219 9.053 9.053 0 0 0-2.43-2.43 8.95 8.95 0 0 0-3.219-1.355 9.028 9.028 0 0 0-1.838-.18V2L8 5l3.975 3V6.002c.484-.002.968.044 1.435.14a6.961 6.961 0 0 1 2.502 1.053 7.005 7.005 0 0 1 1.892 1.892A6.967 6.967 0 0 1 19 13a7.032 7.032 0 0 1-.55 2.725 7.11 7.11 0 0 1-.644 1.188 7.2 7.2 0 0 1-.858 1.039 7.028 7.028 0 0 1-3.536 1.907 7.13 7.13 0 0 1-2.822 0 6.961 6.961 0 0 1-2.503-1.054 7.002 7.002 0 0 1-1.89-1.89A6.996 6.996 0 0 1 5 13H3a9.02 9.02 0 0 0 1.539 5.034 9.096 9.096 0 0 0 2.428 2.428A8.95 8.95 0 0 0 12 22a9.09 9.09 0 0 0 1.814-.183 9.014 9.014 0 0 0 3.218-1.355 8.886 8.886 0 0 0 1.331-1.099 9.228 9.228 0 0 0 1.1-1.332A8.952 8.952 0 0 0 21 13a9.09 9.09 0 0 0-.183-1.814z"}}]})(e)}function kD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.758 8.758 5.344 7.344a8.048 8.048 0 0 0-1.841 2.859l1.873.701a6.048 6.048 0 0 1 1.382-2.146zM19 12.999a7.935 7.935 0 0 0-2.344-5.655A7.917 7.917 0 0 0 12 5.069V2L7 6l5 4V7.089a5.944 5.944 0 0 1 3.242 1.669A5.956 5.956 0 0 1 17 13v.002c0 .33-.033.655-.086.977-.007.043-.011.088-.019.131a6.053 6.053 0 0 1-1.138 2.536c-.16.209-.331.412-.516.597a5.954 5.954 0 0 1-.728.613 5.906 5.906 0 0 1-2.277 1.015c-.142.03-.285.05-.43.069-.062.009-.122.021-.184.027a6.104 6.104 0 0 1-1.898-.103L9.3 20.819a8.087 8.087 0 0 0 2.534.136c.069-.007.138-.021.207-.03.205-.026.409-.056.61-.098l.053-.009-.001-.005a7.877 7.877 0 0 0 2.136-.795l.001.001.028-.019a7.906 7.906 0 0 0 1.01-.67c.27-.209.532-.43.777-.675.248-.247.47-.513.681-.785.021-.028.049-.053.07-.081l-.006-.004a7.899 7.899 0 0 0 1.093-1.997l.008.003c.029-.078.05-.158.076-.237.037-.11.075-.221.107-.333.04-.14.073-.281.105-.423.022-.099.048-.195.066-.295.032-.171.056-.344.076-.516.01-.076.023-.15.03-.227.023-.249.037-.5.037-.753.002-.002.002-.004.002-.008zM6.197 16.597l-1.6 1.201a8.045 8.045 0 0 0 2.569 2.225l.961-1.754a6.018 6.018 0 0 1-1.93-1.672zM5 13c0-.145.005-.287.015-.429l-1.994-.143a7.977 7.977 0 0 0 .483 3.372l1.873-.701A5.975 5.975 0 0 1 5 13z"}}]})(e)}function ED(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.242 17.242a6.04 6.04 0 0 1-1.37 1.027l.961 1.754a8.068 8.068 0 0 0 2.569-2.225l-1.6-1.201a5.938 5.938 0 0 1-.56.645zm1.743-4.671a5.975 5.975 0 0 1-.362 2.528l1.873.701a7.977 7.977 0 0 0 .483-3.371l-1.994.142zm1.512-2.368a8.048 8.048 0 0 0-1.841-2.859l-1.414 1.414a6.071 6.071 0 0 1 1.382 2.146l1.873-.701zm-8.128 8.763c-.047-.005-.094-.015-.141-.021a6.701 6.701 0 0 1-.468-.075 5.923 5.923 0 0 1-2.421-1.122 5.954 5.954 0 0 1-.583-.506 6.138 6.138 0 0 1-.516-.597 5.91 5.91 0 0 1-.891-1.634 6.086 6.086 0 0 1-.247-.902c-.008-.043-.012-.088-.019-.131A6.332 6.332 0 0 1 6 13.002V13c0-1.603.624-3.109 1.758-4.242A5.944 5.944 0 0 1 11 7.089V10l5-4-5-4v3.069a7.917 7.917 0 0 0-4.656 2.275A7.936 7.936 0 0 0 4 12.999v.009c0 .253.014.504.037.753.007.076.021.15.03.227.021.172.044.345.076.516.019.1.044.196.066.295.032.142.065.283.105.423.032.112.07.223.107.333.026.079.047.159.076.237l.008-.003A7.948 7.948 0 0 0 5.6 17.785l-.007.005c.021.028.049.053.07.081.211.272.433.538.681.785a8.236 8.236 0 0 0 .966.816c.265.192.537.372.821.529l.028.019.001-.001a7.877 7.877 0 0 0 2.136.795l-.001.005.053.009c.201.042.405.071.61.098.069.009.138.023.207.03a8.038 8.038 0 0 0 2.532-.137l-.424-1.955a6.11 6.11 0 0 1-1.904.102z"}}]})(e)}function PD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 6H9v3H6v2h3v3h2v-3h3V9h-3z"}},{tag:"path",attr:{d:"M10 2c-4.411 0-8 3.589-8 8s3.589 8 8 8a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"}}]})(e)}function ID(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 9h8v2H6z"}},{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(e)}const MD=e=>{const[t,n]=g.useState(!1),{label:r,value:o,min:s=1,max:c=100,step:u=1,onChange:f,tooltipSuffix:p="",withSliderMarks:h=!1,withInput:y=!1,isInteger:x=!1,inputWidth:S=16,inputReadOnly:C=!1,withReset:j=!1,hideTooltip:w=!1,isCompact:k=!1,handleReset:I,isResetDisabled:P,isSliderDisabled:M,isInputDisabled:T,sliderFormControlProps:D,sliderFormLabelProps:_,sliderMarkProps:R,sliderTrackProps:V,sliderThumbProps:F,sliderNumberInputProps:B,sliderNumberInputFieldProps:Q,sliderNumberInputStepperProps:U,sliderTooltipProps:X,sliderIAIIconButtonProps:te,...re}=e,{t:$}=K(),[Z,oe]=g.useState(String(o));g.useEffect(()=>{oe(o)},[o]);const le=g.useMemo(()=>B!=null&&B.max?B.max:c,[c,B==null?void 0:B.max]),ze=ce=>{f(ce)},Re=ce=>{ce.target.value===""&&(ce.target.value=String(s));const Ne=ee.clamp(x?Math.floor(Number(ce.target.value)):Number(Z),s,le);f(Ne)},Ie=ce=>{oe(ce)},pe=()=>{I&&I()};return l.jsxs(rt,{sx:k?{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4,margin:0,padding:0}:{},...D,children:[l.jsx(st,{..._,mb:-1,children:r}),l.jsxs(ia,{w:"100%",gap:2,alignItems:"center",children:[l.jsxs(ux,{"aria-label":r,value:o,min:s,max:c,step:u,onChange:ze,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),focusThumbOnChange:!1,isDisabled:M,...re,children:[h&&l.jsxs(l.Fragment,{children:[l.jsx(_f,{value:s,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important"},...R,children:s}),l.jsx(_f,{value:c,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important"},...R,children:c})]}),l.jsx(fx,{...V,children:l.jsx(hx,{})}),l.jsx(Gt,{hasArrow:!0,placement:"top",isOpen:t,label:`${o}${p}`,hidden:w,...X,children:l.jsx(dx,{...F})})]}),y&&l.jsxs(Fh,{min:s,max:le,step:u,value:Z,onChange:Ie,onBlur:Re,isDisabled:T,...B,children:[l.jsx(Bh,{readOnly:C,minWidth:S,...Q}),l.jsxs(Lh,{...U,children:[l.jsx(Wh,{onClick:()=>f(Number(Z))}),l.jsx(Hh,{onClick:()=>f(Number(Z))})]})]}),j&&l.jsx(se,{size:"sm","aria-label":$("accessibility.reset"),tooltip:"Reset",icon:l.jsx(_b,{}),onClick:pe,isDisabled:P,...te})]})]})},ut=g.memo(MD);function TD(){const e=Y(),{isOpen:t,onOpen:n,onClose:r}=po(),o=A(nP),{t:s}=K(),[c,u]=g.useState(Object.keys(o)[0]),[f,p]=g.useState(Object.keys(o)[1]),[h,y]=g.useState("none"),[x,S]=g.useState(""),[C,j]=g.useState(.5),[w,k]=g.useState("weighted_sum"),[I,P]=g.useState("root"),[M,T]=g.useState(""),[D,_]=g.useState(!1),R=Object.keys(o).filter(U=>U!==f&&U!==h),V=Object.keys(o).filter(U=>U!==c&&U!==h),F=[{key:s("modelManager.none"),value:"none"},...Object.keys(o).filter(U=>U!==c&&U!==f).map(U=>({key:U,value:U}))],B=A(U=>U.system.isProcessing),Q=()=>{let U=[c,f,h];U=U.filter(te=>te!=="none");const X={models_to_merge:U,merged_model_name:x!==""?x:U.join("-"),alpha:C,interp:w,model_merge_save_path:I==="root"?null:M,force:D};e(JS(X))};return l.jsxs(l.Fragment,{children:[l.jsx(Xe,{onClick:n,size:"sm",children:l.jsx(L,{columnGap:2,alignItems:"center",children:s("modelManager.mergeModels")})}),l.jsxs(mo,{isOpen:t,onClose:r,size:"4xl",closeOnOverlayClick:!1,children:[l.jsx(Hr,{}),l.jsxs(vo,{fontFamily:"Inter",margin:"auto",paddingInlineEnd:4,children:[l.jsx(Br,{children:s("modelManager.mergeModels")}),l.jsx(sa,{}),l.jsx(Wr,{children:l.jsxs(L,{flexDirection:"column",rowGap:4,children:[l.jsxs(L,{sx:{flexDirection:"column",marginBottom:4,padding:4,borderRadius:"base",rowGap:1,bg:"base.900"},children:[l.jsx(Ce,{children:s("modelManager.modelMergeHeaderHelp1")}),l.jsx(Ce,{fontSize:"sm",variant:"subtext",children:s("modelManager.modelMergeHeaderHelp2")})]}),l.jsxs(L,{columnGap:4,children:[l.jsx(Mn,{label:s("modelManager.modelOne"),validValues:R,onChange:U=>u(U.target.value)}),l.jsx(Mn,{label:s("modelManager.modelTwo"),validValues:V,onChange:U=>p(U.target.value)}),l.jsx(Mn,{label:s("modelManager.modelThree"),validValues:F,onChange:U=>{U.target.value!=="none"?(y(U.target.value),k("add_difference")):(y("none"),k("weighted_sum"))}})]}),l.jsx(mt,{label:s("modelManager.mergedModelName"),value:x,onChange:U=>S(U.target.value)}),l.jsxs(L,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[l.jsx(ut,{label:s("modelManager.alpha"),min:.01,max:.99,step:.01,value:C,onChange:U=>j(U),withInput:!0,withReset:!0,handleReset:()=>j(.5),withSliderMarks:!0}),l.jsx(Ce,{variant:"subtext",fontSize:"sm",children:s("modelManager.modelMergeAlphaHelp")})]}),l.jsxs(L,{sx:{padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[l.jsx(Ce,{fontWeight:500,fontSize:"sm",variant:"subtext",children:s("modelManager.interpolationType")}),l.jsx(Ja,{value:w,onChange:U=>k(U),children:l.jsx(L,{columnGap:4,children:h==="none"?l.jsxs(l.Fragment,{children:[l.jsx(vn,{value:"weighted_sum",children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.weightedSum")})}),l.jsx(vn,{value:"sigmoid",children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.sigmoid")})}),l.jsx(vn,{value:"inv_sigmoid",children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.inverseSigmoid")})})]}):l.jsx(vn,{value:"add_difference",children:l.jsx(Gt,{label:s("modelManager.modelMergeInterpAddDifferenceHelp"),children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.addDifference")})})})})})]}),l.jsxs(L,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.900"},children:[l.jsxs(L,{columnGap:4,children:[l.jsx(Ce,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:s("modelManager.mergedModelSaveLocation")}),l.jsx(Ja,{value:I,onChange:U=>P(U),children:l.jsxs(L,{columnGap:4,children:[l.jsx(vn,{value:"root",children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.invokeAIFolder")})}),l.jsx(vn,{value:"custom",children:l.jsx(Ce,{fontSize:"sm",children:s("modelManager.custom")})})]})})]}),I==="custom"&&l.jsx(mt,{label:s("modelManager.mergedModelCustomSaveLocation"),value:M,onChange:U=>T(U.target.value)})]}),l.jsx(ft,{label:s("modelManager.ignoreMismatch"),isChecked:D,onChange:U=>_(U.target.checked),fontWeight:"500"}),l.jsx(Xe,{onClick:Q,isLoading:B,isDisabled:I==="custom"&&M==="",children:s("modelManager.merge")})]})}),l.jsx(Lr,{})]})]})]})}const _D=me(Et,e=>ee.map(e.model_list,(n,r)=>({name:r,...n})),{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function Ud({label:e,isActive:t,onClick:n}){return l.jsx(Xe,{onClick:n,isActive:t,sx:{_active:{bg:"accent.750"}},size:"sm",children:e})}const DD=()=>{const e=A(_D),[t,n]=Me.useState(!1);Me.useEffect(()=>{const x=setTimeout(()=>{n(!0)},200);return()=>clearTimeout(x)},[]);const[r,o]=g.useState(""),[s,c]=g.useState("all"),[u,f]=g.useTransition(),{t:p}=K(),h=x=>{f(()=>{o(x.target.value)})},y=g.useMemo(()=>{const x=[],S=[],C=[],j=[];return e.forEach((w,k)=>{w.name.toLowerCase().includes(r.toLowerCase())&&(C.push(l.jsx(zl,{name:w.name,status:w.status,description:w.description},k)),w.format===s&&j.push(l.jsx(zl,{name:w.name,status:w.status,description:w.description},k))),w.format!=="diffusers"?x.push(l.jsx(zl,{name:w.name,status:w.status,description:w.description},k)):S.push(l.jsx(zl,{name:w.name,status:w.status,description:w.description},k))}),r!==""?s==="all"?l.jsx(Ye,{marginTop:4,children:C}):l.jsx(Ye,{marginTop:4,children:j}):l.jsxs(L,{flexDirection:"column",rowGap:6,children:[s==="all"&&l.jsxs(l.Fragment,{children:[l.jsxs(Ye,{children:[l.jsx(Ce,{sx:{fontWeight:"500",py:2,px:4,my:4,mx:0,borderRadius:"base",width:"max-content",fontSize:"sm",bg:"base.750"},children:p("modelManager.checkpointModels")}),x]}),l.jsxs(Ye,{children:[l.jsx(Ce,{sx:{fontWeight:"500",py:2,px:4,mb:4,borderRadius:"base",width:"max-content",fontSize:"sm",bg:"base.750"},children:p("modelManager.diffusersModels")}),S]})]}),s==="ckpt"&&l.jsx(L,{flexDirection:"column",marginTop:4,children:x}),s==="diffusers"&&l.jsx(L,{flexDirection:"column",marginTop:4,children:S})]})},[e,r,p,s]);return l.jsxs(L,{flexDirection:"column",rowGap:4,width:"50%",minWidth:"50%",children:[l.jsxs(L,{justifyContent:"space-between",alignItems:"center",gap:2,children:[l.jsx(rr,{size:"md",children:p("modelManager.availableModels")}),l.jsx(Ec,{}),l.jsx(bD,{}),l.jsx(TD,{})]}),l.jsx(mt,{onChange:h,label:p("modelManager.search")}),l.jsxs(L,{flexDirection:"column",gap:1,maxHeight:window.innerHeight-240,overflow:"scroll",paddingInlineEnd:4,children:[l.jsxs(L,{columnGap:2,children:[l.jsx(Ud,{label:p("modelManager.allModels"),onClick:()=>c("all"),isActive:s==="all"}),l.jsx(Ud,{label:p("modelManager.checkpointModels"),onClick:()=>c("ckpt"),isActive:s==="ckpt"}),l.jsx(Ud,{label:p("modelManager.diffusersModels"),onClick:()=>c("diffusers"),isActive:s==="diffusers"})]}),t?y:l.jsx(L,{width:"100%",minHeight:96,justifyContent:"center",alignItems:"center",children:l.jsx(xc,{})})]})]})};function AD({children:e}){const{isOpen:t,onOpen:n,onClose:r}=po(),o=A(u=>u.system.model_list),s=A(u=>u.system.openModel),{t:c}=K();return l.jsxs(l.Fragment,{children:[g.cloneElement(e,{onClick:n}),l.jsxs(mo,{isOpen:t,onClose:r,size:"full",children:[l.jsx(Hr,{}),l.jsxs(vo,{children:[l.jsx(sa,{}),l.jsx(Br,{children:c("modelManager.modelManager")}),l.jsx(Wr,{children:l.jsxs(L,{width:"100%",columnGap:8,children:[l.jsx(DD,{}),s&&o[s].format==="diffusers"?l.jsx(mD,{}):l.jsx(hD,{})]})}),l.jsx(Lr,{})]})]})]})}const OD=me([Et],e=>{const{isProcessing:t,model_list:n}=e;return{models:ee.map(n,(o,s)=>s),isProcessing:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),zD=()=>{const e=Y(),{t}=K(),{models:n,isProcessing:r}=A(OD),o=A(Qx),s=c=>{e(I1(c.target.value))};return l.jsx(L,{style:{paddingInlineStart:1.5},children:l.jsx(Mn,{style:{fontSize:"sm"},"aria-label":t("accessibility.modelSelect"),tooltip:o.description,isDisabled:r,value:o.name,validValues:n,onChange:s})})},RD=e=>{const{label:t,isDisabled:n=!1,width:r="auto",formControlProps:o,formLabelProps:s,...c}=e;return l.jsxs(rt,{isDisabled:n,width:r,display:"flex",gap:4,alignItems:"center",justifyContent:"space-between",...o,children:[l.jsx(st,{my:1,...s,children:t}),l.jsx(px,{...c})]})},En=g.memo(RD),ND=me([Et,Pr],(e,t)=>{const{shouldDisplayInProgressType:n,shouldConfirmOnDelete:r,shouldDisplayGuides:o,model_list:s,saveIntermediatesInterval:c,enableImageDebugging:u}=e,{shouldUseCanvasBetaLayout:f,shouldUseSliders:p}=t;return{shouldDisplayInProgressType:n,shouldConfirmOnDelete:r,shouldDisplayGuides:o,models:ee.map(s,(h,y)=>y),saveIntermediatesInterval:c,enableImageDebugging:u,shouldUseCanvasBetaLayout:f,shouldUseSliders:p}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),$d={flexDirection:"column",gap:2,p:4,bg:"base.900"},FD=({children:e})=>{const t=Y(),{t:n}=K(),r=A(P=>P.generation.steps),{isOpen:o,onOpen:s,onClose:c}=po(),{isOpen:u,onOpen:f,onClose:p}=po(),{shouldDisplayInProgressType:h,shouldConfirmOnDelete:y,shouldDisplayGuides:x,saveIntermediatesInterval:S,enableImageDebugging:C,shouldUseCanvasBetaLayout:j,shouldUseSliders:w}=A(ND),k=()=>{a3.purge().then(()=>{c(),f()})},I=P=>{P>r&&(P=r),P<1&&(P=1),t(s3(P))};return l.jsxs(l.Fragment,{children:[g.cloneElement(e,{onClick:s}),l.jsxs(mo,{isOpen:o,onClose:c,size:"xl",children:[l.jsx(Hr,{}),l.jsxs(vo,{paddingInlineEnd:4,children:[l.jsx(Br,{children:n("common.settingsLabel")}),l.jsx(sa,{}),l.jsx(Wr,{children:l.jsxs(ir,{gap:4,children:[l.jsxs(L,{sx:$d,children:[l.jsx(Mn,{label:n("settings.displayInProgress"),validValues:e3,value:h,onChange:P=>t(t3(P.target.value))}),h==="full-res"&&l.jsx(Vr,{label:n("settings.saveSteps"),min:1,max:r,step:1,onChange:I,value:S,width:"auto",textAlign:"center"}),l.jsx(En,{label:n("settings.confirmOnDelete"),isChecked:y,onChange:P=>t(T1(P.target.checked))}),l.jsx(En,{label:n("settings.displayHelpIcons"),isChecked:x,onChange:P=>t(n3(P.target.checked))}),l.jsx(En,{label:n("settings.useCanvasBeta"),isChecked:j,onChange:P=>t(r3(P.target.checked))}),l.jsx(En,{label:n("settings.useSlidersForAll"),isChecked:w,onChange:P=>t(o3(P.target.checked))})]}),l.jsxs(L,{sx:$d,children:[l.jsx(rr,{size:"sm",style:{fontWeight:"bold"},children:"Developer"}),l.jsx(En,{label:n("settings.enableImageDebugging"),isChecked:C,onChange:P=>t(i3(P.target.checked))})]}),l.jsxs(L,{sx:$d,children:[l.jsx(rr,{size:"sm",children:n("settings.resetWebUI")}),l.jsx(Xe,{colorScheme:"error",onClick:k,children:n("settings.resetWebUI")}),l.jsx(Ce,{children:n("settings.resetWebUIDesc1")}),l.jsx(Ce,{children:n("settings.resetWebUIDesc2")})]})]})}),l.jsx(Lr,{children:l.jsx(Xe,{onClick:c,children:n("common.close")})})]})]}),l.jsxs(mo,{closeOnOverlayClick:!1,isOpen:u,onClose:p,isCentered:!0,children:[l.jsx(Hr,{backdropFilter:"blur(40px)"}),l.jsxs(vo,{children:[l.jsx(Br,{}),l.jsx(Wr,{children:l.jsx(L,{justifyContent:"center",children:l.jsx(Ce,{fontSize:"lg",children:l.jsx(Ce,{children:n("settings.resetComplete")})})})}),l.jsx(Lr,{})]})]})]})},LD=me(Et,e=>({isConnected:e.isConnected,isProcessing:e.isProcessing,currentIteration:e.currentIteration,totalIterations:e.totalIterations,currentStatus:e.currentStatus,hasError:e.hasError,wasErrorSeen:e.wasErrorSeen}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),BD=()=>{const{isConnected:e,isProcessing:t,currentIteration:n,totalIterations:r,currentStatus:o,hasError:s,wasErrorSeen:c}=A(LD),u=Y(),{t:f}=K();let p;e&&!s?p="ok":p="error";let h=o;t&&(p="working"),h&&t&&r>1&&(h=`${f(h)} (${n}/${r})`);const y=s&&!c?"Click to clear, check logs for details":void 0,x=s&&!c?"pointer":"initial",S=()=>{(s||!c)&&u(P1())};return l.jsx(Gt,{label:y,children:l.jsx(Ce,{cursor:x,onClick:S,sx:{fontSize:"xs",fontWeight:"600",color:`${p}.400`},children:f(h)})})},HD=e=>{const{triggerComponent:t,children:n,hasArrow:r=!0,isLazy:o=!0,...s}=e;return l.jsxs($h,{isLazy:o,...s,children:[l.jsx(Uh,{children:t}),l.jsxs(qh,{children:[r&&l.jsx(Gh,{}),n]})]})},or=g.memo(HD);function WD(){const{t:e}=K(),t=Y(),n=A(c=>c.ui.currentTheme),r={dark:e("common.darkTheme"),light:e("common.lightTheme"),green:e("common.greenTheme"),ocean:e("common.oceanTheme")},o=c=>{t(l3(c))},s=()=>{const c=[];return Object.keys(r).forEach(u=>{c.push(l.jsx(Xe,{isChecked:n===u,leftIcon:n===u?l.jsx(zc,{}):void 0,size:"sm",onClick:()=>o(u),children:r[u]},u))}),c};return l.jsx(or,{triggerComponent:l.jsx(se,{"aria-label":e("common.themeLabel"),size:"sm",variant:"link","data-variant":"link",fontSize:20,icon:l.jsx($9,{})}),children:l.jsx(Fe,{align:"stretch",children:s()})})}function VD(){const{t:e,i18n:t}=K(),n={ar:e("common.langArabic",{lng:"ar"}),nl:e("common.langDutch",{lng:"nl"}),en:e("common.langEnglish",{lng:"en"}),fr:e("common.langFrench",{lng:"fr"}),de:e("common.langGerman",{lng:"de"}),he:e("common.langHebrew",{lng:"he"}),it:e("common.langItalian",{lng:"it"}),ja:e("common.langJapanese",{lng:"ja"}),ko:e("common.langKorean",{lng:"ko"}),pl:e("common.langPolish",{lng:"pl"}),pt_BR:e("common.langBrPortuguese",{lng:"pt_BR"}),pt:e("common.langPortuguese",{lng:"pt"}),ru:e("common.langRussian",{lng:"ru"}),zh_CN:e("common.langSimplifiedChinese",{lng:"zh_CN"}),es:e("common.langSpanish",{lng:"es"}),uk:e("common.langUkranian",{lng:"ua"})},r=()=>{const o=[];return Object.keys(n).forEach(s=>{o.push(l.jsx(Xe,{isChecked:localStorage.getItem("i18nextLng")===s,leftIcon:localStorage.getItem("i18nextLng")===s?l.jsx(zc,{}):void 0,onClick:()=>t.changeLanguage(s),"aria-label":n[s],size:"sm",minWidth:"200px",children:n[s]},s))}),o};return l.jsx(or,{triggerComponent:l.jsx(se,{"aria-label":e("common.languagePickerLabel"),tooltip:e("common.languagePickerLabel"),icon:l.jsx(W9,{}),size:"sm",variant:"link","data-variant":"link",fontSize:26}),children:l.jsx(Fe,{children:r()})})}function UD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 9c-.42 0-.83.04-1.24.11L1.01 3 1 10l9 2-9 2 .01 7 8.07-3.46C9.59 21.19 12.71 24 16.5 24c4.14 0 7.5-3.36 7.5-7.5S20.64 9 16.5 9zm0 13c-3.03 0-5.5-2.47-5.5-5.5s2.47-5.5 5.5-5.5 5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5z"}},{tag:"path",attr:{d:"M18.27 14.03l-1.77 1.76-1.77-1.76-.7.7 1.76 1.77-1.76 1.77.7.7 1.77-1.76 1.77 1.76.7-.7-1.76-1.77 1.76-1.77z"}}]})(e)}function $D(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}}]})(e)}function GD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)}function qD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}}]})(e)}function YD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"}}]})(e)}function KD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 2v11h3v9l7-12h-4l4-8z"}}]})(e)}function $0(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"}}]})(e)}function XD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"}}]})(e)}function QD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"}}]})(e)}function fp(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}}]})(e)}function ZD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}}]})(e)}function JD(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function eA(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function tA(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}}]})(e)}const nA=""+new URL("logo-13003d72.png",import.meta.url).href,Db=()=>{const e=A(t=>t.system.app_version);return l.jsxs(L,{alignItems:"center",gap:3,ps:1,children:[l.jsx(Xo,{src:nA,alt:"invoke-ai-logo",w:"32px",h:"32px"}),l.jsxs(Ce,{fontSize:"xl",children:["invoke ",l.jsx("strong",{children:"ai"})]}),l.jsx(Ce,{sx:{fontWeight:300,marginTop:1},variant:"subtext",children:e})]})},Ab=()=>{const{t:e}=K();return l.jsxs(ir,{gridTemplateColumns:"auto max-content",children:[l.jsx(Db,{}),l.jsxs(L,{alignItems:"center",gap:2,children:[l.jsx(BD,{}),l.jsx(zD,{}),l.jsx(AD,{children:l.jsx(se,{"aria-label":e("modelManager.modelManager"),tooltip:e("modelManager.modelManager"),size:"sm",variant:"link","data-variant":"link",fontSize:20,icon:l.jsx(O9,{})})}),l.jsx(pP,{children:l.jsx(se,{"aria-label":e("common.hotkeysLabel"),tooltip:e("common.hotkeysLabel"),size:"sm",variant:"link","data-variant":"link",fontSize:20,icon:l.jsx(H9,{})})}),l.jsx(WD,{}),l.jsx(VD,{}),l.jsx(qo,{isExternal:!0,href:"http://github.com/invoke-ai/InvokeAI/issues",marginBottom:"-0.25rem",children:l.jsx(se,{"aria-label":e("common.reportBugLabel"),tooltip:e("common.reportBugLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:l.jsx(A9,{})})}),l.jsx(qo,{isExternal:!0,href:"http://github.com/invoke-ai/InvokeAI",marginBottom:"-0.25rem",children:l.jsx(se,{"aria-label":e("common.githubLabel"),tooltip:e("common.githubLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:l.jsx(P9,{})})}),l.jsx(qo,{isExternal:!0,href:"https://discord.gg/ZmtBAhwWhy",marginBottom:"-0.25rem",children:l.jsx(se,{"aria-label":e("common.discordLabel"),tooltip:e("common.discordLabel"),variant:"link","data-variant":"link",fontSize:20,size:"sm",icon:l.jsx(E9,{})})}),l.jsx(FD,{children:l.jsx(se,{"aria-label":e("common.settingsLabel"),tooltip:e("common.settingsLabel"),variant:"link","data-variant":"link",fontSize:22,size:"sm",icon:l.jsx(GD,{})})})]})]})};Ab.displayName="SiteHeader";const rA=`ws://${window.location.host}`,Oa=c3(rA,{path:"/ws/socket.io"}),oA=()=>{const e=Y(),{sessionId:t,progress:n,progressImage:r}=A(h=>h.api),[o,s]=g.useState([]),c=g.useCallback(h=>{s([...o,h])},[o]),u=()=>{e(d3({nodes:{a:{id:"a",type:"txt2img",prompt:"pizza",steps:30},b:{id:"b",type:"img2img",prompt:"dog",steps:30,strength:.75},c:{id:"c",type:"img2img",prompt:"cat",steps:30,strength:.75},d:{id:"d",type:"img2img",prompt:"jalapeno",steps:30,strength:.75}},edges:[{source:{node_id:"a",field:"image"},destination:{node_id:"b",field:"image"}},{source:{node_id:"b",field:"image"},destination:{node_id:"c",field:"image"}},{source:{node_id:"c",field:"image"},destination:{node_id:"d",field:"image"}}]}))},f=()=>{t&&(e(f3({sessionId:t})),s([]))},p=()=>{t&&e(h3({sessionId:t}))};return g.useEffect(()=>{t&&(Oa.emit("subscribe",{session:t}),console.log("subscribe",{session:t}))},[e,t]),g.useEffect(()=>{Oa.on("invocation_started",h=>{console.log("invocation_started",h),e(Tv(_v.busy))}),Oa.on("generator_progress",h=>{console.log("generator_progress",h),e(Dv(h.step/h.total_steps)),h.progress_image&&e(u3(h.progress_image))}),Oa.on("invocation_complete",h=>{if(h.result.type==="image"){const y=`api/v1/images/${h.result.image.image_type}/${h.result.image.image_name}`;c(y)}console.log("invocation_complete",h),e(Dv(null)),e(Tv(_v.idle)),console.log(h)}),Oa.on("graph_execution_state_complete",h=>{console.log(h)})},[e,c]),l.jsxs(L,{sx:{flexDirection:"column",gap:4,p:4,alignItems:"center",borderRadius:"base"},children:[l.jsxs(Ce,{children:["Session: ",t||"..."]}),l.jsx(Xe,{onClick:p,colorScheme:"error",children:"Cancel Processing"}),l.jsx(Xe,{onClick:u,colorScheme:"accent",children:"Create Session"}),l.jsx(Xe,{onClick:f,loadingText:`Invoking ${n===null?"...":`${Math.round(n*100)}%`}`,colorScheme:"accent",children:"Invoke"}),l.jsxs(L,{wrap:"wrap",gap:4,overflow:"scroll",children:[l.jsx(Xo,{src:r==null?void 0:r.dataURL,width:r==null?void 0:r.width,height:r==null?void 0:r.height,sx:{imageRendering:"pixelated"}}),o.map(h=>l.jsx(Xo,{src:h},h))]})]})},hp=e=>{const{children:t}=e;return l.jsx(L,{sx:{width:"100%",height:"100%",bg:"base.850",borderRadius:"base"},children:t})};function iA(){return K(),l.jsx(hp,{children:l.jsx(L,{sx:{flexDirection:"column",w:"100%",h:"100%",gap:4,textAlign:"center"},children:l.jsx(oA,{})})})}const aA=()=>{const{t:e}=K();return l.jsx(hp,{children:l.jsxs(L,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",gap:4,textAlign:"center"},children:[l.jsx(rr,{children:e("common.postProcessing")}),l.jsxs(Fe,{maxW:"50rem",gap:4,children:[l.jsx(Ce,{children:e("common.postProcessDesc1")}),l.jsx(Ce,{children:e("common.postProcessDesc2")}),l.jsx(Ce,{children:e("common.postProcessDesc3")})]})]})})};function sA(){const{t:e}=K();return l.jsx(hp,{children:l.jsxs(L,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",w:"100%",h:"100%",gap:4,textAlign:"center"},children:[l.jsx(rr,{children:e("common.training")}),l.jsxs(Fe,{maxW:"50rem",gap:4,children:[l.jsx(Ce,{children:e("common.trainingDesc1")}),l.jsx(Ce,{children:e("common.trainingDesc2")})]})]})})}const Cs=me(e=>e.lightbox,e=>e,{memoizeOptions:{equalityCheck:ee.isEqual}}),qr=e=>e.gallery,lA=me([qr,Pr,Cs,bt],(e,t,n,r)=>{const{categories:o,currentCategory:s,currentImageUuid:c,galleryImageMinimumWidth:u,galleryImageObjectFit:f,shouldAutoSwitchToNewImages:p,galleryWidth:h,shouldUseSingleGalleryColumn:y}=e,{shouldPinGallery:x}=t,{isLightboxOpen:S}=n;return{currentImageUuid:c,shouldPinGallery:x,galleryImageMinimumWidth:u,galleryImageObjectFit:f,galleryGridTemplateColumns:y?"auto":`repeat(auto-fill, minmax(${u}px, auto))`,shouldAutoSwitchToNewImages:p,currentCategory:s,images:o[s].images,areMoreImagesAvailable:o[s].areMoreImagesAvailable,galleryWidth:h,shouldEnableResize:!(S||r==="unifiedCanvas"&&x),shouldUseSingleGalleryColumn:y}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),cA=me([qr,Et,Cs,bt],(e,t,n,r)=>({mayDeleteImage:t.isConnected&&!t.isProcessing,galleryImageObjectFit:e.galleryImageObjectFit,galleryImageMinimumWidth:e.galleryImageMinimumWidth,shouldUseSingleGalleryColumn:e.shouldUseSingleGalleryColumn,activeTabName:r,isLightboxOpen:n.isLightboxOpen}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),uA=me(qr,e=>({resultImages:e.categories.result.images,userImages:e.categories.user.images})),dA=()=>{const{resultImages:e,userImages:t}=A(uA);return n=>{const r=e.find(s=>s.uuid===n);if(r)return r;const o=t.find(s=>s.uuid===n);if(o)return o}},fA=({direction:e,langDirection:t})=>({top:e==="bottom",right:t!=="rtl"&&e==="left"||t==="rtl"&&e==="right",bottom:e==="top",left:t!=="rtl"&&e==="right"||t==="rtl"&&e==="left"}),hA=({direction:e,minWidth:t,maxWidth:n,minHeight:r,maxHeight:o})=>{const s=t??(["left","right"].includes(e)?10:void 0),c=n??(["left","right"].includes(e)?"95vw":void 0),u=r??(["top","bottom"].includes(e)?10:void 0),f=o??(["top","bottom"].includes(e)?"95vh":void 0);return{...s?{minWidth:s}:{},...c?{maxWidth:c}:{},...u?{minHeight:u}:{},...f?{maxHeight:f}:{}}},Rr="0.75rem",Rl="1rem",pA="2px",mA="5px",vA=({isPinned:e,isResizable:t,direction:n})=>{if(!t)return{containerStyles:{},handleStyles:{}};const r=e?pA:mA,o=`calc((2 * ${Rr} + ${r}) / -2)`;return n==="top"?{containerStyles:{borderBottomWidth:r,paddingBottom:Rl},handleStyles:{top:{paddingTop:Rr,paddingBottom:Rr,bottom:o}}}:n==="left"?{containerStyles:{borderInlineEndWidth:r,paddingInlineEnd:Rl},handleStyles:{right:{paddingInlineStart:Rr,paddingInlineEnd:Rr,insetInlineEnd:o}}}:n==="bottom"?{containerStyles:{borderTopWidth:r,paddingTop:Rl},handleStyles:{bottom:{paddingTop:Rr,paddingBottom:Rr,top:o}}}:n==="right"?{containerStyles:{borderInlineStartWidth:r,paddingInlineStart:Rl},handleStyles:{left:{paddingInlineStart:Rr,paddingInlineEnd:Rr,insetInlineStart:o}}}:{containerStyles:{},handleStyles:{}}},gA=(e,t)=>["top","bottom"].includes(e)?e:e==="left"?t==="rtl"?"right":"left":e==="right"?t==="rtl"?"left":"right":"left",oo=(e,t)=>{if(e)return t?e+t:e},yA=ne(Lx,{shouldForwardProp:e=>!["sx"].includes(e)}),Ob=({direction:e="left",isResizable:t,isPinned:n,isOpen:r,onClose:o,children:s,initialWidth:c,minWidth:u,maxWidth:f,initialHeight:p,minHeight:h,maxHeight:y,onResizeStart:x,onResizeStop:S,onResize:C,sx:j={}})=>{const w=na().direction,k=g.useRef(null),I=g.useMemo(()=>c??u??(["left","right"].includes(e)?500:"100%"),[c,u,e]),P=g.useMemo(()=>p??h??(["top","bottom"].includes(e)?500:"100%"),[p,h,e]),[M,T]=g.useState(I),[D,_]=g.useState(P);z6({ref:k,handler:()=>{o()},enabled:r&&!n});const R=g.useMemo(()=>t?fA({direction:e,langDirection:w}):{},[t,w,e]),V=g.useMemo(()=>hA({direction:e,minWidth:t?oo(u,18):oo(u),maxWidth:t?oo(f,18):oo(f),minHeight:t?oo(h,18):oo(h),maxHeight:t?oo(y,18):oo(y)}),[u,f,h,y,e,t]),{containerStyles:F,handleStyles:B}=g.useMemo(()=>vA({isPinned:n,isResizable:t,direction:e}),[n,t,e]),Q=g.useMemo(()=>gA(e,w),[e,w]);return g.useEffect(()=>{["left","right"].includes(e)&&_(n?"100%":"100vh"),["top","bottom"].includes(e)&&T(n?"100%":"100vw")},[n,e]),l.jsx(w2,{direction:Q,in:r,unmountOnExit:n,motionProps:{initial:n},...n?{style:{position:void 0,left:void 0,right:void 0,top:void 0,bottom:void 0,width:void 0}}:{style:{zIndex:99,width:"full"}},children:l.jsx(Ye,{ref:k,sx:{width:"full",height:"full"},children:l.jsx(yA,{size:{width:t?M:I,height:t?D:P},enable:R,handleStyles:B,...V,sx:{borderColor:"base.800",p:n?0:4,bg:"base.900",height:"full",boxShadow:n?"":"0 0 4rem 0 rgba(0, 0, 0, 0.8)",...F,...j},onResizeStart:(U,X,te)=>{x&&x(U,X,te)},onResize:(U,X,te,re)=>{C&&C(U,X,te,re)},onResizeStop:(U,X,te,re)=>{["left","right"].includes(X)&&T(Number(M)+re.width),["top","bottom"].includes(X)&&_(Number(D)+re.height),S&&S(U,X,te,re)},children:s})})})},G0={position:"absolute",width:"full",height:24,left:0,pointerEvents:"none",transition:"opacity 0.2s ease-in-out"},zb=({children:e})=>{const t=g.useRef(null),n=g.useRef(null),r=g.useRef(null),o=ee.throttle(()=>{if(!t.current||!n.current||!r.current)return;const{scrollTop:s,scrollHeight:c,offsetHeight:u}=t.current;s>0?n.current.style.opacity="1":n.current.style.opacity="0",s>=c-u?r.current.style.opacity="0":r.current.style.opacity="1"},33,{leading:!0});return g.useEffect(()=>{o()},[o]),l.jsxs(Ye,{position:"relative",w:"full",h:"full",children:[l.jsx(Ye,{ref:t,position:"absolute",w:"full",h:"full",overflowY:"scroll",onScroll:o,children:e}),l.jsx(Ye,{ref:r,sx:{...G0,bottom:0,boxShadow:"inset 0 -3.5rem 2rem -2rem var(--invokeai-colors-base-900)"}}),l.jsx(Ye,{ref:n,sx:{...G0,top:0,boxShadow:"inset 0 3.5rem 2rem -2rem var(--invokeai-colors-base-900)"}})]})},xA=ee.debounce(e=>{e(_1(!0))},300),cn=()=>(e,t)=>{bt(t())==="unifiedCanvas"&&xA(e)};function Rb(e){return ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146z"}}]})(e)}function Nb(e){return ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146zm.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.511.12H5.78l-.014-.004a4.507 4.507 0 0 0-.288-.076 4.922 4.922 0 0 0-.765-.116c-.422-.028-.836.008-1.175.15l5.51 5.509c.141-.34.177-.753.149-1.175a4.924 4.924 0 0 0-.192-1.054l-.004-.013v-.001a.5.5 0 0 1 .12-.512l3.536-3.535a.5.5 0 0 1 .532-.115l.096.022c.087.017.208.034.344.034.114 0 .23-.011.343-.04L9.927 2.028c-.029.113-.04.23-.04.343a1.779 1.779 0 0 0 .062.46z"}}]})(e)}const q0=e=>{const{sx:t}=e,n=Y(),r=A(c=>c.ui.shouldPinParametersPanel),{t:o}=K(),s=()=>{n(p3(!r)),n(cn())};return l.jsx(Gt,{label:o("common.pinOptionsPanel"),children:l.jsx(se,{...e,"aria-label":o("common.pinOptionsPanel"),onClick:s,icon:r?l.jsx(Rb,{}):l.jsx(Nb,{}),variant:"ghost",size:"sm",sx:{color:"base.700",_hover:{color:"base.550"},_active:{color:"base.500"},...t}})})},bA=me([Pr,bt,Cs],(e,t,n)=>{const{shouldPinParametersPanel:r,shouldShowParametersPanel:o}=e,{isLightboxOpen:s}=n;return{shouldPinParametersPanel:r,shouldShowParametersPanel:o,isResizable:t!=="unifiedCanvas",isLightboxOpen:s}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),SA=({children:e})=>{const t=Y(),{shouldPinParametersPanel:n,shouldShowParametersPanel:r,isResizable:o,isLightboxOpen:s}=A(bA),c=()=>{t(Yl(!1))};return de("o",()=>{t(m3()),n&&t(cn())},{enabled:()=>!s},[n,s]),de("esc",()=>{t(Yl(!1))},{enabled:()=>!n,preventDefault:!0},[n]),de("shift+o",()=>{t(v3()),t(cn())},[]),l.jsx(Ob,{direction:"left",isResizable:o||!n,isOpen:r,onClose:c,isPinned:n||s,sx:{borderColor:"base.700",p:n?0:4,bg:"base.900"},initialWidth:a0,minWidth:a0,children:l.jsxs(L,{flexDir:"column",position:"relative",h:"full",w:"full",children:[!n&&l.jsxs(L,{paddingTop:1.5,paddingBottom:4,justifyContent:"space-between",alignItems:"center",children:[l.jsx(Db,{}),l.jsx(q0,{})]}),l.jsx(zb,{children:e}),n&&l.jsx(q0,{sx:{position:"absolute",top:0,insetInlineEnd:0}})]})})},CA=g.memo(SA),wA=me([Pr,bt],(e,t)=>{const{shouldPinParametersPanel:n}=e;return{shouldPinParametersPanel:n,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),pp=e=>{const{parametersPanelContent:t,children:n,...r}=e,o=Y(),{activeTabName:s}=A(wA),c=dA(),u=f=>{const p=f.dataTransfer.getData("invokeai/imageUuid"),h=c(p);h&&(s==="img2img"?o(is(h)):s==="unifiedCanvas"&&o(Sc(h)))};return l.jsxs(L,{...r,pos:"relative",w:"full",h:cP,gap:4,children:[l.jsx(CA,{children:t}),l.jsx(Ye,{pos:"relative",w:"100%",h:"100%",onDrop:u,children:n})]})},jA=e=>{const{styleClass:t}=e,n=g.useContext(Kh),r=()=>{n&&n()};return l.jsx(L,{sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},className:t,children:l.jsxs(L,{onClick:r,sx:{display:"flex",flexDirection:"column",rowGap:8,p:8,borderRadius:"base",alignItems:"center",justifyContent:"center",textAlign:"center",cursor:"pointer",color:"base.600",bg:"base.800",_hover:{bg:"base.700"}},children:[l.jsx(tn,{as:Nc,boxSize:24}),l.jsx(rr,{size:"md",children:"Click or Drag and Drop"})]})})};function kA(){const e=A(o=>o.postprocessing.facetoolType),t=Y(),{t:n}=K(),r=o=>t(Fl(o.target.value));return l.jsx(Mn,{label:n("parameters.type"),validValues:g3.concat(),value:e,onChange:r})}function EA(){const e=A(o=>o.system.isGFPGANAvailable),t=A(o=>o.postprocessing.facetoolStrength),{t:n}=K(),r=Y();return l.jsx(ut,{isSliderDisabled:!e,isInputDisabled:!e,isResetDisabled:!e,label:n("parameters.strength"),step:.05,min:0,max:1,onChange:o=>r(Kl(o)),handleReset:()=>r(Kl(.75)),value:t,withReset:!0,withSliderMarks:!0,withInput:!0})}function PA(){const e=A(o=>o.system.isGFPGANAvailable),t=A(o=>o.postprocessing.codeformerFidelity),{t:n}=K(),r=Y();return l.jsx(ut,{isSliderDisabled:!e,isInputDisabled:!e,isResetDisabled:!e,label:n("parameters.codeformerFidelity"),step:.05,min:0,max:1,onChange:o=>r(Jd(o)),handleReset:()=>r(Jd(1)),value:t,withReset:!0,withSliderMarks:!0,withInput:!0})}const mp=()=>{const e=A(t=>t.postprocessing.facetoolType);return l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(kA,{}),l.jsx(EA,{}),e==="codeformer"&&l.jsx(PA,{})]})};function IA(){const e=A(o=>o.system.isESRGANAvailable),t=A(o=>o.postprocessing.upscalingDenoising),{t:n}=K(),r=Y();return l.jsx(ut,{label:n("parameters.denoisingStrength"),value:t,min:0,max:1,step:.01,onChange:o=>{r(ef(o))},handleReset:()=>r(ef(.75)),withSliderMarks:!0,withInput:!0,withReset:!0,isSliderDisabled:!e,isInputDisabled:!e,isResetDisabled:!e})}function MA(){const e=A(o=>o.system.isESRGANAvailable),t=A(o=>o.postprocessing.upscalingStrength),{t:n}=K(),r=Y();return l.jsx(ut,{label:`${n("parameters.upscale")} ${n("parameters.strength")}`,value:t,min:0,max:1,step:.05,onChange:o=>r(tf(o)),handleReset:()=>r(tf(.75)),withSliderMarks:!0,withInput:!0,withReset:!0,isSliderDisabled:!e,isInputDisabled:!e,isResetDisabled:!e})}function TA(){const e=A(s=>s.system.isESRGANAvailable),t=A(s=>s.postprocessing.upscalingLevel),{t:n}=K(),r=Y(),o=s=>r(D1(Number(s.target.value)));return l.jsx(Mn,{isDisabled:!e,label:n("parameters.scale"),value:t,onChange:o,validValues:y3})}const vp=()=>l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(TA,{}),l.jsx(IA,{}),l.jsx(MA,{})]}),gp=e=>e.postprocessing,_A=me(Et,e=>{const{shouldConfirmOnDelete:t,isConnected:n,isProcessing:r}=e;return{shouldConfirmOnDelete:t,isConnected:n,isProcessing:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),pc=fe(({image:e,children:t},n)=>{const{isOpen:r,onOpen:o,onClose:s}=po(),c=Y(),{shouldConfirmOnDelete:u,isConnected:f,isProcessing:p}=A(_A),h=g.useRef(null),y=C=>{C.stopPropagation(),u?o():x()},x=()=>{f&&!p&&e&&c(x3(e)),s()};de("delete",()=>{u?o():x()},[e,u,f,p]);const S=C=>c(T1(!C.target.checked));return l.jsxs(l.Fragment,{children:[g.cloneElement(t,{onClick:e?y:void 0,ref:n}),l.jsx(Qy,{isOpen:r,leastDestructiveRef:h,onClose:s,children:l.jsx(Hr,{children:l.jsxs(Zy,{children:[l.jsx(Br,{fontSize:"lg",fontWeight:"bold",children:"Delete image"}),l.jsx(Wr,{children:l.jsxs(L,{direction:"column",gap:5,children:[l.jsx(Ce,{children:"Are you sure? Deleted images will be sent to the Bin. You can restore from there if you wish to."}),l.jsx(En,{label:"Don't ask me again",isChecked:!u,onChange:S})]})}),l.jsxs(Lr,{children:[l.jsx(Xe,{ref:h,onClick:s,children:"Cancel"}),l.jsx(Xe,{colorScheme:"error",onClick:x,ml:3,children:"Delete"})]})]})})})]})});pc.displayName="DeleteImageModal";const yp=()=>{const e=Y();return t=>{const n=typeof t=="string"?t:A1(t),[r,o]=b3(n);e(O1(r)),e(z1(o))}},DA=me([Et,qr,gp,Pr,Cs,bt],(e,t,n,r,o,s)=>{const{isProcessing:c,isConnected:u,isGFPGANAvailable:f,isESRGANAvailable:p}=e,{upscalingLevel:h,facetoolStrength:y}=n,{isLightboxOpen:x}=o,{shouldShowImageDetails:S}=r,{intermediateImage:C,currentImage:j}=t;return{isProcessing:c,isConnected:u,isGFPGANAvailable:f,isESRGANAvailable:p,upscalingLevel:h,facetoolStrength:y,shouldDisableToolbarButtons:Boolean(C)||!j,currentImage:j,shouldShowImageDetails:S,activeTabName:s,isLightboxOpen:x}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Fb=e=>{var B,Q,U,X,te,re,$,Z;const t=Y(),{isProcessing:n,isConnected:r,isGFPGANAvailable:o,isESRGANAvailable:s,upscalingLevel:c,facetoolStrength:u,shouldDisableToolbarButtons:f,shouldShowImageDetails:p,currentImage:h,isLightboxOpen:y,activeTabName:x}=A(DA),S=us(),{t:C}=K(),j=yp(),w=()=>{h&&(y&&t(Uo(!1)),t(is(h)),t(kn("img2img")))},k=async()=>{if(!h)return;const oe=await fetch(h.url).then(ze=>ze.blob()),le=[new ClipboardItem({[oe.type]:oe})];await navigator.clipboard.write(le),S({title:C("toast.imageCopied"),status:"success",duration:2500,isClosable:!0})},I=()=>{navigator.clipboard.writeText(h?window.location.toString()+h.url:"").then(()=>{S({title:C("toast.imageLinkCopied"),status:"success",duration:2500,isClosable:!0})})};de("shift+i",()=>{h?(w(),S({title:C("toast.sentToImageToImage"),status:"success",duration:2500,isClosable:!0})):S({title:C("toast.imageNotLoaded"),description:C("toast.imageNotLoadedDesc"),status:"error",duration:2500,isClosable:!0})},[h]);const P=()=>{var oe,le;h&&(h.metadata&&t(R1(h.metadata)),((oe=h.metadata)==null?void 0:oe.image.type)==="img2img"?t(kn("img2img")):((le=h.metadata)==null?void 0:le.image.type)==="txt2img"&&t(kn("txt2img")))};de("a",()=>{var oe,le;["txt2img","img2img"].includes((le=(oe=h==null?void 0:h.metadata)==null?void 0:oe.image)==null?void 0:le.type)?(P(),S({title:C("toast.parametersSet"),status:"success",duration:2500,isClosable:!0})):S({title:C("toast.parametersNotSet"),description:C("toast.parametersNotSetDesc"),status:"error",duration:2500,isClosable:!0})},[h]);const M=()=>{h!=null&&h.metadata&&t(ss(h.metadata.image.seed))};de("s",()=>{var oe,le;(le=(oe=h==null?void 0:h.metadata)==null?void 0:oe.image)!=null&&le.seed?(M(),S({title:C("toast.seedSet"),status:"success",duration:2500,isClosable:!0})):S({title:C("toast.seedNotSet"),description:C("toast.seedNotSetDesc"),status:"error",duration:2500,isClosable:!0})},[h]);const T=g.useCallback(()=>{var oe,le,ze,Re;(le=(oe=h==null?void 0:h.metadata)==null?void 0:oe.image)!=null&&le.prompt&&j((Re=(ze=h==null?void 0:h.metadata)==null?void 0:ze.image)==null?void 0:Re.prompt)},[(Q=(B=h==null?void 0:h.metadata)==null?void 0:B.image)==null?void 0:Q.prompt,j]);de("p",()=>{var oe,le;(le=(oe=h==null?void 0:h.metadata)==null?void 0:oe.image)!=null&&le.prompt?(T(),S({title:C("toast.promptSet"),status:"success",duration:2500,isClosable:!0})):S({title:C("toast.promptNotSet"),description:C("toast.promptNotSetDesc"),status:"error",duration:2500,isClosable:!0})},[h]);const D=()=>{h&&t(S3(h))};de("Shift+U",()=>{s&&!f&&r&&!n&&c?D():S({title:C("toast.upscalingFailed"),status:"error",duration:2500,isClosable:!0})},[h,s,f,r,n,c]);const _=()=>{h&&t(C3(h))};de("Shift+R",()=>{o&&!f&&r&&!n&&u?_():S({title:C("toast.faceRestoreFailed"),status:"error",duration:2500,isClosable:!0})},[h,o,f,r,n,u]);const R=()=>t(N1(!p)),V=()=>{h&&(y&&t(Uo(!1)),t(Sc(h)),t(cn()),x!=="unifiedCanvas"&&t(kn("unifiedCanvas")),S({title:C("toast.sentToUnifiedCanvas"),status:"success",duration:2500,isClosable:!0}))};de("i",()=>{h?R():S({title:C("toast.metadataLoadFailed"),status:"error",duration:2500,isClosable:!0})},[h,p]);const F=()=>{t(Uo(!y))};return l.jsxs(L,{sx:{justifyContent:"center",alignItems:"center",columnGap:"0.5em"},...e,children:[l.jsxs(Qt,{isAttached:!0,children:[l.jsx(or,{triggerComponent:l.jsx(se,{"aria-label":`${C("parameters.sendTo")}...`,icon:l.jsx(Q9,{})}),children:l.jsxs(L,{sx:{flexDirection:"column",rowGap:2},children:[l.jsx(Xe,{size:"sm",onClick:w,leftIcon:l.jsx(i0,{}),children:C("parameters.sendToImg2Img")}),l.jsx(Xe,{size:"sm",onClick:V,leftIcon:l.jsx(i0,{}),children:C("parameters.sendToUnifiedCanvas")}),l.jsx(Xe,{size:"sm",onClick:k,leftIcon:l.jsx(Qi,{}),children:C("parameters.copyImage")}),l.jsx(Xe,{size:"sm",onClick:I,leftIcon:l.jsx(Qi,{}),children:C("parameters.copyImageToLink")}),l.jsx(qo,{download:!0,href:h==null?void 0:h.url,children:l.jsx(Xe,{leftIcon:l.jsx(Zh,{}),size:"sm",w:"100%",children:C("parameters.downloadImage")})})]})}),l.jsx(se,{icon:l.jsx(R9,{}),tooltip:y?`${C("parameters.closeViewer")} (Z)`:`${C("parameters.openInViewer")} (Z)`,"aria-label":y?`${C("parameters.closeViewer")} (Z)`:`${C("parameters.openInViewer")} (Z)`,isChecked:y,onClick:F})]}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{icon:l.jsx(q9,{}),tooltip:`${C("parameters.usePrompt")} (P)`,"aria-label":`${C("parameters.usePrompt")} (P)`,isDisabled:!((X=(U=h==null?void 0:h.metadata)==null?void 0:U.image)!=null&&X.prompt),onClick:T}),l.jsx(se,{icon:l.jsx(X9,{}),tooltip:`${C("parameters.useSeed")} (S)`,"aria-label":`${C("parameters.useSeed")} (S)`,isDisabled:!((re=(te=h==null?void 0:h.metadata)==null?void 0:te.image)!=null&&re.seed),onClick:M}),l.jsx(se,{icon:l.jsx(D9,{}),tooltip:`${C("parameters.useAll")} (A)`,"aria-label":`${C("parameters.useAll")} (A)`,isDisabled:!["txt2img","img2img"].includes((Z=($=h==null?void 0:h.metadata)==null?void 0:$.image)==null?void 0:Z.type),onClick:P})]}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(or,{triggerComponent:l.jsx(se,{icon:l.jsx(L9,{}),"aria-label":C("parameters.restoreFaces")}),children:l.jsxs(L,{sx:{flexDirection:"column",rowGap:4},children:[l.jsx(mp,{}),l.jsx(Xe,{isDisabled:!o||!h||!(r&&!n)||!u,onClick:_,children:C("parameters.restoreFaces")})]})}),l.jsx(or,{triggerComponent:l.jsx(se,{icon:l.jsx(z9,{}),"aria-label":C("parameters.upscale")}),children:l.jsxs(L,{sx:{flexDirection:"column",gap:4},children:[l.jsx(vp,{}),l.jsx(Xe,{isDisabled:!s||!h||!(r&&!n)||!c,onClick:D,children:C("parameters.upscaleImage")})]})})]}),l.jsx(Qt,{isAttached:!0,children:l.jsx(se,{icon:l.jsx(Ux,{}),tooltip:`${C("parameters.info")} (I)`,"aria-label":`${C("parameters.info")} (I)`,isChecked:p,onClick:R})}),l.jsx(pc,{image:h,children:l.jsx(se,{icon:l.jsx(So,{}),tooltip:`${C("parameters.deleteImage")} (Del)`,"aria-label":`${C("parameters.deleteImage")} (Del)`,isDisabled:!h||!r||n,colorScheme:"error"})})]})},AA=e=>{const{size:t="xl",...n}=e;return l.jsx(L,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center",position:"absolute",color:"base.400"},children:l.jsx(xc,{size:t,...n})})};function OA(e){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M245.09 327.74v-37.32c57.07 0 84.51 13.47 108.58 38.68 5.4 5.65 15 1.32 14.29-6.43-5.45-61.45-34.14-117.09-122.87-117.09v-37.32a8.32 8.32 0 00-14.05-6L146.58 242a8.2 8.2 0 000 11.94L231 333.71a8.32 8.32 0 0014.09-5.97z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"}}]})(e)}const yt=({label:e,value:t,onClick:n,isLink:r,labelPosition:o,withCopy:s=!1})=>{const{t:c}=K();return l.jsxs(L,{gap:2,children:[n&&l.jsx(Gt,{label:`Recall ${e}`,children:l.jsx(ho,{"aria-label":c("accessibility.useThisParameter"),icon:l.jsx(OA,{}),size:"xs",variant:"ghost",fontSize:20,onClick:n})}),s&&l.jsx(Gt,{label:`Copy ${e}`,children:l.jsx(ho,{"aria-label":`Copy ${e}`,icon:l.jsx(Qi,{}),size:"xs",variant:"ghost",fontSize:14,onClick:()=>navigator.clipboard.writeText(t.toString())})}),l.jsxs(L,{direction:o?"column":"row",children:[l.jsxs(Ce,{fontWeight:"semibold",whiteSpace:"pre-wrap",pr:2,children:[e,":"]}),r?l.jsxs(qo,{href:t.toString(),isExternal:!0,wordBreak:"break-all",children:[t.toString()," ",l.jsx(Tb,{mx:"2px"})]}):l.jsx(Ce,{overflowY:"scroll",wordBreak:"break-all",children:t.toString()})]})]})},zA=(e,t)=>e.image.uuid===t.image.uuid,xp=g.memo(({image:e})=>{var F,B;const t=Y(),n=yp();de("esc",()=>{t(N1(!1))});const r=((F=e==null?void 0:e.metadata)==null?void 0:F.image)||{},o=e==null?void 0:e.dreamPrompt,{cfg_scale:s,fit:c,height:u,hires_fix:f,init_image_path:p,mask_image_path:h,orig_path:y,perlin:x,postprocessing:S,prompt:C,sampler:j,seamless:w,seed:k,steps:I,strength:P,threshold:M,type:T,variations:D,width:_}=r,{t:R}=K(),V=JSON.stringify(e.metadata,null,2);return l.jsxs(L,{sx:{padding:4,gap:1,flexDirection:"column",width:"full",height:"full",backdropFilter:"blur(20px)",bg:"whiteAlpha.600",_dark:{bg:"blackAlpha.600"}},children:[l.jsxs(L,{gap:2,children:[l.jsx(Ce,{fontWeight:"semibold",children:"File:"}),l.jsxs(qo,{href:e.url,isExternal:!0,maxW:"calc(100% - 3rem)",children:[e.url.length>64?e.url.substring(0,64).concat("..."):e.url,l.jsx(Tb,{mx:"2px"})]})]}),Object.keys(r).length>0?l.jsxs(l.Fragment,{children:[T&&l.jsx(yt,{label:"Generation type",value:T}),((B=e.metadata)==null?void 0:B.model_weights)&&l.jsx(yt,{label:"Model",value:e.metadata.model_weights}),["esrgan","gfpgan"].includes(T)&&l.jsx(yt,{label:"Original image",value:y}),C&&l.jsx(yt,{label:"Prompt",labelPosition:"top",value:typeof C=="string"?C:A1(C),onClick:()=>n(C)}),k!==void 0&&l.jsx(yt,{label:"Seed",value:k,onClick:()=>t(ss(k))}),M!==void 0&&l.jsx(yt,{label:"Noise Threshold",value:M,onClick:()=>t(nf(M))}),x!==void 0&&l.jsx(yt,{label:"Perlin Noise",value:x,onClick:()=>t(rf(x))}),j&&l.jsx(yt,{label:"Sampler",value:j,onClick:()=>t(F1(j))}),I&&l.jsx(yt,{label:"Steps",value:I,onClick:()=>t(of(I))}),s!==void 0&&l.jsx(yt,{label:"CFG scale",value:s,onClick:()=>t(af(s))}),D&&D.length>0&&l.jsx(yt,{label:"Seed-weight pairs",value:Av(D),onClick:()=>t(L1(Av(D)))}),w&&l.jsx(yt,{label:"Seamless",value:w,onClick:()=>t(B1(w))}),f&&l.jsx(yt,{label:"High Resolution Optimization",value:f,onClick:()=>t(H1(f))}),_&&l.jsx(yt,{label:"Width",value:_,onClick:()=>t(Ll(_))}),u&&l.jsx(yt,{label:"Height",value:u,onClick:()=>t(Bl(u))}),p&&l.jsx(yt,{label:"Initial image",value:p,isLink:!0,onClick:()=>t(is(p))}),h&&l.jsx(yt,{label:"Mask image",value:h,isLink:!0,onClick:()=>t(w3(h))}),T==="img2img"&&P&&l.jsx(yt,{label:"Image to image strength",value:P,onClick:()=>t(sf(P))}),c&&l.jsx(yt,{label:"Image to image fit",value:c,onClick:()=>t(W1(c))}),S&&S.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(rr,{size:"sm",children:"Postprocessing"}),S.map((Q,U)=>{if(Q.type==="esrgan"){const{scale:X,strength:te,denoise_str:re}=Q;return l.jsxs(L,{pl:8,gap:1,direction:"column",children:[l.jsx(Ce,{size:"md",children:`${U+1}: Upscale (ESRGAN)`}),l.jsx(yt,{label:"Scale",value:X,onClick:()=>t(D1(X))}),l.jsx(yt,{label:"Strength",value:te,onClick:()=>t(tf(te))}),re!==void 0&&l.jsx(yt,{label:"Denoising strength",value:re,onClick:()=>t(ef(re))})]},U)}else if(Q.type==="gfpgan"){const{strength:X}=Q;return l.jsxs(L,{pl:8,gap:1,direction:"column",children:[l.jsx(Ce,{size:"md",children:`${U+1}: Face restoration (GFPGAN)`}),l.jsx(yt,{label:"Strength",value:X,onClick:()=>{t(Kl(X)),t(Fl("gfpgan"))}})]},U)}else if(Q.type==="codeformer"){const{strength:X,fidelity:te}=Q;return l.jsxs(L,{pl:8,gap:1,direction:"column",children:[l.jsx(Ce,{size:"md",children:`${U+1}: Face restoration (Codeformer)`}),l.jsx(yt,{label:"Strength",value:X,onClick:()=>{t(Kl(X)),t(Fl("codeformer"))}}),te&&l.jsx(yt,{label:"Fidelity",value:te,onClick:()=>{t(Jd(te)),t(Fl("codeformer"))}})]},U)}})]}),o&&l.jsx(yt,{withCopy:!0,label:"Dream Prompt",value:o}),l.jsxs(L,{gap:2,direction:"column",children:[l.jsxs(L,{gap:2,children:[l.jsx(Gt,{label:"Copy metadata JSON",children:l.jsx(ho,{"aria-label":R("accessibility.copyMetadataJson"),icon:l.jsx(Qi,{}),size:"xs",variant:"ghost",fontSize:14,onClick:()=>navigator.clipboard.writeText(V)})}),l.jsx(Ce,{fontWeight:"semibold",children:"Metadata JSON:"})]}),l.jsx(Ye,{sx:{mt:0,mr:2,mb:4,ml:2,padding:4,borderRadius:"base",overflowX:"scroll",wordBreak:"break-all",bg:"whiteAlpha.500",_dark:{bg:"blackAlpha.500"}},children:l.jsx("pre",{children:V})})]})]}):l.jsx(jy,{width:"100%",pt:10,children:l.jsx(Ce,{fontSize:"lg",fontWeight:"semibold",children:"No metadata available"})})]})},zA);xp.displayName="ImageMetadataViewer";const Y0={height:"100%",width:"15%",alignItems:"center",pointerEvents:"auto"},K0={color:"base.100"},RA=me(qr,e=>{const{currentImage:t}=e,n=e.categories[t?t.category:"result"].images,r=n.findIndex(s=>{var c;return s.uuid===((c=e==null?void 0:e.currentImage)==null?void 0:c.uuid)}),o=n.length;return{isOnFirstImage:r===0,isOnLastImage:!isNaN(r)&&r===o-1}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Lb=()=>{const e=Y(),{t}=K(),{isOnFirstImage:n,isOnLastImage:r}=A(RA),[o,s]=g.useState(!1),c=()=>{s(!0)},u=()=>{s(!1)},f=()=>{e(V1())},p=()=>{e(U1())};return l.jsxs(L,{sx:{justifyContent:"space-between",zIndex:1,height:"100%",width:"100%",pointerEvents:"none"},children:[l.jsx(ir,{sx:{...Y0,justifyContent:"flex-start"},onMouseOver:c,onMouseOut:u,children:o&&!n&&l.jsx(ho,{"aria-label":t("accessibility.previousImage"),icon:l.jsx(M9,{size:64}),variant:"unstyled",onClick:f,boxSize:16,sx:K0})}),l.jsx(ir,{sx:{...Y0,justifyContent:"flex-end"},onMouseOver:c,onMouseOut:u,children:o&&!r&&l.jsx(ho,{"aria-label":t("accessibility.nextImage"),icon:l.jsx(T9,{size:64}),variant:"unstyled",onClick:p,boxSize:16,sx:K0})})]})},NA=me([qr,Pr],(e,t)=>{const{currentImage:n,intermediateImage:r}=e,{shouldShowImageDetails:o}=t;return{imageToDisplay:r||n,isIntermediate:Boolean(r),shouldShowImageDetails:o}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function FA(){const{shouldShowImageDetails:e,imageToDisplay:t,isIntermediate:n}=A(NA);return l.jsxs(L,{sx:{position:"relative",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:[t&&l.jsx(Xo,{src:t.url,width:t.width,height:t.height,fallback:n?void 0:l.jsx(AA,{}),sx:{objectFit:"contain",maxWidth:"100%",maxHeight:"100%",height:"auto",position:"absolute",imageRendering:n?"pixelated":"initial",borderRadius:"base"}}),!e&&l.jsx(Lb,{}),e&&t&&l.jsx(Ye,{sx:{position:"absolute",top:"0",width:"100%",height:"100%",borderRadius:"base",overflow:"scroll",maxHeight:uP},children:l.jsx(xp,{image:t})})]})}const LA=me([qr],e=>{const{currentImage:t,intermediateImage:n}=e;return{hasAnImageToDisplay:t||n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Bb=()=>{const{hasAnImageToDisplay:e}=A(LA);return l.jsx(L,{sx:{flexDirection:"column",height:"100%",width:"100%",rowGap:4,borderRadius:"base"},children:e?l.jsxs(l.Fragment,{children:[l.jsx(Fb,{}),l.jsx(FA,{})]}):l.jsx(L,{sx:{alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:l.jsx(tn,{as:ZD,sx:{boxSize:24,color:"base.500"}})})})},BA=()=>{const{t:e}=K(),t=g.useContext(Kh);return l.jsx(se,{"aria-label":e("accessibility.uploadImage"),tooltip:"Upload Image",icon:l.jsx(Nc,{}),onClick:t||void 0})};function HA(){const e=A(s=>s.generation.initialImage),{t}=K(),n=Y(),r=us(),o=()=>{r({title:t("toast.parametersFailed"),description:t("toast.parametersFailedDesc"),status:"error",isClosable:!0}),n(j3())};return l.jsxs(l.Fragment,{children:[l.jsxs(L,{sx:{alignItems:"center",justifyContent:"center",w:"100%",gap:4},children:[l.jsx(Ce,{sx:{fontSize:"lg"},variant:"subtext",children:t("parameters.initialImage")}),l.jsx(BA,{})]}),e&&l.jsx(L,{sx:{position:"relative",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},children:l.jsx(Xo,{sx:{fit:"contain",maxWidth:"100%",maxHeight:"100%",borderRadius:"base",objectFit:"contain",position:"absolute"},src:typeof e=="string"?e:e.url,onError:o})})]})}const X0={flexDirection:"column",height:"100%",width:"100%",gap:4,padding:4},WA=()=>{const t=A(n=>n.generation.initialImage)?l.jsx(L,{flexDirection:"column",gap:4,w:"100%",h:"100%",children:l.jsx(HA,{})}):l.jsx(jA,{});return l.jsxs(ir,{sx:{w:"100%",h:"100%",gridTemplateColumns:"1fr 1fr",borderRadius:"base",bg:"base.850"},children:[l.jsx(L,{sx:{...X0,paddingInlineEnd:2},children:t}),l.jsx(L,{sx:{...X0,paddingInlineStart:2},children:l.jsx(Bb,{})})]})};var ln=(e=>(e[e.PROMPT=0]="PROMPT",e[e.GALLERY=1]="GALLERY",e[e.OTHER=2]="OTHER",e[e.SEED=3]="SEED",e[e.VARIATIONS=4]="VARIATIONS",e[e.UPSCALE=5]="UPSCALE",e[e.FACE_CORRECTION=6]="FACE_CORRECTION",e[e.IMAGE_TO_IMAGE=7]="IMAGE_TO_IMAGE",e[e.BOUNDING_BOX=8]="BOUNDING_BOX",e[e.SEAM_CORRECTION=9]="SEAM_CORRECTION",e[e.INFILL_AND_SCALING=10]="INFILL_AND_SCALING",e))(ln||{});const VA=()=>{const{t:e}=K();return g.useMemo(()=>({[0]:{text:e("tooltip.feature.prompt"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[1]:{text:e("tooltip.feature.gallery"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[2]:{text:e("tooltip.feature.other"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[3]:{text:e("tooltip.feature.seed"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[4]:{text:e("tooltip.feature.variations"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[5]:{text:e("tooltip.feature.upscale"),href:"link/to/docs/feature1.html",guideImage:"asset/path.gif"},[6]:{text:e("tooltip.feature.faceCorrection"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[7]:{text:e("tooltip.feature.imageToImage"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[8]:{text:e("tooltip.feature.boundingBox"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[9]:{text:e("tooltip.feature.seamCorrection"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"},[10]:{text:e("tooltip.feature.infillAndScaling"),href:"link/to/docs/feature3.html",guideImage:"asset/path.gif"}}),[e])},UA=e=>VA()[e];function Hb(){const e=A(o=>o.system.isGFPGANAvailable),t=A(o=>o.postprocessing.shouldRunFacetool),n=Y(),r=o=>n(k3(o.target.checked));return l.jsx(En,{isDisabled:!e,isChecked:t,onChange:r})}const Wb=()=>{const e=Y(),t=A(o=>o.generation.seamless),n=o=>e(B1(o.target.checked)),{t:r}=K();return l.jsx(En,{label:r("parameters.seamlessTiling"),fontSize:"md",isChecked:t,onChange:n})},$A=()=>l.jsx(Fe,{gap:2,alignItems:"stretch",children:l.jsx(Wb,{})});function bp(){const e=A(s=>s.generation.horizontalSymmetrySteps),t=A(s=>s.generation.verticalSymmetrySteps),n=A(s=>s.generation.steps),r=Y(),{t:o}=K();return l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(ut,{label:o("parameters.hSymmetryStep"),value:e,onChange:s=>r(Ov(s)),min:0,max:n,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>r(Ov(0))}),l.jsx(ut,{label:o("parameters.vSymmetryStep"),value:t,onChange:s=>r(zv(s)),min:0,max:n,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>r(zv(0))})]})}function Sp(){const e=A(n=>n.generation.shouldUseSymmetry),t=Y();return l.jsx(En,{isChecked:e,onChange:n=>t(E3(n.target.checked))})}function GA(){const e=Y(),t=A(r=>r.generation.perlin),{t:n}=K();return l.jsx(ut,{label:n("parameters.perlinNoise"),min:0,max:1,step:.05,onChange:r=>e(rf(r)),handleReset:()=>e(rf(0)),value:t,withInput:!0,withReset:!0,withSliderMarks:!0})}function qA(){const e=Y(),{t}=K(),n=A(o=>o.generation.shouldRandomizeSeed),r=o=>e(P3(o.target.checked));return l.jsx(En,{label:t("parameters.randomizeSeed"),isChecked:n,onChange:r})}function YA(){const e=Y(),t=A(o=>o.generation.shouldRandomizeSeed),{t:n}=K(),r=()=>e(ss(I3(G1,$1)));return l.jsx(ri,{size:"sm",isDisabled:t,onClick:r,padding:"0 1.5rem",children:l.jsx("p",{children:n("parameters.shuffle")})})}function KA(){const e=A(c=>c.generation.seed),t=A(c=>c.generation.shouldRandomizeSeed),n=A(c=>c.generation.shouldGenerateVariations),{t:r}=K(),o=Y(),s=c=>o(ss(c));return l.jsxs(ia,{gap:2,children:[l.jsx(Vr,{label:r("parameters.seed"),step:1,precision:0,flexGrow:1,min:G1,max:$1,isDisabled:t,isInvalid:e<0&&n,onChange:s,value:e,formControlProps:{display:"flex",alignItems:"center",gap:3}}),l.jsx(YA,{})]})}function XA(){const e=Y(),t=A(r=>r.generation.threshold),{t:n}=K();return l.jsx(ut,{label:n("parameters.noiseThreshold"),min:0,max:20,step:.1,onChange:r=>e(nf(r)),handleReset:()=>e(nf(0)),value:t,withInput:!0,withReset:!0,withSliderMarks:!0})}const Cp=()=>l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(qA,{}),l.jsx(KA,{}),l.jsx(XA,{}),l.jsx(GA,{})]});function Vb(){const e=A(o=>o.system.isESRGANAvailable),t=A(o=>o.postprocessing.shouldRunESRGAN),n=Y(),r=o=>n(M3(o.target.checked));return l.jsx(En,{isDisabled:!e,isChecked:t,onChange:r})}function wp(){const e=A(r=>r.generation.shouldGenerateVariations),t=Y(),n=r=>t(T3(r.target.checked));return l.jsx(En,{isChecked:e,width:"auto",onChange:n})}function QA(){const e=A(s=>s.generation.seedWeights),t=A(s=>s.generation.shouldGenerateVariations),{t:n}=K(),r=Y(),o=s=>r(L1(s.target.value));return l.jsx(mt,{label:n("parameters.seedWeights"),value:e,isInvalid:t&&!(q1(e)||e===""),isDisabled:!t,onChange:o})}function ZA(){const e=A(o=>o.generation.variationAmount),t=A(o=>o.generation.shouldGenerateVariations),{t:n}=K(),r=Y();return l.jsx(ut,{label:n("parameters.variationAmount"),value:e,step:.01,min:0,max:1,isSliderDisabled:!t,isInputDisabled:!t,isResetDisabled:!t,onChange:o=>r(Rv(o)),handleReset:()=>r(Rv(.1)),withInput:!0,withReset:!0,withSliderMarks:!0})}const jp=()=>l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(ZA,{}),l.jsx(QA,{})]});function Q0(){const e=Y(),t=A(s=>s.generation.cfgScale),n=A(s=>s.ui.shouldUseSliders),{t:r}=K(),o=s=>e(af(s));return n?l.jsx(ut,{label:r("parameters.cfgScale"),step:.5,min:1.01,max:30,onChange:o,handleReset:()=>e(af(7.5)),value:t,sliderNumberInputProps:{max:200},withInput:!0,withReset:!0,withSliderMarks:!0}):l.jsx(Vr,{label:r("parameters.cfgScale"),step:.5,min:1.01,max:200,onChange:o,value:t,isInteger:!1,numberInputFieldProps:{textAlign:"center"}})}function Z0(){const e=A(s=>s.generation.height),t=A(s=>s.ui.shouldUseSliders),n=A(bt),r=Y(),{t:o}=K();return t?l.jsx(ut,{isSliderDisabled:n==="unifiedCanvas",isInputDisabled:n==="unifiedCanvas",isResetDisabled:n==="unifiedCanvas",label:o("parameters.height"),value:e,min:64,step:64,max:2048,onChange:s=>r(Bl(s)),handleReset:()=>r(Bl(512)),withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:15360}}):l.jsx(Mn,{isDisabled:n==="unifiedCanvas",label:o("parameters.height"),value:e,flexGrow:1,onChange:s=>r(Bl(Number(s.target.value))),validValues:_3})}function J0(){const e=A(s=>s.generation.iterations),t=A(s=>s.ui.shouldUseSliders),n=Y(),{t:r}=K(),o=s=>n(Nv(s));return t?l.jsx(ut,{label:r("parameters.images"),step:1,min:1,max:16,onChange:o,handleReset:()=>n(Nv(1)),value:e,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:9999}}):l.jsx(Vr,{label:r("parameters.images"),step:1,min:1,max:9999,onChange:o,value:e,numberInputFieldProps:{textAlign:"center"}})}function e1(){const e=A(s=>s.generation.sampler),t=A(Qx),n=Y(),{t:r}=K(),o=s=>n(F1(s.target.value));return l.jsx(Mn,{label:r("parameters.sampler"),value:e,onChange:o,validValues:t.format==="diffusers"?D3:A3,minWidth:36})}function t1(){const e=Y(),t=A(c=>c.generation.steps),n=A(c=>c.ui.shouldUseSliders),{t:r}=K(),o=c=>{e(of(c))},s=()=>{e(Y1())};return n?l.jsx(ut,{label:r("parameters.steps"),min:1,step:1,onChange:o,handleReset:()=>e(of(20)),value:t,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:9999}}):l.jsx(Vr,{label:r("parameters.steps"),min:1,max:9999,step:1,onChange:o,value:t,numberInputFieldProps:{textAlign:"center"},onBlur:s})}function n1(){const e=A(s=>s.generation.width),t=A(s=>s.ui.shouldUseSliders),n=A(bt),{t:r}=K(),o=Y();return t?l.jsx(ut,{isSliderDisabled:n==="unifiedCanvas",isInputDisabled:n==="unifiedCanvas",isResetDisabled:n==="unifiedCanvas",label:r("parameters.width"),value:e,min:64,step:64,max:2048,onChange:s=>o(Ll(s)),handleReset:()=>o(Ll(512)),withInput:!0,withReset:!0,withSliderMarks:!0,inputReadOnly:!0,sliderNumberInputProps:{max:15360}}):l.jsx(Mn,{isDisabled:n==="unifiedCanvas",label:r("parameters.width"),value:e,flexGrow:1,onChange:s=>o(Ll(Number(s.target.value))),validValues:O3})}function kp(){return A(t=>t.ui.shouldUseSliders)?l.jsxs(Fe,{gap:2,children:[l.jsx(J0,{}),l.jsx(t1,{}),l.jsx(Q0,{}),l.jsx(n1,{}),l.jsx(Z0,{}),l.jsx(e1,{})]}):l.jsxs(L,{rowGap:2,flexDirection:"column",children:[l.jsxs(L,{columnGap:1,children:[l.jsx(J0,{}),l.jsx(t1,{}),l.jsx(Q0,{})]}),l.jsxs(L,{columnGap:1,children:[l.jsx(n1,{}),l.jsx(Z0,{}),l.jsx(e1,{})]})]})}const JA=me(Et,e=>e.shouldDisplayGuides),eO=({children:e,feature:t})=>{const n=A(JA),{text:r}=UA(t);return n?l.jsxs($h,{trigger:"hover",isLazy:!0,children:[l.jsx(Uh,{children:l.jsx(Ye,{children:e})}),l.jsxs(qh,{maxWidth:"400px",onClick:o=>o.preventDefault(),cursor:"initial",children:[l.jsx(Gh,{}),l.jsx(ex,{children:r})]})]}):null},tO=g.memo(eO),nO=fe(({feature:e,icon:t=$D},n)=>l.jsx(tO,{feature:e,children:l.jsx(Ye,{ref:n,children:l.jsx(tn,{marginBottom:"-.15rem",as:t})})})),rO=g.memo(nO);function oO(e){const{header:t,feature:n,content:r,additionalHeaderComponents:o}=e;return l.jsxs(Ri,{children:[l.jsx(Oi,{children:l.jsxs(L,{width:"100%",gap:2,align:"center",children:[l.jsx(Ye,{flexGrow:1,textAlign:"start",children:t}),o,n&&l.jsx(rO,{feature:n}),l.jsx(zi,{})]})}),l.jsx(Ni,{children:r})]})}const Ep=e=>{const{accordionInfo:t}=e,n=A(c=>c.system.openAccordions),r=Y(),o=c=>r(z3(c)),s=()=>{const c=[];return t&&Object.keys(t).forEach(u=>{const{header:f,feature:p,content:h,additionalHeaderComponents:y}=t[u];c.push(l.jsx(oO,{header:f,feature:p,content:h,additionalHeaderComponents:y},u))}),c};return l.jsx(ah,{defaultIndex:n,allowMultiple:!0,reduceMotion:!0,onChange:o,sx:{display:"flex",flexDirection:"column",gap:2},children:s()})},iO=e=>{const{menuType:t="icon",iconTooltip:n,buttonText:r,isLazy:o=!0,menuItems:s,menuProps:c,menuButtonProps:u,menuListProps:f,menuItemProps:p}=e,h=()=>{const y=[];return s.forEach((x,S)=>{y.push(l.jsx(gr,{onClick:x.onClick,fontSize:"sm",...p,children:x.item},S))}),y};return l.jsx(Oh,{...c,isLazy:o,children:({isOpen:y})=>l.jsxs(l.Fragment,{children:[l.jsx(Rh,{as:t==="icon"?ho:ri,tooltip:n,"aria-label":n,icon:y?l.jsx(eA,{}):l.jsx(JD,{}),paddingX:0,paddingY:t==="regular"?2:0,...u,children:t==="regular"&&r}),l.jsx(zh,{zIndex:15,padding:0,...f,children:h()})]})})},aO=g.memo(iO),sO=me(Et,e=>({isProcessing:e.isProcessing,isConnected:e.isConnected,isCancelable:e.isCancelable,currentIteration:e.currentIteration,totalIterations:e.totalIterations,cancelType:e.cancelOptions.cancelType,cancelAfter:e.cancelOptions.cancelAfter}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),lO=e=>{const t=Y(),{btnGroupWidth:n="auto",...r}=e,{isProcessing:o,isConnected:s,isCancelable:c,currentIteration:u,totalIterations:f,cancelType:p,cancelAfter:h}=A(sO),y=g.useCallback(()=>{t(R3()),t(hd(null))},[t]),{t:x}=K(),S=h!==null;de("shift+x",()=>{(s||o)&&c&&y()},[s,o,c]),g.useEffect(()=>{h!==null&&h<u&&y()},[h,u,y]);const C=[{item:x("parameters.cancel.immediate"),onClick:()=>t(Fv("immediate"))},{item:x("parameters.cancel.schedule"),onClick:()=>t(Fv("scheduled"))}];return l.jsxs(Qt,{isAttached:!0,width:n,children:[p==="immediate"?l.jsx(se,{icon:l.jsx(tA,{}),tooltip:x("parameters.cancel.immediate"),"aria-label":x("parameters.cancel.immediate"),isDisabled:!s||!o||!c,onClick:y,colorScheme:"error",...r}):l.jsx(se,{icon:S?l.jsx(nc,{}):l.jsx(UD,{}),tooltip:x(S?"parameters.cancel.isScheduled":"parameters.cancel.schedule"),"aria-label":x(S?"parameters.cancel.isScheduled":"parameters.cancel.schedule"),isDisabled:!s||!o||!c||u===f,onClick:()=>{t(S?hd(null):hd(u))},colorScheme:"error",...r}),l.jsx(aO,{menuItems:C,iconTooltip:x("parameters.cancel.setType"),menuButtonProps:{colorScheme:"error",minWidth:5}})]})},Pp=g.memo(lO),tt=e=>e.canvas,Ot=me([tt,bt,Et],(e,t,n)=>e.layerState.stagingArea.images.length>0||t==="unifiedCanvas"&&n.isProcessing),Ub=e=>e.canvas.layerState.objects.find(K1),Ip=e=>e.generation;me(Ip,({shouldRandomizeSeed:e,shouldGenerateVariations:t})=>e||t,{memoizeOptions:{resultEqualityCheck:ee.isEqual}});const $b=me([Ip,Et,Ub,bt],(e,t,n,r)=>{const{prompt:o,shouldGenerateVariations:s,seedWeights:c,initialImage:u,seed:f}=e,{isProcessing:p,isConnected:h}=t;let y=!0;const x=[];return(!o||Boolean(o.match(/^[\s\r\n]+$/)))&&(y=!1,x.push("Missing prompt")),r==="img2img"&&!u&&(y=!1,x.push("No initial image selected")),p&&(y=!1,x.push("System Busy")),h||(y=!1,x.push("System Disconnected")),s&&(!(q1(c)||c==="")||f===-1)&&(y=!1,x.push("Seed-Weights badly formatted.")),{isReady:y,reasonsWhyNotReady:x}},{memoizeOptions:{equalityCheck:ee.isEqual,resultEqualityCheck:ee.isEqual}});function Mp(e){const{iconButton:t=!1,...n}=e,r=Y(),{isReady:o}=A($b),s=A(bt),c=()=>{r(lf(s))},{t:u}=K();return de(["ctrl+enter","meta+enter"],()=>{r(Y1()),r(lf(s))},{enabled:()=>o,preventDefault:!0,enableOnFormTags:["input","textarea","select"]},[o,s]),l.jsx(Ye,{style:{flexGrow:4},children:t?l.jsx(se,{"aria-label":u("parameters.invoke"),type:"submit",icon:l.jsx(G9,{}),isDisabled:!o,onClick:c,flexGrow:1,w:"100%",tooltip:u("parameters.invoke"),tooltipProps:{placement:"bottom"},colorScheme:"accent",...n}):l.jsx(Xe,{"aria-label":u("parameters.invoke"),type:"submit",isDisabled:!o,onClick:c,flexGrow:1,w:"100%",colorScheme:"accent",fontWeight:700,...n,children:"Invoke"})})}const cO=me(gp,({shouldLoopback:e})=>e),uO=()=>{const e=Y(),t=A(cO),{t:n}=K();return l.jsx(se,{"aria-label":n("parameters.toggleLoopback"),tooltip:n("parameters.toggleLoopback"),isChecked:t,icon:l.jsx(Y9,{}),onClick:()=>{e(N3(!t))}})},Tp=()=>{const e=A(bt);return l.jsxs(L,{gap:2,children:[l.jsx(Mp,{}),e==="img2img"&&l.jsx(uO,{}),l.jsx(Pp,{})]})},_p=()=>{const e=A(r=>r.generation.negativePrompt),t=Y(),{t:n}=K();return l.jsx(rt,{children:l.jsx(Yh,{id:"negativePrompt",name:"negativePrompt",value:e,onChange:r=>t(z1(r.target.value)),placeholder:n("parameters.negativePrompts"),_focusVisible:{borderColor:"error.600"},fontSize:"sm"})})},dO=me([e=>e.generation,bt],(e,t)=>({prompt:e.prompt,activeTabName:t}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Dp=()=>{const e=Y(),{prompt:t,activeTabName:n}=A(dO),{isReady:r}=A($b),o=g.useRef(null),{t:s}=K(),c=f=>{e(O1(f.target.value))};de("alt+a",()=>{var f;(f=o.current)==null||f.focus()},[]);const u=f=>{f.key==="Enter"&&f.shiftKey===!1&&r&&(f.preventDefault(),e(lf(n)))};return l.jsx(Ye,{children:l.jsx(rt,{isInvalid:t.length===0||Boolean(t.match(/^[\s\r\n]+$/)),children:l.jsx(Yh,{id:"prompt",name:"prompt",placeholder:s("parameters.promptPlaceholder"),value:t,onChange:c,onKeyDown:u,resize:"vertical",ref:o,minH:40})})})};function fO(){const e=Y(),t=A(o=>o.generation.shouldFitToWidthHeight),n=o=>e(W1(o.target.checked)),{t:r}=K();return l.jsx(En,{label:r("parameters.imageFit"),isChecked:t,onChange:n})}function Gb(e){const{t}=K(),{label:n=`${t("parameters.strength")}`}=e,r=A(u=>u.generation.img2imgStrength),o=Y(),s=u=>o(sf(u)),c=()=>{o(sf(.75))};return l.jsx(ut,{label:n,step:.01,min:.01,max:1,onChange:s,value:r,isInteger:!1,withInput:!0,withSliderMarks:!0,inputWidth:22,withReset:!0,handleReset:c})}function hO(){const{t:e}=K();return l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(Gb,{label:e("parameters.img2imgStrength")}),l.jsx(fO,{})]})}const pO=()=>{const{t:e}=K(),t={general:{header:`${e("parameters.general")}`,feature:void 0,content:l.jsx(kp,{})},imageToImage:{header:`${e("parameters.imageToImage")}`,feature:void 0,content:l.jsx(hO,{})},seed:{header:`${e("parameters.seed")}`,feature:ln.SEED,content:l.jsx(Cp,{})},variations:{header:`${e("parameters.variations")}`,feature:ln.VARIATIONS,content:l.jsx(jp,{}),additionalHeaderComponents:l.jsx(wp,{})},face_restore:{header:`${e("parameters.faceRestoration")}`,feature:ln.FACE_CORRECTION,content:l.jsx(mp,{}),additionalHeaderComponents:l.jsx(Hb,{})},upscale:{header:`${e("parameters.upscaling")}`,feature:ln.UPSCALE,content:l.jsx(vp,{}),additionalHeaderComponents:l.jsx(Vb,{})},symmetry:{header:`${e("parameters.symmetry")}`,content:l.jsx(bp,{}),additionalHeaderComponents:l.jsx(Sp,{})},other:{header:`${e("parameters.otherOptions")}`,feature:ln.OTHER,content:l.jsx($A,{})}};return l.jsxs(L,{flexDir:"column",gap:2,position:"relative",children:[l.jsx(Dp,{}),l.jsx(_p,{}),l.jsx(Tp,{}),l.jsx(Ep,{accordionInfo:t})]})},mO=g.memo(pO);function vO(){return l.jsx(pp,{parametersPanelContent:l.jsx(mO,{}),children:l.jsx(WA,{})})}const gO=()=>l.jsx(Ye,{sx:{width:"100%",height:"100%",borderRadius:"base",bg:"base.850"},children:l.jsx(L,{sx:{p:4,width:"100%",height:"100%"},children:l.jsx(Bb,{})})}),yO=me([gp],({hiresFix:e,hiresStrength:t})=>({hiresFix:e,hiresStrength:t}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),xO=()=>{const{hiresFix:e,hiresStrength:t}=A(yO),n=Y(),{t:r}=K(),o=c=>{n(Lv(c))},s=()=>{n(Lv(.75))};return l.jsx(ut,{label:r("parameters.hiresStrength"),step:.01,min:.01,max:.99,onChange:o,value:t,isInteger:!1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:s,isSliderDisabled:!e,isInputDisabled:!e,isResetDisabled:!e})},bO=()=>{const e=Y(),t=A(o=>o.postprocessing.hiresFix),{t:n}=K(),r=o=>e(H1(o.target.checked));return l.jsx(En,{label:n("parameters.hiresOptim"),fontSize:"md",isChecked:t,onChange:r})},SO=()=>l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(Wb,{}),l.jsx(bO,{}),l.jsx(xO,{})]}),CO=()=>{const{t:e}=K(),t={general:{header:`${e("parameters.general")}`,feature:void 0,content:l.jsx(kp,{})},seed:{header:`${e("parameters.seed")}`,feature:ln.SEED,content:l.jsx(Cp,{})},variations:{header:`${e("parameters.variations")}`,feature:ln.VARIATIONS,content:l.jsx(jp,{}),additionalHeaderComponents:l.jsx(wp,{})},face_restore:{header:`${e("parameters.faceRestoration")}`,feature:ln.FACE_CORRECTION,content:l.jsx(mp,{}),additionalHeaderComponents:l.jsx(Hb,{})},upscale:{header:`${e("parameters.upscaling")}`,feature:ln.UPSCALE,content:l.jsx(vp,{}),additionalHeaderComponents:l.jsx(Vb,{})},symmetry:{header:`${e("parameters.symmetry")}`,content:l.jsx(bp,{}),additionalHeaderComponents:l.jsx(Sp,{})},other:{header:`${e("parameters.otherOptions")}`,feature:ln.OTHER,content:l.jsx(SO,{})}};return l.jsxs(L,{flexDir:"column",gap:2,children:[l.jsx(Dp,{}),l.jsx(_p,{}),l.jsx(Tp,{}),l.jsx(Ep,{accordionInfo:t})]})},wO=g.memo(CO);function jO(){return l.jsx(pp,{parametersPanelContent:l.jsx(wO,{}),children:l.jsx(gO,{})})}var Gf={},kO={get exports(){return Gf},set exports(e){Gf=e}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO=function(t){var n={},r=g,o=Hl,s=Object.assign;function c(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),p=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}function _(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case h:return"Fragment";case p:return"Portal";case x:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Consumer";case S:return(i._context.displayName||"Context")+".Provider";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:_(i.type)||"Memo";case P:a=i._payload,i=i._init;try{return _(i(a))}catch{}}return null}function R(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(a);case 8:return a===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function V(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function F(i){if(V(i)!==i)throw Error(c(188))}function B(i){var a=i.alternate;if(!a){if(a=V(i),a===null)throw Error(c(188));return a!==i?null:i}for(var d=i,m=a;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return F(v),i;if(b===m)return F(v),a;b=b.sibling}throw Error(c(188))}if(d.return!==m.return)d=v,m=b;else{for(var E=!1,O=v.child;O;){if(O===d){E=!0,d=v,m=b;break}if(O===m){E=!0,m=v,d=b;break}O=O.sibling}if(!E){for(O=b.child;O;){if(O===d){E=!0,d=b,m=v;break}if(O===m){E=!0,m=b,d=v;break}O=O.sibling}if(!E)throw Error(c(189))}}if(d.alternate!==m)throw Error(c(190))}if(d.tag!==3)throw Error(c(188));return d.stateNode.current===d?i:a}function Q(i){return i=B(i),i!==null?U(i):null}function U(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=U(i);if(a!==null)return a;i=i.sibling}return null}function X(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var a=X(i);if(a!==null)return a}i=i.sibling}return null}var te=Array.isArray,re=t.getPublicInstance,$=t.getRootHostContext,Z=t.getChildHostContext,oe=t.prepareForCommit,le=t.resetAfterCommit,ze=t.createInstance,Re=t.appendInitialChild,Ie=t.finalizeInitialChildren,pe=t.prepareUpdate,ce=t.shouldSetTextContent,Ne=t.createTextInstance,Ve=t.scheduleTimeout,Ue=t.cancelTimeout,$e=t.noTimeout,Ze=t.isPrimaryRenderer,ve=t.supportsMutation,Te=t.supportsPersistence,Ge=t.supportsHydration,ye=t.getInstanceFromNode,Pe=t.preparePortalMount,et=t.getCurrentEventPriority,Be=t.detachDeletedInstance,vt=t.supportsMicrotasks,Rt=t.scheduleMicrotask,N=t.supportsTestSelectors,ue=t.findFiberRoot,xe=t.getBoundingRect,je=t.getTextContent,q=t.isHiddenSubtree,ae=t.matchAccessibilityRole,Oe=t.setFocusIfFocusable,Je=t.setupIntersectionObserver,J=t.appendChild,Le=t.appendChildToContainer,nt=t.commitTextUpdate,Nt=t.commitMount,he=t.commitUpdate,_e=t.insertBefore,dn=t.insertInContainerBefore,Vt=t.removeChild,fn=t.removeChildFromContainer,sr=t.resetTextContent,ko=t.hideInstance,ca=t.hideTextInstance,Qc=t.unhideInstance,ua=t.unhideTextInstance,Eo=t.clearContainer,I4=t.cloneInstance,Bp=t.createContainerChildSet,Hp=t.appendChildToContainerChildSet,M4=t.finalizeContainerChildren,Zc=t.replaceContainerChildren,Wp=t.cloneHiddenInstance,Vp=t.cloneHiddenTextInstance,T4=t.canHydrateInstance,_4=t.canHydrateTextInstance,D4=t.canHydrateSuspenseInstance,Up=t.isSuspenseInstancePending,Jc=t.isSuspenseInstanceFallback,A4=t.getSuspenseInstanceFallbackErrorDetails,O4=t.registerSuspenseInstanceRetry,js=t.getNextHydratableSibling,z4=t.getFirstHydratableChild,R4=t.getFirstHydratableChildWithinContainer,N4=t.getFirstHydratableChildWithinSuspenseInstance,F4=t.hydrateInstance,L4=t.hydrateTextInstance,B4=t.hydrateSuspenseInstance,H4=t.getNextHydratableInstanceAfterSuspenseInstance,W4=t.commitHydratedContainer,V4=t.commitHydratedSuspenseInstance,U4=t.clearSuspenseBoundary,$4=t.clearSuspenseBoundaryFromContainer,G4=t.shouldDeleteUnhydratedTailInstances,q4=t.didNotMatchHydratedContainerTextInstance,Y4=t.didNotMatchHydratedTextInstance,eu;function da(i){if(eu===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);eu=a&&a[1]||""}return`
`+eu+i}var tu=!1;function nu(i,a){if(!i||tu)return"";tu=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var m=ie}Reflect.construct(i,[],a)}else{try{a.call()}catch(ie){m=ie}i.call(a.prototype)}else{try{throw Error()}catch(ie){m=ie}i()}}catch(ie){if(ie&&m&&typeof ie.stack=="string"){for(var v=ie.stack.split(`
`),b=m.stack.split(`
`),E=v.length-1,O=b.length-1;1<=E&&0<=O&&v[E]!==b[O];)O--;for(;1<=E&&0<=O;E--,O--)if(v[E]!==b[O]){if(E!==1||O!==1)do if(E--,O--,0>O||v[E]!==b[O]){var W=`
`+v[E].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=E&&0<=O);break}}}finally{tu=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?da(i):""}var K4=Object.prototype.hasOwnProperty,ru=[],ui=-1;function Yr(i){return{current:i}}function St(i){0>ui||(i.current=ru[ui],ru[ui]=null,ui--)}function gt(i,a){ui++,ru[ui]=i.current,i.current=a}var Kr={},nn=Yr(Kr),yn=Yr(!1),Po=Kr;function di(i,a){var d=i.type.contextTypes;if(!d)return Kr;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in d)v[b]=a[b];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=v),v}function xn(i){return i=i.childContextTypes,i!=null}function ks(){St(yn),St(nn)}function $p(i,a,d){if(nn.current!==Kr)throw Error(c(168));gt(nn,a),gt(yn,d)}function Gp(i,a,d){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(c(108,R(i)||"Unknown",v));return s({},d,m)}function Es(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Kr,Po=nn.current,gt(nn,i),gt(yn,yn.current),!0}function qp(i,a,d){var m=i.stateNode;if(!m)throw Error(c(169));d?(i=Gp(i,a,Po),m.__reactInternalMemoizedMergedChildContext=i,St(yn),St(nn),gt(nn,i)):St(yn),gt(yn,d)}var Gn=Math.clz32?Math.clz32:Z4,X4=Math.log,Q4=Math.LN2;function Z4(i){return i>>>=0,i===0?32:31-(X4(i)/Q4|0)|0}var Ps=64,Is=4194304;function fa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ms(i,a){var d=i.pendingLanes;if(d===0)return 0;var m=0,v=i.suspendedLanes,b=i.pingedLanes,E=d&268435455;if(E!==0){var O=E&~v;O!==0?m=fa(O):(b&=E,b!==0&&(m=fa(b)))}else E=d&~v,E!==0?m=fa(E):b!==0&&(m=fa(b));if(m===0)return 0;if(a!==0&&a!==m&&!(a&v)&&(v=m&-m,b=a&-a,v>=b||v===16&&(b&4194240)!==0))return a;if(m&4&&(m|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)d=31-Gn(a),v=1<<d,m|=i[d],a&=~v;return m}function J4(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(i,a){for(var d=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes;0<b;){var E=31-Gn(b),O=1<<E,W=v[E];W===-1?(!(O&d)||O&m)&&(v[E]=J4(O,a)):W<=a&&(i.expiredLanes|=O),b&=~O}}function ou(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Yp(){var i=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),i}function iu(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function ha(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Gn(a),i[a]=d}function tS(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<d;){var v=31-Gn(d),b=1<<v;a[v]=0,m[v]=-1,i[v]=-1,d&=~b}}function au(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var m=31-Gn(d),v=1<<m;v&a|i[m]&a&&(i[m]|=a),d&=~v}}var ot=0;function Kp(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var su=o.unstable_scheduleCallback,Xp=o.unstable_cancelCallback,nS=o.unstable_shouldYield,rS=o.unstable_requestPaint,qt=o.unstable_now,lu=o.unstable_ImmediatePriority,oS=o.unstable_UserBlockingPriority,cu=o.unstable_NormalPriority,iS=o.unstable_IdlePriority,Ts=null,lr=null;function aS(i){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ts,i,void 0,(i.current.flags&128)===128)}catch{}}function sS(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var qn=typeof Object.is=="function"?Object.is:sS,Mr=null,_s=!1,uu=!1;function Qp(i){Mr===null?Mr=[i]:Mr.push(i)}function lS(i){_s=!0,Qp(i)}function cr(){if(!uu&&Mr!==null){uu=!0;var i=0,a=ot;try{var d=Mr;for(ot=1;i<d.length;i++){var m=d[i];do m=m(!0);while(m!==null)}Mr=null,_s=!1}catch(v){throw Mr!==null&&(Mr=Mr.slice(i+1)),su(lu,cr),v}finally{ot=a,uu=!1}}return null}var fi=[],hi=0,Ds=null,As=0,Dn=[],An=0,Io=null,Tr=1,_r="";function Mo(i,a){fi[hi++]=As,fi[hi++]=Ds,Ds=i,As=a}function Zp(i,a,d){Dn[An++]=Tr,Dn[An++]=_r,Dn[An++]=Io,Io=i;var m=Tr;i=_r;var v=32-Gn(m)-1;m&=~(1<<v),d+=1;var b=32-Gn(a)+v;if(30<b){var E=v-v%5;b=(m&(1<<E)-1).toString(32),m>>=E,v-=E,Tr=1<<32-Gn(a)+v|d<<v|m,_r=b+i}else Tr=1<<b|d<<v|m,_r=i}function du(i){i.return!==null&&(Mo(i,1),Zp(i,1,0))}function fu(i){for(;i===Ds;)Ds=fi[--hi],fi[hi]=null,As=fi[--hi],fi[hi]=null;for(;i===Io;)Io=Dn[--An],Dn[An]=null,_r=Dn[--An],Dn[An]=null,Tr=Dn[--An],Dn[An]=null}var Tn=null,On=null,Pt=!1,pa=!1,Yn=null;function Jp(i,a){var d=Ln(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function em(i,a){switch(i.tag){case 5:return a=T4(a,i.type,i.pendingProps),a!==null?(i.stateNode=a,Tn=i,On=z4(a),!0):!1;case 6:return a=_4(a,i.pendingProps),a!==null?(i.stateNode=a,Tn=i,On=null,!0):!1;case 13:if(a=D4(a),a!==null){var d=Io!==null?{id:Tr,overflow:_r}:null;return i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Ln(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,Tn=i,On=null,!0}return!1;default:return!1}}function hu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function pu(i){if(Pt){var a=On;if(a){var d=a;if(!em(i,a)){if(hu(i))throw Error(c(418));a=js(d);var m=Tn;a&&em(i,a)?Jp(m,d):(i.flags=i.flags&-4097|2,Pt=!1,Tn=i)}}else{if(hu(i))throw Error(c(418));i.flags=i.flags&-4097|2,Pt=!1,Tn=i}}}function tm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function Os(i){if(!Ge||i!==Tn)return!1;if(!Pt)return tm(i),Pt=!0,!1;if(i.tag!==3&&(i.tag!==5||G4(i.type)&&!ce(i.type,i.memoizedProps))){var a=On;if(a){if(hu(i))throw nm(),Error(c(418));for(;a;)Jp(i,a),a=js(a)}}if(tm(i),i.tag===13){if(!Ge)throw Error(c(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));On=H4(i)}else On=Tn?js(i.stateNode):null;return!0}function nm(){for(var i=On;i;)i=js(i)}function pi(){Ge&&(On=Tn=null,pa=Pt=!1)}function mu(i){Yn===null?Yn=[i]:Yn.push(i)}var cS=u.ReactCurrentBatchConfig;function zs(i,a){if(qn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!K4.call(a,v)||!qn(i[v],a[v]))return!1}return!0}function uS(i){switch(i.tag){case 5:return da(i.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return i=nu(i.type,!1),i;case 11:return i=nu(i.type.render,!1),i;case 1:return i=nu(i.type,!0),i;default:return""}}function Kn(i,a){if(i&&i.defaultProps){a=s({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}var Rs=Yr(null),Ns=null,mi=null,vu=null;function gu(){vu=mi=Ns=null}function rm(i,a,d){Ze?(gt(Rs,a._currentValue),a._currentValue=d):(gt(Rs,a._currentValue2),a._currentValue2=d)}function yu(i){var a=Rs.current;St(Rs),Ze?i._currentValue=a:i._currentValue2=a}function xu(i,a,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===d)break;i=i.return}}function vi(i,a){Ns=i,vu=mi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(bn=!0),i.firstContext=null)}function zn(i){var a=Ze?i._currentValue:i._currentValue2;if(vu!==i)if(i={context:i,memoizedValue:a,next:null},mi===null){if(Ns===null)throw Error(c(308));mi=i,Ns.dependencies={lanes:0,firstContext:i}}else mi=mi.next=i;return a}var To=null;function bu(i){To===null?To=[i]:To.push(i)}function om(i,a,d,m){var v=a.interleaved;return v===null?(d.next=d,bu(a)):(d.next=v.next,v.next=d),a.interleaved=d,ur(i,m)}function ur(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var Xr=!1;function Su(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function im(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Dr(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Qr(i,a,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,Qe&2){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,ur(i,d)}return v=m.interleaved,v===null?(a.next=a,bu(m)):(a.next=v.next,v.next=a),m.interleaved=a,ur(i,d)}function Fs(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,au(i,d)}}function am(i,a){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var E={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=E:b=b.next=E,d=d.next}while(d!==null);b===null?v=b=a:b=b.next=a}else v=b=a;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,effects:m.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function Ls(i,a,d,m){var v=i.updateQueue;Xr=!1;var b=v.firstBaseUpdate,E=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var W=O,ie=W.next;W.next=null,E===null?b=ie:E.next=ie,E=W;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,O=ke.lastBaseUpdate,O!==E&&(O===null?ke.firstBaseUpdate=ie:O.next=ie,ke.lastBaseUpdate=W))}if(b!==null){var He=v.baseState;E=0,ke=ie=W=null,O=b;do{var be=O.lane,Ct=O.eventTime;if((m&be)===be){ke!==null&&(ke=ke.next={eventTime:Ct,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ht=i,wn=O;switch(be=a,Ct=d,wn.tag){case 1:if(ht=wn.payload,typeof ht=="function"){He=ht.call(Ct,He,be);break e}He=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=wn.payload,be=typeof ht=="function"?ht.call(Ct,He,be):ht,be==null)break e;He=s({},He,be);break e;case 2:Xr=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,be=v.effects,be===null?v.effects=[O]:be.push(O))}else Ct={eventTime:Ct,lane:be,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ke===null?(ie=ke=Ct,W=He):ke=ke.next=Ct,E|=be;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;be=O,O=be.next,be.next=null,v.lastBaseUpdate=be,v.shared.pending=null}}while(1);if(ke===null&&(W=He),v.baseState=W,v.firstBaseUpdate=ie,v.lastBaseUpdate=ke,a=v.shared.interleaved,a!==null){v=a;do E|=v.lane,v=v.next;while(v!==a)}else b===null&&(v.shared.lanes=0);Do|=E,i.lanes=E,i.memoizedState=He}}function sm(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(c(191,v));v.call(m)}}}var lm=new r.Component().refs;function Cu(i,a,d,m){a=i.memoizedState,d=d(m,a),d=d==null?a:s({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Bs={isMounted:function(i){return(i=i._reactInternals)?V(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var m=sn(),v=eo(i),b=Dr(m,v);b.payload=a,d!=null&&(b.callback=d),a=Qr(i,b,v),a!==null&&(Fn(a,i,v,m),Fs(a,i,v))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var m=sn(),v=eo(i),b=Dr(m,v);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=Qr(i,b,v),a!==null&&(Fn(a,i,v,m),Fs(a,i,v))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=sn(),m=eo(i),v=Dr(d,m);v.tag=2,a!=null&&(v.callback=a),a=Qr(i,v,m),a!==null&&(Fn(a,i,m,d),Fs(a,i,m))}};function cm(i,a,d,m,v,b,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,E):a.prototype&&a.prototype.isPureReactComponent?!zs(d,m)||!zs(v,b):!0}function um(i,a,d){var m=!1,v=Kr,b=a.contextType;return typeof b=="object"&&b!==null?b=zn(b):(v=xn(a)?Po:nn.current,m=a.contextTypes,b=(m=m!=null)?di(i,v):Kr),a=new a(d,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bs,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=b),a}function dm(i,a,d,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==i&&Bs.enqueueReplaceState(a,a.state,null)}function wu(i,a,d,m){var v=i.stateNode;v.props=d,v.state=i.memoizedState,v.refs=lm,Su(i);var b=a.contextType;typeof b=="object"&&b!==null?v.context=zn(b):(b=xn(a)?Po:nn.current,v.context=di(i,b)),v.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Cu(i,a,b,d),v.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Bs.enqueueReplaceState(v,v.state,null),Ls(i,d,v,m),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function ma(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(c(309));var m=d.stateNode}if(!m)throw Error(c(147,i));var v=m,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(E){var O=v.refs;O===lm&&(O=v.refs={}),E===null?delete O[b]:O[b]=E},a._stringRef=b,a)}if(typeof i!="string")throw Error(c(284));if(!d._owner)throw Error(c(290,i))}return i}function Hs(i,a){throw i=Object.prototype.toString.call(a),Error(c(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function fm(i){var a=i._init;return a(i._payload)}function hm(i){function a(H,z){if(i){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function d(H,z){if(!i)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function m(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function v(H,z){return H=no(H,z),H.index=0,H.sibling=null,H}function b(H,z,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=2,z):G):(H.flags|=2,z)):(H.flags|=1048576,z)}function E(H){return i&&H.alternate===null&&(H.flags|=2),H}function O(H,z,G,Se){return z===null||z.tag!==6?(z=ud(G,H.mode,Se),z.return=H,z):(z=v(z,G),z.return=H,z)}function W(H,z,G,Se){var De=G.type;return De===h?ke(H,z,G.props.children,Se,G.key):z!==null&&(z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&fm(De)===z.type)?(Se=v(z,G.props),Se.ref=ma(H,z,G),Se.return=H,Se):(Se=hl(G.type,G.key,G.props,null,H.mode,Se),Se.ref=ma(H,z,G),Se.return=H,Se)}function ie(H,z,G,Se){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=dd(G,H.mode,Se),z.return=H,z):(z=v(z,G.children||[]),z.return=H,z)}function ke(H,z,G,Se,De){return z===null||z.tag!==7?(z=Ro(G,H.mode,Se,De),z.return=H,z):(z=v(z,G),z.return=H,z)}function He(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ud(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return G=hl(z.type,z.key,z.props,null,H.mode,G),G.ref=ma(H,null,z),G.return=H,G;case p:return z=dd(z,H.mode,G),z.return=H,z;case P:var Se=z._init;return He(H,Se(z._payload),G)}if(te(z)||D(z))return z=Ro(z,H.mode,G,null),z.return=H,z;Hs(H,z)}return null}function be(H,z,G,Se){var De=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return De!==null?null:O(H,z,""+G,Se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return G.key===De?W(H,z,G,Se):null;case p:return G.key===De?ie(H,z,G,Se):null;case P:return De=G._init,be(H,z,De(G._payload),Se)}if(te(G)||D(G))return De!==null?null:ke(H,z,G,Se,null);Hs(H,G)}return null}function Ct(H,z,G,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return H=H.get(G)||null,O(z,H,""+Se,De);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case f:return H=H.get(Se.key===null?G:Se.key)||null,W(z,H,Se,De);case p:return H=H.get(Se.key===null?G:Se.key)||null,ie(z,H,Se,De);case P:var Ke=Se._init;return Ct(H,z,G,Ke(Se._payload),De)}if(te(Se)||D(Se))return H=H.get(G)||null,ke(z,H,Se,De,null);Hs(z,Se)}return null}function ht(H,z,G,Se){for(var De=null,Ke=null,We=z,it=z=0,Xt=null;We!==null&&it<G.length;it++){We.index>it?(Xt=We,We=null):Xt=We.sibling;var at=be(H,We,G[it],Se);if(at===null){We===null&&(We=Xt);break}i&&We&&at.alternate===null&&a(H,We),z=b(at,z,it),Ke===null?De=at:Ke.sibling=at,Ke=at,We=Xt}if(it===G.length)return d(H,We),Pt&&Mo(H,it),De;if(We===null){for(;it<G.length;it++)We=He(H,G[it],Se),We!==null&&(z=b(We,z,it),Ke===null?De=We:Ke.sibling=We,Ke=We);return Pt&&Mo(H,it),De}for(We=m(H,We);it<G.length;it++)Xt=Ct(We,H,it,G[it],Se),Xt!==null&&(i&&Xt.alternate!==null&&We.delete(Xt.key===null?it:Xt.key),z=b(Xt,z,it),Ke===null?De=Xt:Ke.sibling=Xt,Ke=Xt);return i&&We.forEach(function(ro){return a(H,ro)}),Pt&&Mo(H,it),De}function wn(H,z,G,Se){var De=D(G);if(typeof De!="function")throw Error(c(150));if(G=De.call(G),G==null)throw Error(c(151));for(var Ke=De=null,We=z,it=z=0,Xt=null,at=G.next();We!==null&&!at.done;it++,at=G.next()){We.index>it?(Xt=We,We=null):Xt=We.sibling;var ro=be(H,We,at.value,Se);if(ro===null){We===null&&(We=Xt);break}i&&We&&ro.alternate===null&&a(H,We),z=b(ro,z,it),Ke===null?De=ro:Ke.sibling=ro,Ke=ro,We=Xt}if(at.done)return d(H,We),Pt&&Mo(H,it),De;if(We===null){for(;!at.done;it++,at=G.next())at=He(H,at.value,Se),at!==null&&(z=b(at,z,it),Ke===null?De=at:Ke.sibling=at,Ke=at);return Pt&&Mo(H,it),De}for(We=m(H,We);!at.done;it++,at=G.next())at=Ct(We,H,it,at.value,Se),at!==null&&(i&&at.alternate!==null&&We.delete(at.key===null?it:at.key),z=b(at,z,it),Ke===null?De=at:Ke.sibling=at,Ke=at);return i&&We.forEach(function(BS){return a(H,BS)}),Pt&&Mo(H,it),De}function zr(H,z,G,Se){if(typeof G=="object"&&G!==null&&G.type===h&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case f:e:{for(var De=G.key,Ke=z;Ke!==null;){if(Ke.key===De){if(De=G.type,De===h){if(Ke.tag===7){d(H,Ke.sibling),z=v(Ke,G.props.children),z.return=H,H=z;break e}}else if(Ke.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===P&&fm(De)===Ke.type){d(H,Ke.sibling),z=v(Ke,G.props),z.ref=ma(H,Ke,G),z.return=H,H=z;break e}d(H,Ke);break}else a(H,Ke);Ke=Ke.sibling}G.type===h?(z=Ro(G.props.children,H.mode,Se,G.key),z.return=H,H=z):(Se=hl(G.type,G.key,G.props,null,H.mode,Se),Se.ref=ma(H,z,G),Se.return=H,H=Se)}return E(H);case p:e:{for(Ke=G.key;z!==null;){if(z.key===Ke)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){d(H,z.sibling),z=v(z,G.children||[]),z.return=H,H=z;break e}else{d(H,z);break}else a(H,z);z=z.sibling}z=dd(G,H.mode,Se),z.return=H,H=z}return E(H);case P:return Ke=G._init,zr(H,z,Ke(G._payload),Se)}if(te(G))return ht(H,z,G,Se);if(D(G))return wn(H,z,G,Se);Hs(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(d(H,z.sibling),z=v(z,G),z.return=H,H=z):(d(H,z),z=ud(G,H.mode,Se),z.return=H,H=z),E(H)):d(H,z)}return zr}var gi=hm(!0),pm=hm(!1),va={},Rn=Yr(va),ga=Yr(va),yi=Yr(va);function dr(i){if(i===va)throw Error(c(174));return i}function ju(i,a){gt(yi,a),gt(ga,i),gt(Rn,va),i=$(a),St(Rn),gt(Rn,i)}function xi(){St(Rn),St(ga),St(yi)}function mm(i){var a=dr(yi.current),d=dr(Rn.current);a=Z(d,i.type,a),d!==a&&(gt(ga,i),gt(Rn,a))}function ku(i){ga.current===i&&(St(Rn),St(ga))}var Tt=Yr(0);function Ws(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Up(d)||Jc(d)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Eu=[];function Pu(){for(var i=0;i<Eu.length;i++){var a=Eu[i];Ze?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}Eu.length=0}var Vs=u.ReactCurrentDispatcher,Iu=u.ReactCurrentBatchConfig,_o=0,_t=null,Ut=null,Yt=null,Us=!1,ya=!1,xa=0,dS=0;function rn(){throw Error(c(321))}function Mu(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!qn(i[d],a[d]))return!1;return!0}function Tu(i,a,d,m,v,b){if(_o=b,_t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Vs.current=i===null||i.memoizedState===null?mS:vS,i=d(m,v),ya){b=0;do{if(ya=!1,xa=0,25<=b)throw Error(c(301));b+=1,Yt=Ut=null,a.updateQueue=null,Vs.current=gS,i=d(m,v)}while(ya)}if(Vs.current=qs,a=Ut!==null&&Ut.next!==null,_o=0,Yt=Ut=_t=null,Us=!1,a)throw Error(c(300));return i}function _u(){var i=xa!==0;return xa=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?_t.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function Nn(){if(Ut===null){var i=_t.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var a=Yt===null?_t.memoizedState:Yt.next;if(a!==null)Yt=a,Ut=i;else{if(i===null)throw Error(c(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?_t.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function ba(i,a){return typeof a=="function"?a(i):a}function Du(i){var a=Nn(),d=a.queue;if(d===null)throw Error(c(311));d.lastRenderedReducer=i;var m=Ut,v=m.baseQueue,b=d.pending;if(b!==null){if(v!==null){var E=v.next;v.next=b.next,b.next=E}m.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,m=m.baseState;var O=E=null,W=null,ie=b;do{var ke=ie.lane;if((_o&ke)===ke)W!==null&&(W=W.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),m=ie.hasEagerState?ie.eagerState:i(m,ie.action);else{var He={lane:ke,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};W===null?(O=W=He,E=m):W=W.next=He,_t.lanes|=ke,Do|=ke}ie=ie.next}while(ie!==null&&ie!==b);W===null?E=m:W.next=O,qn(m,a.memoizedState)||(bn=!0),a.memoizedState=m,a.baseState=E,a.baseQueue=W,d.lastRenderedState=m}if(i=d.interleaved,i!==null){v=i;do b=v.lane,_t.lanes|=b,Do|=b,v=v.next;while(v!==i)}else v===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Au(i){var a=Nn(),d=a.queue;if(d===null)throw Error(c(311));d.lastRenderedReducer=i;var m=d.dispatch,v=d.pending,b=a.memoizedState;if(v!==null){d.pending=null;var E=v=v.next;do b=i(b,E.action),E=E.next;while(E!==v);qn(b,a.memoizedState)||(bn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,m]}function vm(){}function gm(i,a){var d=_t,m=Nn(),v=a(),b=!qn(m.memoizedState,v);if(b&&(m.memoizedState=v,bn=!0),m=m.queue,Ou(bm.bind(null,d,m,i),[i]),m.getSnapshot!==a||b||Yt!==null&&Yt.memoizedState.tag&1){if(d.flags|=2048,Sa(9,xm.bind(null,d,m,v,a),void 0,null),Kt===null)throw Error(c(349));_o&30||ym(d,a,v)}return v}function ym(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=_t.updateQueue,a===null?(a={lastEffect:null,stores:null},_t.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function xm(i,a,d,m){a.value=d,a.getSnapshot=m,Sm(a)&&Cm(i)}function bm(i,a,d){return d(function(){Sm(a)&&Cm(i)})}function Sm(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!qn(i,d)}catch{return!0}}function Cm(i){var a=ur(i,1);a!==null&&Fn(a,i,1,-1)}function wm(i){var a=fr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:i},a.queue=i,i=i.dispatch=pS.bind(null,_t,i),[a.memoizedState,i]}function Sa(i,a,d,m){return i={tag:i,create:a,destroy:d,deps:m,next:null},a=_t.updateQueue,a===null?(a={lastEffect:null,stores:null},_t.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,a.lastEffect=i)),i}function jm(){return Nn().memoizedState}function $s(i,a,d,m){var v=fr();_t.flags|=i,v.memoizedState=Sa(1|a,d,void 0,m===void 0?null:m)}function Gs(i,a,d,m){var v=Nn();m=m===void 0?null:m;var b=void 0;if(Ut!==null){var E=Ut.memoizedState;if(b=E.destroy,m!==null&&Mu(m,E.deps)){v.memoizedState=Sa(a,d,b,m);return}}_t.flags|=i,v.memoizedState=Sa(1|a,d,b,m)}function km(i,a){return $s(8390656,8,i,a)}function Ou(i,a){return Gs(2048,8,i,a)}function Em(i,a){return Gs(4,2,i,a)}function Pm(i,a){return Gs(4,4,i,a)}function Im(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Mm(i,a,d){return d=d!=null?d.concat([i]):null,Gs(4,4,Im.bind(null,a,i),d)}function zu(){}function Tm(i,a){var d=Nn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Mu(a,m[1])?m[0]:(d.memoizedState=[i,a],i)}function _m(i,a){var d=Nn();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Mu(a,m[1])?m[0]:(i=i(),d.memoizedState=[i,a],i)}function Dm(i,a,d){return _o&21?(qn(d,a)||(d=Yp(),_t.lanes|=d,Do|=d,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,bn=!0),i.memoizedState=d)}function fS(i,a){var d=ot;ot=d!==0&&4>d?d:4,i(!0);var m=Iu.transition;Iu.transition={};try{i(!1),a()}finally{ot=d,Iu.transition=m}}function Am(){return Nn().memoizedState}function hS(i,a,d){var m=eo(i);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Om(i))zm(a,d);else if(d=om(i,a,d,m),d!==null){var v=sn();Fn(d,i,m,v),Rm(d,a,m)}}function pS(i,a,d){var m=eo(i),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Om(i))zm(a,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,O=b(E,d);if(v.hasEagerState=!0,v.eagerState=O,qn(O,E)){var W=a.interleaved;W===null?(v.next=v,bu(a)):(v.next=W.next,W.next=v),a.interleaved=v;return}}catch{}finally{}d=om(i,a,v,m),d!==null&&(v=sn(),Fn(d,i,m,v),Rm(d,a,m))}}function Om(i){var a=i.alternate;return i===_t||a!==null&&a===_t}function zm(i,a){ya=Us=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Rm(i,a,d){if(d&4194240){var m=a.lanes;m&=i.pendingLanes,d|=m,a.lanes=d,au(i,d)}}var qs={readContext:zn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},mS={readContext:zn,useCallback:function(i,a){return fr().memoizedState=[i,a===void 0?null:a],i},useContext:zn,useEffect:km,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,$s(4194308,4,Im.bind(null,a,i),d)},useLayoutEffect:function(i,a){return $s(4194308,4,i,a)},useInsertionEffect:function(i,a){return $s(4,2,i,a)},useMemo:function(i,a){var d=fr();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var m=fr();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=hS.bind(null,_t,i),[m.memoizedState,i]},useRef:function(i){var a=fr();return i={current:i},a.memoizedState=i},useState:wm,useDebugValue:zu,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=wm(!1),a=i[0];return i=fS.bind(null,i[1]),fr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var m=_t,v=fr();if(Pt){if(d===void 0)throw Error(c(407));d=d()}else{if(d=a(),Kt===null)throw Error(c(349));_o&30||ym(m,a,d)}v.memoizedState=d;var b={value:d,getSnapshot:a};return v.queue=b,km(bm.bind(null,m,b,i),[i]),m.flags|=2048,Sa(9,xm.bind(null,m,b,d,a),void 0,null),d},useId:function(){var i=fr(),a=Kt.identifierPrefix;if(Pt){var d=_r,m=Tr;d=(m&~(1<<32-Gn(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=xa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=dS++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},vS={readContext:zn,useCallback:Tm,useContext:zn,useEffect:Ou,useImperativeHandle:Mm,useInsertionEffect:Em,useLayoutEffect:Pm,useMemo:_m,useReducer:Du,useRef:jm,useState:function(){return Du(ba)},useDebugValue:zu,useDeferredValue:function(i){var a=Nn();return Dm(a,Ut.memoizedState,i)},useTransition:function(){var i=Du(ba)[0],a=Nn().memoizedState;return[i,a]},useMutableSource:vm,useSyncExternalStore:gm,useId:Am,unstable_isNewReconciler:!1},gS={readContext:zn,useCallback:Tm,useContext:zn,useEffect:Ou,useImperativeHandle:Mm,useInsertionEffect:Em,useLayoutEffect:Pm,useMemo:_m,useReducer:Au,useRef:jm,useState:function(){return Au(ba)},useDebugValue:zu,useDeferredValue:function(i){var a=Nn();return Ut===null?a.memoizedState=i:Dm(a,Ut.memoizedState,i)},useTransition:function(){var i=Au(ba)[0],a=Nn().memoizedState;return[i,a]},useMutableSource:vm,useSyncExternalStore:gm,useId:Am,unstable_isNewReconciler:!1};function bi(i,a){try{var d="",m=a;do d+=uS(m),m=m.return;while(m);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:v,digest:null}}function Ru(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Nu(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var yS=typeof WeakMap=="function"?WeakMap:Map;function Nm(i,a,d){d=Dr(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){sl||(sl=!0,rd=m),Nu(i,a)},d}function Fm(i,a,d){d=Dr(-1,d),d.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;d.payload=function(){return m(v)},d.callback=function(){Nu(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Nu(i,a),typeof m!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),d}function Lm(i,a,d){var m=i.pingCache;if(m===null){m=i.pingCache=new yS;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(d)||(v.add(d),i=DS.bind(null,i,a,d),a.then(i,i))}function Bm(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Hm(i,a,d,m,v){return i.mode&1?(i.flags|=65536,i.lanes=v,i):(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Dr(-1,1),a.tag=2,Qr(d,a,1))),d.lanes|=1),i)}var xS=u.ReactCurrentOwner,bn=!1;function hn(i,a,d,m){a.child=i===null?pm(a,null,d,m):gi(a,i.child,d,m)}function Wm(i,a,d,m,v){d=d.render;var b=a.ref;return vi(a,v),m=Tu(i,a,d,m,b,v),d=_u(),i!==null&&!bn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ar(i,a,v)):(Pt&&d&&du(a),a.flags|=1,hn(i,a,m,v),a.child)}function Vm(i,a,d,m,v){if(i===null){var b=d.type;return typeof b=="function"&&!cd(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,Um(i,a,b,m,v)):(i=hl(d.type,null,m,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!(i.lanes&v)){var E=b.memoizedProps;if(d=d.compare,d=d!==null?d:zs,d(E,m)&&i.ref===a.ref)return Ar(i,a,v)}return a.flags|=1,i=no(b,m),i.ref=a.ref,i.return=a,a.child=i}function Um(i,a,d,m,v){if(i!==null){var b=i.memoizedProps;if(zs(b,m)&&i.ref===a.ref)if(bn=!1,a.pendingProps=m=b,(i.lanes&v)!==0)i.flags&131072&&(bn=!0);else return a.lanes=i.lanes,Ar(i,a,v)}return Fu(i,a,d,m,v)}function $m(i,a,d){var m=a.pendingProps,v=m.children,b=i!==null?i.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Ci,_n),_n|=d;else{if(!(d&1073741824))return i=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,gt(Ci,_n),_n|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,gt(Ci,_n),_n|=m}else b!==null?(m=b.baseLanes|d,a.memoizedState=null):m=d,gt(Ci,_n),_n|=m;return hn(i,a,v,d),a.child}function Gm(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Fu(i,a,d,m,v){var b=xn(d)?Po:nn.current;return b=di(a,b),vi(a,v),d=Tu(i,a,d,m,b,v),m=_u(),i!==null&&!bn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~v,Ar(i,a,v)):(Pt&&m&&du(a),a.flags|=1,hn(i,a,d,v),a.child)}function qm(i,a,d,m,v){if(xn(d)){var b=!0;Es(a)}else b=!1;if(vi(a,v),a.stateNode===null)Ks(i,a),um(a,d,m),wu(a,d,m,v),m=!0;else if(i===null){var E=a.stateNode,O=a.memoizedProps;E.props=O;var W=E.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=zn(ie):(ie=xn(d)?Po:nn.current,ie=di(a,ie));var ke=d.getDerivedStateFromProps,He=typeof ke=="function"||typeof E.getSnapshotBeforeUpdate=="function";He||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==m||W!==ie)&&dm(a,E,m,ie),Xr=!1;var be=a.memoizedState;E.state=be,Ls(a,m,E,v),W=a.memoizedState,O!==m||be!==W||yn.current||Xr?(typeof ke=="function"&&(Cu(a,d,ke,m),W=a.memoizedState),(O=Xr||cm(a,d,O,m,be,W,ie))?(He||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=W),E.props=m,E.state=W,E.context=ie,m=O):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{E=a.stateNode,im(i,a),O=a.memoizedProps,ie=a.type===a.elementType?O:Kn(a.type,O),E.props=ie,He=a.pendingProps,be=E.context,W=d.contextType,typeof W=="object"&&W!==null?W=zn(W):(W=xn(d)?Po:nn.current,W=di(a,W));var Ct=d.getDerivedStateFromProps;(ke=typeof Ct=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==He||be!==W)&&dm(a,E,m,W),Xr=!1,be=a.memoizedState,E.state=be,Ls(a,m,E,v);var ht=a.memoizedState;O!==He||be!==ht||yn.current||Xr?(typeof Ct=="function"&&(Cu(a,d,Ct,m),ht=a.memoizedState),(ie=Xr||cm(a,d,ie,m,be,ht,W)||!1)?(ke||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,ht,W),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,ht,W)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&be===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&be===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ht),E.props=m,E.state=ht,E.context=W,m=ie):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&be===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&be===i.memoizedState||(a.flags|=1024),m=!1)}return Lu(i,a,d,m,b,v)}function Lu(i,a,d,m,v,b){Gm(i,a);var E=(a.flags&128)!==0;if(!m&&!E)return v&&qp(a,d,!1),Ar(i,a,b);m=a.stateNode,xS.current=a;var O=E&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&E?(a.child=gi(a,i.child,null,b),a.child=gi(a,null,O,b)):hn(i,a,O,b),a.memoizedState=m.state,v&&qp(a,d,!0),a.child}function Ym(i){var a=i.stateNode;a.pendingContext?$p(i,a.pendingContext,a.pendingContext!==a.context):a.context&&$p(i,a.context,!1),ju(i,a.containerInfo)}function Km(i,a,d,m,v){return pi(),mu(v),a.flags|=256,hn(i,a,d,m),a.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Hu(i){return{baseLanes:i,cachePool:null,transitions:null}}function Xm(i,a,d){var m=a.pendingProps,v=Tt.current,b=!1,E=(a.flags&128)!==0,O;if((O=E)||(O=i!==null&&i.memoizedState===null?!1:(v&2)!==0),O?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),gt(Tt,v&1),i===null)return pu(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?Jc(i)?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(E=m.children,i=m.fallback,b?(m=a.mode,b=a.child,E={mode:"hidden",children:E},!(m&1)&&b!==null?(b.childLanes=0,b.pendingProps=E):b=pl(E,m,0,null),i=Ro(i,m,d,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=Hu(d),a.memoizedState=Bu,i):Wu(a,E));if(v=i.memoizedState,v!==null&&(O=v.dehydrated,O!==null))return bS(i,a,E,m,O,v,d);if(b){b=m.fallback,E=a.mode,v=i.child,O=v.sibling;var W={mode:"hidden",children:m.children};return!(E&1)&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=W,a.deletions=null):(m=no(v,W),m.subtreeFlags=v.subtreeFlags&14680064),O!==null?b=no(O,b):(b=Ro(b,E,d,null),b.flags|=2),b.return=a,m.return=a,m.sibling=b,a.child=m,m=b,b=a.child,E=i.child.memoizedState,E=E===null?Hu(d):{baseLanes:E.baseLanes|d,cachePool:null,transitions:E.transitions},b.memoizedState=E,b.childLanes=i.childLanes&~d,a.memoizedState=Bu,m}return b=i.child,i=b.sibling,m=no(b,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=m,a.memoizedState=null,m}function Wu(i,a){return a=pl({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Ys(i,a,d,m){return m!==null&&mu(m),gi(a,i.child,null,d),i=Wu(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function bS(i,a,d,m,v,b,E){if(d)return a.flags&256?(a.flags&=-257,m=Ru(Error(c(422))),Ys(i,a,E,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=m.fallback,v=a.mode,m=pl({mode:"visible",children:m.children},v,0,null),b=Ro(b,v,E,null),b.flags|=2,m.return=a,b.return=a,m.sibling=b,a.child=m,a.mode&1&&gi(a,i.child,null,E),a.child.memoizedState=Hu(E),a.memoizedState=Bu,b);if(!(a.mode&1))return Ys(i,a,E,null);if(Jc(v))return m=A4(v).digest,b=Error(c(419)),m=Ru(b,m,void 0),Ys(i,a,E,m);if(d=(E&i.childLanes)!==0,bn||d){if(m=Kt,m!==null){switch(E&-E){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(m.suspendedLanes|E)?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,ur(i,v),Fn(m,i,v,-1))}return ld(),m=Ru(Error(c(421))),Ys(i,a,E,m)}return Up(v)?(a.flags|=128,a.child=i.child,a=AS.bind(null,i),O4(v,a),null):(i=b.treeContext,Ge&&(On=N4(v),Tn=a,Pt=!0,Yn=null,pa=!1,i!==null&&(Dn[An++]=Tr,Dn[An++]=_r,Dn[An++]=Io,Tr=i.id,_r=i.overflow,Io=a)),a=Wu(a,m.children),a.flags|=4096,a)}function Qm(i,a,d){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),xu(i.return,a,d)}function Vu(i,a,d,m,v){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=v)}function Zm(i,a,d){var m=a.pendingProps,v=m.revealOrder,b=m.tail;if(hn(i,a,m.children,d),m=Tt.current,m&2)m=m&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qm(i,d,a);else if(i.tag===19)Qm(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(gt(Tt,m),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(d=a.child,v=null;d!==null;)i=d.alternate,i!==null&&Ws(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=a.child,a.child=null):(v=d.sibling,d.sibling=null),Vu(a,!1,v,d,b);break;case"backwards":for(d=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Ws(i)===null){a.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}Vu(a,!0,d,null,b);break;case"together":Vu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Ar(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),Do|=a.lanes,!(d&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(c(153));if(a.child!==null){for(i=a.child,d=no(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=no(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function SS(i,a,d){switch(a.tag){case 3:Ym(a),pi();break;case 5:mm(a);break;case 1:xn(a.type)&&Es(a);break;case 4:ju(a,a.stateNode.containerInfo);break;case 10:rm(a,a.type._context,a.memoizedProps.value);break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(gt(Tt,Tt.current&1),a.flags|=128,null):d&a.child.childLanes?Xm(i,a,d):(gt(Tt,Tt.current&1),i=Ar(i,a,d),i!==null?i.sibling:null);gt(Tt,Tt.current&1);break;case 19:if(m=(d&a.childLanes)!==0,i.flags&128){if(m)return Zm(i,a,d);a.flags|=128}var v=a.memoizedState;if(v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),gt(Tt,Tt.current),m)break;return null;case 22:case 23:return a.lanes=0,$m(i,a,d)}return Ar(i,a,d)}function hr(i){i.flags|=4}function Jm(i,a){if(i!==null&&i.child===a.child)return!0;if(a.flags&16)return!1;for(i=a.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var Ca,wa,Xs,Qs;if(ve)Ca=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)Re(i,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},wa=function(){},Xs=function(i,a,d,m,v){if(i=i.memoizedProps,i!==m){var b=a.stateNode,E=dr(Rn.current);d=pe(b,d,i,m,v,E),(a.updateQueue=d)&&hr(a)}},Qs=function(i,a,d,m){d!==m&&hr(a)};else if(Te){Ca=function(i,a,d,m){for(var v=a.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&m&&(b=Wp(b,v.type,v.memoizedProps,v)),Re(i,b)}else if(v.tag===6)b=v.stateNode,d&&m&&(b=Vp(b,v.memoizedProps,v)),Re(i,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)b=v.child,b!==null&&(b.return=v),Ca(i,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===a)break;for(;v.sibling===null;){if(v.return===null||v.return===a)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var ev=function(i,a,d,m){for(var v=a.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&m&&(b=Wp(b,v.type,v.memoizedProps,v)),Hp(i,b)}else if(v.tag===6)b=v.stateNode,d&&m&&(b=Vp(b,v.memoizedProps,v)),Hp(i,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)b=v.child,b!==null&&(b.return=v),ev(i,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===a)break;for(;v.sibling===null;){if(v.return===null||v.return===a)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};wa=function(i,a){var d=a.stateNode;if(!Jm(i,a)){i=d.containerInfo;var m=Bp(i);ev(m,a,!1,!1),d.pendingChildren=m,hr(a),M4(i,m)}},Xs=function(i,a,d,m,v){var b=i.stateNode,E=i.memoizedProps;if((i=Jm(i,a))&&E===m)a.stateNode=b;else{var O=a.stateNode,W=dr(Rn.current),ie=null;E!==m&&(ie=pe(O,d,E,m,v,W)),i&&ie===null?a.stateNode=b:(b=I4(b,ie,d,E,m,a,i,O),Ie(b,d,m,v,W)&&hr(a),a.stateNode=b,i?hr(a):Ca(b,a,!1,!1))}},Qs=function(i,a,d,m){d!==m?(i=dr(yi.current),d=dr(Rn.current),a.stateNode=Ne(m,i,d,a),hr(a)):a.stateNode=i.stateNode}}else wa=function(){},Xs=function(){},Qs=function(){};function ja(i,a){if(!Pt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function on(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(a)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=d,a}function CS(i,a,d){var m=a.pendingProps;switch(fu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return xn(a.type)&&ks(),on(a),null;case 3:return d=a.stateNode,xi(),St(yn),St(nn),Pu(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Os(a)?hr(a):i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Yn!==null&&(ad(Yn),Yn=null))),wa(i,a),on(a),null;case 5:ku(a),d=dr(yi.current);var v=a.type;if(i!==null&&a.stateNode!=null)Xs(i,a,v,m,d),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(c(166));return on(a),null}if(i=dr(Rn.current),Os(a)){if(!Ge)throw Error(c(175));i=F4(a.stateNode,a.type,a.memoizedProps,d,i,a,!pa),a.updateQueue=i,i!==null&&hr(a)}else{var b=ze(v,m,d,i,a);Ca(b,a,!1,!1),a.stateNode=b,Ie(b,v,m,d,i)&&hr(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(i&&a.stateNode!=null)Qs(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(c(166));if(i=dr(yi.current),d=dr(Rn.current),Os(a)){if(!Ge)throw Error(c(176));if(i=a.stateNode,d=a.memoizedProps,(m=L4(i,d,a,!pa))&&(v=Tn,v!==null))switch(v.tag){case 3:q4(v.stateNode.containerInfo,i,d,(v.mode&1)!==0);break;case 5:Y4(v.type,v.memoizedProps,v.stateNode,i,d,(v.mode&1)!==0)}m&&hr(a)}else a.stateNode=Ne(m,i,d,a)}return on(a),null;case 13:if(St(Tt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Pt&&On!==null&&a.mode&1&&!(a.flags&128))nm(),pi(),a.flags|=98560,v=!1;else if(v=Os(a),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(c(318));if(!Ge)throw Error(c(344));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(c(317));B4(v,a)}else pi(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;on(a),v=!1}else Yn!==null&&(ad(Yn),Yn=null),v=!0;if(!v)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(d=m!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(a.child.flags|=8192,a.mode&1&&(i===null||Tt.current&1?$t===0&&($t=3):ld())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return xi(),wa(i,a),i===null&&Pe(a.stateNode.containerInfo),on(a),null;case 10:return yu(a.type._context),on(a),null;case 17:return xn(a.type)&&ks(),on(a),null;case 19:if(St(Tt),v=a.memoizedState,v===null)return on(a),null;if(m=(a.flags&128)!==0,b=v.rendering,b===null)if(m)ja(v,!1);else{if($t!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(b=Ws(i),b!==null){for(a.flags|=128,ja(v,!1),i=b.updateQueue,i!==null&&(a.updateQueue=i,a.flags|=4),a.subtreeFlags=0,i=d,d=a.child;d!==null;)m=d,v=i,m.flags&=14680066,b=m.alternate,b===null?(m.childLanes=0,m.lanes=v,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=b.childLanes,m.lanes=b.lanes,m.child=b.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=b.memoizedProps,m.memoizedState=b.memoizedState,m.updateQueue=b.updateQueue,m.type=b.type,v=b.dependencies,m.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d=d.sibling;return gt(Tt,Tt.current&1|2),a.child}i=i.sibling}v.tail!==null&&qt()>nd&&(a.flags|=128,m=!0,ja(v,!1),a.lanes=4194304)}else{if(!m)if(i=Ws(b),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,i!==null&&(a.updateQueue=i,a.flags|=4),ja(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Pt)return on(a),null}else 2*qt()-v.renderingStartTime>nd&&d!==1073741824&&(a.flags|=128,m=!0,ja(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(i=v.last,i!==null?i.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=qt(),a.sibling=null,i=Tt.current,gt(Tt,m?i&1|2:i&1),a):(on(a),null);case 22:case 23:return sd(),d=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(a.flags|=8192),d&&a.mode&1?_n&1073741824&&(on(a),ve&&a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(c(156,a.tag))}function wS(i,a){switch(fu(a),a.tag){case 1:return xn(a.type)&&ks(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return xi(),St(yn),St(nn),Pu(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return ku(a),null;case 13:if(St(Tt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(c(340));pi()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return St(Tt),null;case 4:return xi(),null;case 10:return yu(a.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var Zs=!1,an=!1,jS=typeof WeakSet=="function"?WeakSet:Set,we=null;function Si(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){It(i,a,m)}else d.current=null}function Uu(i,a,d){try{d()}catch(m){It(i,a,m)}}var tv=!1;function kS(i,a){for(oe(i.containerInfo),we=a;we!==null;)if(i=we,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,we=a;else for(;we!==null;){i=we;try{var d=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var m=d.memoizedProps,v=d.memoizedState,b=i.stateNode,E=b.getSnapshotBeforeUpdate(i.elementType===i.type?m:Kn(i.type,m),v);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:ve&&Eo(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(O){It(i,i.return,O)}if(a=i.sibling,a!==null){a.return=i.return,we=a;break}we=i.return}return d=tv,tv=!1,d}function ka(i,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&i)===i){var b=v.destroy;v.destroy=void 0,b!==void 0&&Uu(a,d,b)}v=v.next}while(v!==m)}}function Js(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function $u(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=re(d);break;default:i=d}typeof a=="function"?a(i):a.current=i}}function nv(i){var a=i.alternate;a!==null&&(i.alternate=null,nv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Be(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function rv(i){return i.tag===5||i.tag===3||i.tag===4}function ov(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gu(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?dn(d,i,a):Le(d,i);else if(m!==4&&(i=i.child,i!==null))for(Gu(i,a,d),i=i.sibling;i!==null;)Gu(i,a,d),i=i.sibling}function qu(i,a,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?_e(d,i,a):J(d,i);else if(m!==4&&(i=i.child,i!==null))for(qu(i,a,d),i=i.sibling;i!==null;)qu(i,a,d),i=i.sibling}var Zt=null,Xn=!1;function pr(i,a,d){for(d=d.child;d!==null;)Yu(i,a,d),d=d.sibling}function Yu(i,a,d){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ts,d)}catch{}switch(d.tag){case 5:an||Si(d,a);case 6:if(ve){var m=Zt,v=Xn;Zt=null,pr(i,a,d),Zt=m,Xn=v,Zt!==null&&(Xn?fn(Zt,d.stateNode):Vt(Zt,d.stateNode))}else pr(i,a,d);break;case 18:ve&&Zt!==null&&(Xn?$4(Zt,d.stateNode):U4(Zt,d.stateNode));break;case 4:ve?(m=Zt,v=Xn,Zt=d.stateNode.containerInfo,Xn=!0,pr(i,a,d),Zt=m,Xn=v):(Te&&(m=d.stateNode.containerInfo,v=Bp(m),Zc(m,v)),pr(i,a,d));break;case 0:case 11:case 14:case 15:if(!an&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var b=v,E=b.destroy;b=b.tag,E!==void 0&&(b&2||b&4)&&Uu(d,a,E),v=v.next}while(v!==m)}pr(i,a,d);break;case 1:if(!an&&(Si(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(O){It(d,a,O)}pr(i,a,d);break;case 21:pr(i,a,d);break;case 22:d.mode&1?(an=(m=an)||d.memoizedState!==null,pr(i,a,d),an=m):pr(i,a,d);break;default:pr(i,a,d)}}function iv(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new jS),a.forEach(function(m){var v=OS.bind(null,i,m);d.has(m)||(d.add(m),m.then(v,v))})}}function Qn(i,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var b=i,E=a;if(ve){var O=E;e:for(;O!==null;){switch(O.tag){case 5:Zt=O.stateNode,Xn=!1;break e;case 3:Zt=O.stateNode.containerInfo,Xn=!0;break e;case 4:Zt=O.stateNode.containerInfo,Xn=!0;break e}O=O.return}if(Zt===null)throw Error(c(160));Yu(b,E,v),Zt=null,Xn=!1}else Yu(b,E,v);var W=v.alternate;W!==null&&(W.return=null),v.return=null}catch(ie){It(v,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)av(a,i),a=a.sibling}function av(i,a){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(a,i),mr(i),m&4){try{ka(3,i,i.return),Js(3,i)}catch(be){It(i,i.return,be)}try{ka(5,i,i.return)}catch(be){It(i,i.return,be)}}break;case 1:Qn(a,i),mr(i),m&512&&d!==null&&Si(d,d.return);break;case 5:if(Qn(a,i),mr(i),m&512&&d!==null&&Si(d,d.return),ve){if(i.flags&32){var v=i.stateNode;try{sr(v)}catch(be){It(i,i.return,be)}}if(m&4&&(v=i.stateNode,v!=null)){var b=i.memoizedProps;if(d=d!==null?d.memoizedProps:b,m=i.type,a=i.updateQueue,i.updateQueue=null,a!==null)try{he(v,a,m,d,b,i)}catch(be){It(i,i.return,be)}}}break;case 6:if(Qn(a,i),mr(i),m&4&&ve){if(i.stateNode===null)throw Error(c(162));v=i.stateNode,b=i.memoizedProps,d=d!==null?d.memoizedProps:b;try{nt(v,d,b)}catch(be){It(i,i.return,be)}}break;case 3:if(Qn(a,i),mr(i),m&4){if(ve&&Ge&&d!==null&&d.memoizedState.isDehydrated)try{W4(a.containerInfo)}catch(be){It(i,i.return,be)}if(Te){v=a.containerInfo,b=a.pendingChildren;try{Zc(v,b)}catch(be){It(i,i.return,be)}}}break;case 4:if(Qn(a,i),mr(i),m&4&&Te){b=i.stateNode,v=b.containerInfo,b=b.pendingChildren;try{Zc(v,b)}catch(be){It(i,i.return,be)}}break;case 13:Qn(a,i),mr(i),v=i.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(td=qt())),m&4&&iv(i);break;case 22:var E=d!==null&&d.memoizedState!==null;if(i.mode&1?(an=(d=an)||E,Qn(a,i),an=d):Qn(a,i),mr(i),m&8192){if(d=i.memoizedState!==null,(i.stateNode.isHidden=d)&&!E&&i.mode&1)for(we=i,m=i.child;m!==null;){for(a=we=m;we!==null;){E=we;var O=E.child;switch(E.tag){case 0:case 11:case 14:case 15:ka(4,E,E.return);break;case 1:Si(E,E.return);var W=E.stateNode;if(typeof W.componentWillUnmount=="function"){var ie=E,ke=E.return;try{var He=ie;W.props=He.memoizedProps,W.state=He.memoizedState,W.componentWillUnmount()}catch(be){It(ie,ke,be)}}break;case 5:Si(E,E.return);break;case 22:if(E.memoizedState!==null){cv(a);continue}}O!==null?(O.return=E,we=O):cv(a)}m=m.sibling}if(ve){e:if(m=null,ve)for(a=i;;){if(a.tag===5){if(m===null){m=a;try{v=a.stateNode,d?ko(v):Qc(a.stateNode,a.memoizedProps)}catch(be){It(i,i.return,be)}}}else if(a.tag===6){if(m===null)try{b=a.stateNode,d?ca(b):ua(b,a.memoizedProps)}catch(be){It(i,i.return,be)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;m===a&&(m=null),a=a.return}m===a&&(m=null),a.sibling.return=a.return,a=a.sibling}}}break;case 19:Qn(a,i),mr(i),m&4&&iv(i);break;case 21:break;default:Qn(a,i),mr(i)}}function mr(i){var a=i.flags;if(a&2){try{if(ve){e:{for(var d=i.return;d!==null;){if(rv(d)){var m=d;break e}d=d.return}throw Error(c(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(sr(v),m.flags&=-33);var b=ov(i);qu(i,b,v);break;case 3:case 4:var E=m.stateNode.containerInfo,O=ov(i);Gu(i,O,E);break;default:throw Error(c(161))}}}catch(W){It(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ES(i,a,d){we=i,sv(i)}function sv(i,a,d){for(var m=(i.mode&1)!==0;we!==null;){var v=we,b=v.child;if(v.tag===22&&m){var E=v.memoizedState!==null||Zs;if(!E){var O=v.alternate,W=O!==null&&O.memoizedState!==null||an;O=Zs;var ie=an;if(Zs=E,(an=W)&&!ie)for(we=v;we!==null;)E=we,W=E.child,E.tag===22&&E.memoizedState!==null?uv(v):W!==null?(W.return=E,we=W):uv(v);for(;b!==null;)we=b,sv(b),b=b.sibling;we=v,Zs=O,an=ie}lv(i)}else v.subtreeFlags&8772&&b!==null?(b.return=v,we=b):lv(i)}}function lv(i){for(;we!==null;){var a=we;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:an||Js(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!an)if(d===null)m.componentDidMount();else{var v=a.elementType===a.type?d.memoizedProps:Kn(a.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&sm(a,b,m);break;case 3:var E=a.updateQueue;if(E!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=re(a.child.stateNode);break;case 1:d=a.child.stateNode}sm(a,E,d)}break;case 5:var O=a.stateNode;d===null&&a.flags&4&&Nt(O,a.type,a.memoizedProps,a);break;case 6:break;case 4:break;case 12:break;case 13:if(Ge&&a.memoizedState===null){var W=a.alternate;if(W!==null){var ie=W.memoizedState;if(ie!==null){var ke=ie.dehydrated;ke!==null&&V4(ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}an||a.flags&512&&$u(a)}catch(He){It(a,a.return,He)}}if(a===i){we=null;break}if(d=a.sibling,d!==null){d.return=a.return,we=d;break}we=a.return}}function cv(i){for(;we!==null;){var a=we;if(a===i){we=null;break}var d=a.sibling;if(d!==null){d.return=a.return,we=d;break}we=a.return}}function uv(i){for(;we!==null;){var a=we;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Js(4,a)}catch(W){It(a,d,W)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(W){It(a,v,W)}}var b=a.return;try{$u(a)}catch(W){It(a,b,W)}break;case 5:var E=a.return;try{$u(a)}catch(W){It(a,E,W)}}}catch(W){It(a,a.return,W)}if(a===i){we=null;break}var O=a.sibling;if(O!==null){O.return=a.return,we=O;break}we=a.return}}var el=0,tl=1,nl=2,rl=3,ol=4;if(typeof Symbol=="function"&&Symbol.for){var Ea=Symbol.for;el=Ea("selector.component"),tl=Ea("selector.has_pseudo_class"),nl=Ea("selector.role"),rl=Ea("selector.test_id"),ol=Ea("selector.text")}function Ku(i){var a=ye(i);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(c(364));return a}if(i=ue(i),i===null)throw Error(c(362));return i.stateNode.current}function Xu(i,a){switch(a.$$typeof){case el:if(i.type===a.value)return!0;break;case tl:e:{a=a.value,i=[i,0];for(var d=0;d<i.length;){var m=i[d++],v=i[d++],b=a[v];if(m.tag!==5||!q(m)){for(;b!=null&&Xu(m,b);)v++,b=a[v];if(v===a.length){a=!0;break e}else for(m=m.child;m!==null;)i.push(m,v),m=m.sibling}}a=!1}return a;case nl:if(i.tag===5&&ae(i.stateNode,a.value))return!0;break;case ol:if((i.tag===5||i.tag===6)&&(i=je(i),i!==null&&0<=i.indexOf(a.value)))return!0;break;case rl:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Qu(i){switch(i.$$typeof){case el:return"<"+(_(i.value)||"Unknown")+">";case tl:return":has("+(Qu(i)||"")+")";case nl:return'[role="'+i.value+'"]';case ol:return'"'+i.value+'"';case rl:return'[data-testname="'+i.value+'"]';default:throw Error(c(365))}}function dv(i,a){var d=[];i=[i,0];for(var m=0;m<i.length;){var v=i[m++],b=i[m++],E=a[b];if(v.tag!==5||!q(v)){for(;E!=null&&Xu(v,E);)b++,E=a[b];if(b===a.length)d.push(v);else for(v=v.child;v!==null;)i.push(v,b),v=v.sibling}}return d}function Zu(i,a){if(!N)throw Error(c(363));i=Ku(i),i=dv(i,a),a=[],i=Array.from(i);for(var d=0;d<i.length;){var m=i[d++];if(m.tag===5)q(m)||a.push(m.stateNode);else for(m=m.child;m!==null;)i.push(m),m=m.sibling}return a}var PS=Math.ceil,il=u.ReactCurrentDispatcher,Ju=u.ReactCurrentOwner,Ft=u.ReactCurrentBatchConfig,Qe=0,Kt=null,Lt=null,Jt=0,_n=0,Ci=Yr(0),$t=0,Pa=null,Do=0,al=0,ed=0,Ia=null,Sn=null,td=0,nd=1/0,Or=null;function wi(){nd=qt()+500}var sl=!1,rd=null,Zr=null,ll=!1,Jr=null,cl=0,Ma=0,od=null,ul=-1,dl=0;function sn(){return Qe&6?qt():ul!==-1?ul:ul=qt()}function eo(i){return i.mode&1?Qe&2&&Jt!==0?Jt&-Jt:cS.transition!==null?(dl===0&&(dl=Yp()),dl):(i=ot,i!==0?i:et()):1}function Fn(i,a,d,m){if(50<Ma)throw Ma=0,od=null,Error(c(185));ha(i,d,m),(!(Qe&2)||i!==Kt)&&(i===Kt&&(!(Qe&2)&&(al|=d),$t===4&&to(i,Jt)),Cn(i,m),d===1&&Qe===0&&!(a.mode&1)&&(wi(),_s&&cr()))}function Cn(i,a){var d=i.callbackNode;eS(i,a);var m=Ms(i,i===Kt?Jt:0);if(m===0)d!==null&&Xp(d),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(d!=null&&Xp(d),a===1)i.tag===0?lS(hv.bind(null,i)):Qp(hv.bind(null,i)),vt?Rt(function(){!(Qe&6)&&cr()}):su(lu,cr),d=null;else{switch(Kp(m)){case 1:d=lu;break;case 4:d=oS;break;case 16:d=cu;break;case 536870912:d=iS;break;default:d=cu}d=Cv(d,fv.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function fv(i,a){if(ul=-1,dl=0,Qe&6)throw Error(c(327));var d=i.callbackNode;if(zo()&&i.callbackNode!==d)return null;var m=Ms(i,i===Kt?Jt:0);if(m===0)return null;if(m&30||m&i.expiredLanes||a)a=fl(i,m);else{a=m;var v=Qe;Qe|=2;var b=vv();(Kt!==i||Jt!==a)&&(Or=null,wi(),Ao(i,a));do try{TS();break}catch(O){mv(i,O)}while(1);gu(),il.current=b,Qe=v,Lt!==null?a=0:(Kt=null,Jt=0,a=$t)}if(a!==0){if(a===2&&(v=ou(i),v!==0&&(m=v,a=id(i,v))),a===1)throw d=Pa,Ao(i,0),to(i,m),Cn(i,qt()),d;if(a===6)to(i,m);else{if(v=i.current.alternate,!(m&30)&&!IS(v)&&(a=fl(i,m),a===2&&(b=ou(i),b!==0&&(m=b,a=id(i,b))),a===1))throw d=Pa,Ao(i,0),to(i,m),Cn(i,qt()),d;switch(i.finishedWork=v,i.finishedLanes=m,a){case 0:case 1:throw Error(c(345));case 2:Oo(i,Sn,Or);break;case 3:if(to(i,m),(m&130023424)===m&&(a=td+500-qt(),10<a)){if(Ms(i,0)!==0)break;if(v=i.suspendedLanes,(v&m)!==m){sn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Ve(Oo.bind(null,i,Sn,Or),a);break}Oo(i,Sn,Or);break;case 4:if(to(i,m),(m&4194240)===m)break;for(a=i.eventTimes,v=-1;0<m;){var E=31-Gn(m);b=1<<E,E=a[E],E>v&&(v=E),m&=~b}if(m=v,m=qt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*PS(m/1960))-m,10<m){i.timeoutHandle=Ve(Oo.bind(null,i,Sn,Or),m);break}Oo(i,Sn,Or);break;case 5:Oo(i,Sn,Or);break;default:throw Error(c(329))}}}return Cn(i,qt()),i.callbackNode===d?fv.bind(null,i):null}function id(i,a){var d=Ia;return i.current.memoizedState.isDehydrated&&(Ao(i,a).flags|=256),i=fl(i,a),i!==2&&(a=Sn,Sn=d,a!==null&&ad(a)),i}function ad(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function IS(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],b=v.getSnapshot;v=v.value;try{if(!qn(b(),v))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function to(i,a){for(a&=~ed,a&=~al,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Gn(a),m=1<<d;i[d]=-1,a&=~m}}function hv(i){if(Qe&6)throw Error(c(327));zo();var a=Ms(i,0);if(!(a&1))return Cn(i,qt()),null;var d=fl(i,a);if(i.tag!==0&&d===2){var m=ou(i);m!==0&&(a=m,d=id(i,m))}if(d===1)throw d=Pa,Ao(i,0),to(i,a),Cn(i,qt()),d;if(d===6)throw Error(c(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Oo(i,Sn,Or),Cn(i,qt()),null}function pv(i){Jr!==null&&Jr.tag===0&&!(Qe&6)&&zo();var a=Qe;Qe|=1;var d=Ft.transition,m=ot;try{if(Ft.transition=null,ot=1,i)return i()}finally{ot=m,Ft.transition=d,Qe=a,!(Qe&6)&&cr()}}function sd(){_n=Ci.current,St(Ci)}function Ao(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==$e&&(i.timeoutHandle=$e,Ue(d)),Lt!==null)for(d=Lt.return;d!==null;){var m=d;switch(fu(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ks();break;case 3:xi(),St(yn),St(nn),Pu();break;case 5:ku(m);break;case 4:xi();break;case 13:St(Tt);break;case 19:St(Tt);break;case 10:yu(m.type._context);break;case 22:case 23:sd()}d=d.return}if(Kt=i,Lt=i=no(i.current,null),Jt=_n=a,$t=0,Pa=null,ed=al=Do=0,Sn=Ia=null,To!==null){for(a=0;a<To.length;a++)if(d=To[a],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,b=d.pending;if(b!==null){var E=b.next;b.next=v,m.next=E}d.pending=m}To=null}return i}function mv(i,a){do{var d=Lt;try{if(gu(),Vs.current=qs,Us){for(var m=_t.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Us=!1}if(_o=0,Yt=Ut=_t=null,ya=!1,xa=0,Ju.current=null,d===null||d.return===null){$t=1,Pa=a,Lt=null;break}e:{var b=i,E=d.return,O=d,W=a;if(a=Jt,O.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ie=W,ke=O,He=ke.tag;if(!(ke.mode&1)&&(He===0||He===11||He===15)){var be=ke.alternate;be?(ke.updateQueue=be.updateQueue,ke.memoizedState=be.memoizedState,ke.lanes=be.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Ct=Bm(E);if(Ct!==null){Ct.flags&=-257,Hm(Ct,E,O,b,a),Ct.mode&1&&Lm(b,ie,a),a=Ct,W=ie;var ht=a.updateQueue;if(ht===null){var wn=new Set;wn.add(W),a.updateQueue=wn}else ht.add(W);break e}else{if(!(a&1)){Lm(b,ie,a),ld();break e}W=Error(c(426))}}else if(Pt&&O.mode&1){var zr=Bm(E);if(zr!==null){!(zr.flags&65536)&&(zr.flags|=256),Hm(zr,E,O,b,a),mu(bi(W,O));break e}}b=W=bi(W,O),$t!==4&&($t=2),Ia===null?Ia=[b]:Ia.push(b),b=E;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var H=Nm(b,W,a);am(b,H);break e;case 1:O=W;var z=b.type,G=b.stateNode;if(!(b.flags&128)&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Zr===null||!Zr.has(G)))){b.flags|=65536,a&=-a,b.lanes|=a;var Se=Fm(b,O,a);am(b,Se);break e}}b=b.return}while(b!==null)}yv(d)}catch(De){a=De,Lt===d&&d!==null&&(Lt=d=d.return);continue}break}while(1)}function vv(){var i=il.current;return il.current=qs,i===null?qs:i}function ld(){($t===0||$t===3||$t===2)&&($t=4),Kt===null||!(Do&268435455)&&!(al&268435455)||to(Kt,Jt)}function fl(i,a){var d=Qe;Qe|=2;var m=vv();(Kt!==i||Jt!==a)&&(Or=null,Ao(i,a));do try{MS();break}catch(v){mv(i,v)}while(1);if(gu(),Qe=d,il.current=m,Lt!==null)throw Error(c(261));return Kt=null,Jt=0,$t}function MS(){for(;Lt!==null;)gv(Lt)}function TS(){for(;Lt!==null&&!nS();)gv(Lt)}function gv(i){var a=Sv(i.alternate,i,_n);i.memoizedProps=i.pendingProps,a===null?yv(i):Lt=a,Ju.current=null}function yv(i){var a=i;do{var d=a.alternate;if(i=a.return,a.flags&32768){if(d=wS(d,a),d!==null){d.flags&=32767,Lt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{$t=6,Lt=null;return}}else if(d=CS(d,a,_n),d!==null){Lt=d;return}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=i}while(a!==null);$t===0&&($t=5)}function Oo(i,a,d){var m=ot,v=Ft.transition;try{Ft.transition=null,ot=1,_S(i,a,d,m)}finally{Ft.transition=v,ot=m}return null}function _S(i,a,d,m){do zo();while(Jr!==null);if(Qe&6)throw Error(c(327));d=i.finishedWork;var v=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(c(177));i.callbackNode=null,i.callbackPriority=0;var b=d.lanes|d.childLanes;if(tS(i,b),i===Kt&&(Lt=Kt=null,Jt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||ll||(ll=!0,Cv(cu,function(){return zo(),null})),b=(d.flags&15990)!==0,d.subtreeFlags&15990||b){b=Ft.transition,Ft.transition=null;var E=ot;ot=1;var O=Qe;Qe|=4,Ju.current=null,kS(i,d),av(d,i),le(i.containerInfo),i.current=d,ES(d),rS(),Qe=O,ot=E,Ft.transition=b}else i.current=d;if(ll&&(ll=!1,Jr=i,cl=v),b=i.pendingLanes,b===0&&(Zr=null),aS(d.stateNode),Cn(i,qt()),a!==null)for(m=i.onRecoverableError,d=0;d<a.length;d++)v=a[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(sl)throw sl=!1,i=rd,rd=null,i;return cl&1&&i.tag!==0&&zo(),b=i.pendingLanes,b&1?i===od?Ma++:(Ma=0,od=i):Ma=0,cr(),null}function zo(){if(Jr!==null){var i=Kp(cl),a=Ft.transition,d=ot;try{if(Ft.transition=null,ot=16>i?16:i,Jr===null)var m=!1;else{if(i=Jr,Jr=null,cl=0,Qe&6)throw Error(c(331));var v=Qe;for(Qe|=4,we=i.current;we!==null;){var b=we,E=b.child;if(we.flags&16){var O=b.deletions;if(O!==null){for(var W=0;W<O.length;W++){var ie=O[W];for(we=ie;we!==null;){var ke=we;switch(ke.tag){case 0:case 11:case 15:ka(8,ke,b)}var He=ke.child;if(He!==null)He.return=ke,we=He;else for(;we!==null;){ke=we;var be=ke.sibling,Ct=ke.return;if(nv(ke),ke===ie){we=null;break}if(be!==null){be.return=Ct,we=be;break}we=Ct}}}var ht=b.alternate;if(ht!==null){var wn=ht.child;if(wn!==null){ht.child=null;do{var zr=wn.sibling;wn.sibling=null,wn=zr}while(wn!==null)}}we=b}}if(b.subtreeFlags&2064&&E!==null)E.return=b,we=E;else e:for(;we!==null;){if(b=we,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ka(9,b,b.return)}var H=b.sibling;if(H!==null){H.return=b.return,we=H;break e}we=b.return}}var z=i.current;for(we=z;we!==null;){E=we;var G=E.child;if(E.subtreeFlags&2064&&G!==null)G.return=E,we=G;else e:for(E=z;we!==null;){if(O=we,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Js(9,O)}}catch(De){It(O,O.return,De)}if(O===E){we=null;break e}var Se=O.sibling;if(Se!==null){Se.return=O.return,we=Se;break e}we=O.return}}if(Qe=v,cr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ts,i)}catch{}m=!0}return m}finally{ot=d,Ft.transition=a}}return!1}function xv(i,a,d){a=bi(d,a),a=Nm(i,a,1),i=Qr(i,a,1),a=sn(),i!==null&&(ha(i,1,a),Cn(i,a))}function It(i,a,d){if(i.tag===3)xv(i,i,d);else for(;a!==null;){if(a.tag===3){xv(a,i,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zr===null||!Zr.has(m))){i=bi(d,i),i=Fm(a,i,1),a=Qr(a,i,1),i=sn(),a!==null&&(ha(a,1,i),Cn(a,i));break}}a=a.return}}function DS(i,a,d){var m=i.pingCache;m!==null&&m.delete(a),a=sn(),i.pingedLanes|=i.suspendedLanes&d,Kt===i&&(Jt&d)===d&&($t===4||$t===3&&(Jt&130023424)===Jt&&500>qt()-td?Ao(i,0):ed|=d),Cn(i,a)}function bv(i,a){a===0&&(i.mode&1?(a=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):a=1);var d=sn();i=ur(i,a),i!==null&&(ha(i,a,d),Cn(i,d))}function AS(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),bv(i,d)}function OS(i,a){var d=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(c(314))}m!==null&&m.delete(a),bv(i,d)}var Sv;Sv=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||yn.current)bn=!0;else{if(!(i.lanes&d)&&!(a.flags&128))return bn=!1,SS(i,a,d);bn=!!(i.flags&131072)}else bn=!1,Pt&&a.flags&1048576&&Zp(a,As,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Ks(i,a),i=a.pendingProps;var v=di(a,nn.current);vi(a,d),v=Tu(null,a,m,i,v,d);var b=_u();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,xn(m)?(b=!0,Es(a)):b=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Su(a),v.updater=Bs,a.stateNode=v,v._reactInternals=a,wu(a,m,i,d),a=Lu(null,a,m,!0,b,d)):(a.tag=0,Pt&&b&&du(a),hn(null,a,v,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Ks(i,a),i=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=RS(m),i=Kn(m,i),v){case 0:a=Fu(null,a,m,i,d);break e;case 1:a=qm(null,a,m,i,d);break e;case 11:a=Wm(null,a,m,i,d);break e;case 14:a=Vm(null,a,m,Kn(m.type,i),d);break e}throw Error(c(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Kn(m,v),Fu(i,a,m,v,d);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Kn(m,v),qm(i,a,m,v,d);case 3:e:{if(Ym(a),i===null)throw Error(c(387));m=a.pendingProps,b=a.memoizedState,v=b.element,im(i,a),Ls(a,m,null,d);var E=a.memoizedState;if(m=E.element,Ge&&b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){v=bi(Error(c(423)),a),a=Km(i,a,m,d,v);break e}else if(m!==v){v=bi(Error(c(424)),a),a=Km(i,a,m,d,v);break e}else for(Ge&&(On=R4(a.stateNode.containerInfo),Tn=a,Pt=!0,Yn=null,pa=!1),d=pm(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(pi(),m===v){a=Ar(i,a,d);break e}hn(i,a,m,d)}a=a.child}return a;case 5:return mm(a),i===null&&pu(a),m=a.type,v=a.pendingProps,b=i!==null?i.memoizedProps:null,E=v.children,ce(m,v)?E=null:b!==null&&ce(m,b)&&(a.flags|=32),Gm(i,a),hn(i,a,E,d),a.child;case 6:return i===null&&pu(a),null;case 13:return Xm(i,a,d);case 4:return ju(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=gi(a,null,m,d):hn(i,a,m,d),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Kn(m,v),Wm(i,a,m,v,d);case 7:return hn(i,a,a.pendingProps,d),a.child;case 8:return hn(i,a,a.pendingProps.children,d),a.child;case 12:return hn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,b=a.memoizedProps,E=v.value,rm(a,m,E),b!==null)if(qn(b.value,E)){if(b.children===v.children&&!yn.current){a=Ar(i,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var O=b.dependencies;if(O!==null){E=b.child;for(var W=O.firstContext;W!==null;){if(W.context===m){if(b.tag===1){W=Dr(-1,d&-d),W.tag=2;var ie=b.updateQueue;if(ie!==null){ie=ie.shared;var ke=ie.pending;ke===null?W.next=W:(W.next=ke.next,ke.next=W),ie.pending=W}}b.lanes|=d,W=b.alternate,W!==null&&(W.lanes|=d),xu(b.return,d,a),O.lanes|=d;break}W=W.next}}else if(b.tag===10)E=b.type===a.type?null:b.child;else if(b.tag===18){if(E=b.return,E===null)throw Error(c(341));E.lanes|=d,O=E.alternate,O!==null&&(O.lanes|=d),xu(E,d,a),E=b.sibling}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===a){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}hn(i,a,v.children,d),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,vi(a,d),v=zn(v),m=m(v),a.flags|=1,hn(i,a,m,d),a.child;case 14:return m=a.type,v=Kn(m,a.pendingProps),v=Kn(m.type,v),Vm(i,a,m,v,d);case 15:return Um(i,a,a.type,a.pendingProps,d);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Kn(m,v),Ks(i,a),a.tag=1,xn(m)?(i=!0,Es(a)):i=!1,vi(a,d),um(a,m,v),wu(a,m,v,d),Lu(null,a,m,!0,i,d);case 19:return Zm(i,a,d);case 22:return $m(i,a,d)}throw Error(c(156,a.tag))};function Cv(i,a){return su(i,a)}function zS(i,a,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,a,d,m){return new zS(i,a,d,m)}function cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function RS(i){if(typeof i=="function")return cd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===I)return 14}return 2}function no(i,a){var d=i.alternate;return d===null?(d=Ln(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function hl(i,a,d,m,v,b){var E=2;if(m=i,typeof i=="function")cd(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case h:return Ro(d.children,v,b,a);case y:E=8,v|=8;break;case x:return i=Ln(12,d,a,v|2),i.elementType=x,i.lanes=b,i;case w:return i=Ln(13,d,a,v),i.elementType=w,i.lanes=b,i;case k:return i=Ln(19,d,a,v),i.elementType=k,i.lanes=b,i;case M:return pl(d,v,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:E=10;break e;case C:E=9;break e;case j:E=11;break e;case I:E=14;break e;case P:E=16,m=null;break e}throw Error(c(130,i==null?i:typeof i,""))}return a=Ln(E,d,a,v),a.elementType=i,a.type=m,a.lanes=b,a}function Ro(i,a,d,m){return i=Ln(7,i,m,a),i.lanes=d,i}function pl(i,a,d,m){return i=Ln(22,i,m,a),i.elementType=M,i.lanes=d,i.stateNode={isHidden:!1},i}function ud(i,a,d){return i=Ln(6,i,null,a),i.lanes=d,i}function dd(i,a,d){return a=Ln(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function NS(i,a,d,m,v){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=m,this.onRecoverableError=v,Ge&&(this.mutableSourceEagerHydrationData=null)}function wv(i,a,d,m,v,b,E,O,W){return i=new NS(i,a,d,O,W),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Ln(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(b),i}function jv(i){if(!i)return Kr;i=i._reactInternals;e:{if(V(i)!==i||i.tag!==1)throw Error(c(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(c(171))}if(i.tag===1){var d=i.type;if(xn(d))return Gp(i,d,a)}return a}function kv(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(c(188)):(i=Object.keys(i).join(","),Error(c(268,i)));return i=Q(a),i===null?null:i.stateNode}function Ev(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function ml(i,a){Ev(i,a),(i=i.alternate)&&Ev(i,a)}function FS(i){return i=Q(i),i===null?null:i.stateNode}function LS(){return null}return n.attemptContinuousHydration=function(i){if(i.tag===13){var a=ur(i,134217728);if(a!==null){var d=sn();Fn(a,i,134217728,d)}ml(i,134217728)}},n.attemptDiscreteHydration=function(i){if(i.tag===13){var a=ur(i,1);if(a!==null){var d=sn();Fn(a,i,1,d)}ml(i,1)}},n.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var a=eo(i),d=ur(i,a);if(d!==null){var m=sn();Fn(d,i,a,m)}ml(i,a)}},n.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=fa(a.pendingLanes);d!==0&&(au(a,d|1),Cn(a,qt()),!(Qe&6)&&(wi(),cr()))}break;case 13:pv(function(){var m=ur(i,1);if(m!==null){var v=sn();Fn(m,i,1,v)}}),ml(i,1)}},n.batchedUpdates=function(i,a){var d=Qe;Qe|=1;try{return i(a)}finally{Qe=d,Qe===0&&(wi(),_s&&cr())}},n.createComponentSelector=function(i){return{$$typeof:el,value:i}},n.createContainer=function(i,a,d,m,v,b,E){return wv(i,a,!1,null,d,m,v,b,E)},n.createHasPseudoClassSelector=function(i){return{$$typeof:tl,value:i}},n.createHydrationContainer=function(i,a,d,m,v,b,E,O,W){return i=wv(d,m,!0,i,v,b,E,O,W),i.context=jv(null),d=i.current,m=sn(),v=eo(d),b=Dr(m,v),b.callback=a??null,Qr(d,b,v),i.current.lanes=v,ha(i,v,m),Cn(i,m),i},n.createPortal=function(i,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:m==null?null:""+m,children:i,containerInfo:a,implementation:d}},n.createRoleSelector=function(i){return{$$typeof:nl,value:i}},n.createTestNameSelector=function(i){return{$$typeof:rl,value:i}},n.createTextSelector=function(i){return{$$typeof:ol,value:i}},n.deferredUpdates=function(i){var a=ot,d=Ft.transition;try{return Ft.transition=null,ot=16,i()}finally{ot=a,Ft.transition=d}},n.discreteUpdates=function(i,a,d,m,v){var b=ot,E=Ft.transition;try{return Ft.transition=null,ot=1,i(a,d,m,v)}finally{ot=b,Ft.transition=E,Qe===0&&wi()}},n.findAllNodes=Zu,n.findBoundingRects=function(i,a){if(!N)throw Error(c(363));a=Zu(i,a),i=[];for(var d=0;d<a.length;d++)i.push(xe(a[d]));for(a=i.length-1;0<a;a--){d=i[a];for(var m=d.x,v=m+d.width,b=d.y,E=b+d.height,O=a-1;0<=O;O--)if(a!==O){var W=i[O],ie=W.x,ke=ie+W.width,He=W.y,be=He+W.height;if(m>=ie&&b>=He&&v<=ke&&E<=be){i.splice(a,1);break}else if(m!==ie||d.width!==W.width||be<b||He>E){if(!(b!==He||d.height!==W.height||ke<m||ie>v)){ie>m&&(W.width+=ie-m,W.x=m),ke<v&&(W.width=v-ie),i.splice(a,1);break}}else{He>b&&(W.height+=He-b,W.y=b),be<E&&(W.height=E-He),i.splice(a,1);break}}}return i},n.findHostInstance=kv,n.findHostInstanceWithNoPortals=function(i){return i=B(i),i=i!==null?X(i):null,i===null?null:i.stateNode},n.findHostInstanceWithWarning=function(i){return kv(i)},n.flushControlled=function(i){var a=Qe;Qe|=1;var d=Ft.transition,m=ot;try{Ft.transition=null,ot=1,i()}finally{ot=m,Ft.transition=d,Qe=a,Qe===0&&(wi(),cr())}},n.flushPassiveEffects=zo,n.flushSync=pv,n.focusWithin=function(i,a){if(!N)throw Error(c(363));for(i=Ku(i),a=dv(i,a),a=Array.from(a),i=0;i<a.length;){var d=a[i++];if(!q(d)){if(d.tag===5&&Oe(d.stateNode))return!0;for(d=d.child;d!==null;)a.push(d),d=d.sibling}}return!1},n.getCurrentUpdatePriority=function(){return ot},n.getFindAllNodesFailureDescription=function(i,a){if(!N)throw Error(c(363));var d=0,m=[];i=[Ku(i),0];for(var v=0;v<i.length;){var b=i[v++],E=i[v++],O=a[E];if((b.tag!==5||!q(b))&&(Xu(b,O)&&(m.push(Qu(O)),E++,E>d&&(d=E)),E<a.length))for(b=b.child;b!==null;)i.push(b,E),b=b.sibling}if(d<a.length){for(i=[];d<a.length;d++)i.push(Qu(a[d]));return`findAllNodes was able to match part of the selector:
  `+(m.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},n.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return re(i.child.stateNode);default:return i.child.stateNode}},n.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:FS,findFiberByHostInstance:i.findFiberByHostInstance||LS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)i=!0;else{try{Ts=a.inject(i),lr=a}catch{}i=!!a.checkDCE}}return i},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(i,a,d,m){if(!N)throw Error(c(363));i=Zu(i,a);var v=Je(i,d,m).disconnect;return{disconnect:function(){v()}}},n.registerMutableSourceForHydration=function(i,a){var d=a._getVersion;d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d)},n.runWithPriority=function(i,a){var d=ot;try{return ot=i,a()}finally{ot=d}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(i,a,d,m){var v=a.current,b=sn(),E=eo(v);return d=jv(d),a.context===null?a.context=d:a.pendingContext=d,a=Dr(b,E),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Qr(v,a,E),i!==null&&(Fn(i,v,E,b),Fs(i,v,E)),E},n};(function(e){e.exports=EO})(kO);const PO=F3(Gf);var mc={},IO={get exports(){return mc},set exports(e){mc=e}},ci={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ci.ConcurrentRoot=1;ci.ContinuousEventPriority=4;ci.DefaultEventPriority=16;ci.DiscreteEventPriority=1;ci.IdleEventPriority=536870912;ci.LegacyRoot=0;(function(e){e.exports=ci})(IO);const r1={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let o1=!1,i1=!1;const Ap=".react-konva-event",MO=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,TO=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,_O={};function Uc(e,t,n=_O){if(!o1&&"zIndex"in t&&(console.warn(TO),o1=!0),!i1&&t.draggable){var r=t.x!==void 0||t.y!==void 0,o=t.onDragEnd||t.onDragMove;r&&!o&&(console.warn(MO),i1=!0)}for(var s in n)if(!r1[s]){var c=s.slice(0,2)==="on",u=n[s]!==t[s];if(c&&u){var f=s.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e.off(f,n[s])}var p=!t.hasOwnProperty(s);p&&e.setAttr(s,void 0)}var h=t._useStrictMode,y={},x=!1;const S={};for(var s in t)if(!r1[s]){var c=s.slice(0,2)==="on",C=n[s]!==t[s];if(c&&C){var f=s.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),t[s]&&(S[f]=t[s])}!c&&(t[s]!==n[s]||h&&t[s]!==e.getAttr(s))&&(x=!0,y[s]=t[s])}x&&(e.setAttrs(y),wo(e));for(var f in S)e.on(f+Ap,S[f])}function wo(e){if(!L3.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const qb={},DO={};Ga.Node.prototype._applyProps=Uc;function AO(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),wo(e)}function OO(e,t,n){let r=Ga[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Ga.Group);const o={},s={};for(var c in t){var u=c.slice(0,2)==="on";u?s[c]=t[c]:o[c]=t[c]}const f=new r(o);return Uc(f,s),f}function zO(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function RO(e,t,n){return!1}function NO(e){return e}function FO(){return null}function LO(){return null}function BO(e,t,n,r){return DO}function HO(){}function WO(e){}function VO(e,t){return!1}function UO(){return qb}function $O(){return qb}const GO=setTimeout,qO=clearTimeout,YO=-1;function KO(e,t){return!1}const XO=!1,QO=!0,ZO=!0;function JO(e,t){t.parent===e?t.moveToTop():e.add(t),wo(e)}function ez(e,t){t.parent===e?t.moveToTop():e.add(t),wo(e)}function Yb(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),wo(e)}function tz(e,t,n){Yb(e,t,n)}function nz(e,t){t.destroy(),t.off(Ap),wo(e)}function rz(e,t){t.destroy(),t.off(Ap),wo(e)}function oz(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function iz(e,t,n){}function az(e,t,n,r,o){Uc(e,o,r)}function sz(e){e.hide(),wo(e)}function lz(e){}function cz(e,t){(t.visible==null||t.visible)&&e.show()}function uz(e,t){}function dz(e){}function fz(){}const hz=()=>mc.DefaultEventPriority,pz=Object.freeze(Object.defineProperty({__proto__:null,appendChild:JO,appendChildToContainer:ez,appendInitialChild:AO,cancelTimeout:qO,clearContainer:dz,commitMount:iz,commitTextUpdate:oz,commitUpdate:az,createInstance:OO,createTextInstance:zO,detachDeletedInstance:fz,finalizeInitialChildren:RO,getChildHostContext:$O,getCurrentEventPriority:hz,getPublicInstance:NO,getRootHostContext:UO,hideInstance:sz,hideTextInstance:lz,idlePriority:Hl.unstable_IdlePriority,insertBefore:Yb,insertInContainerBefore:tz,isPrimaryRenderer:XO,noTimeout:YO,now:Hl.unstable_now,prepareForCommit:FO,preparePortalMount:LO,prepareUpdate:BO,removeChild:nz,removeChildFromContainer:rz,resetAfterCommit:HO,resetTextContent:WO,run:Hl.unstable_runWithPriority,scheduleTimeout:GO,shouldDeprioritizeSubtree:VO,shouldSetTextContent:KO,supportsMutation:ZO,unhideInstance:cz,unhideTextInstance:uz,warnsIfNotActing:QO},Symbol.toStringTag,{value:"Module"}));var mz=Object.defineProperty,vz=Object.defineProperties,gz=Object.getOwnPropertyDescriptors,a1=Object.getOwnPropertySymbols,yz=Object.prototype.hasOwnProperty,xz=Object.prototype.propertyIsEnumerable,s1=(e,t,n)=>t in e?mz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l1=(e,t)=>{for(var n in t||(t={}))yz.call(t,n)&&s1(e,n,t[n]);if(a1)for(var n of a1(t))xz.call(t,n)&&s1(e,n,t[n]);return e},bz=(e,t)=>vz(e,gz(t));function Kb(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=t?e.return:e.child;for(;r;){const o=Kb(r,t,n);if(o)return o;r=t?null:r.sibling}}function Xb(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const Op=Xb(g.createContext(null));class Qb extends g.Component{render(){return g.createElement(Op.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Sz,ReactCurrentDispatcher:Cz}=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function wz(){const e=g.useContext(Op);if(!e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=g.useId();return g.useMemo(()=>{var r;return(r=Sz.current)!=null?r:Kb(e,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}})},[e,t])}function jz(){var e,t;const n=wz(),[r]=g.useState(()=>new Map);r.clear();let o=n;for(;o;){const s=(e=o.type)==null?void 0:e._context;s&&s!==Op&&!r.has(s)&&r.set(s,(t=Cz.current)==null?void 0:t.readContext(Xb(s))),o=o.return}return g.useMemo(()=>Array.from(r.keys()).reduce((s,c)=>u=>g.createElement(s,null,g.createElement(c.Provider,bz(l1({},u),{value:r.get(c)}))),s=>g.createElement(Qb,l1({},s))),[r])}function kz(e){const t=Me.useRef();return Me.useLayoutEffect(()=>{t.current=e}),t.current}const Ez=e=>{const t=Me.useRef(),n=Me.useRef(),r=Me.useRef(),o=kz(e),s=jz(),c=u=>{const{forwardedRef:f}=e;f&&(typeof f=="function"?f(u):f.current=u)};return Me.useLayoutEffect(()=>(n.current=new Ga.Stage({width:e.width,height:e.height,container:t.current}),c(n.current),r.current=La.createContainer(n.current,mc.LegacyRoot,!1,null),La.updateContainer(Me.createElement(s,{},e.children),r.current),()=>{Ga.isBrowser&&(c(null),La.updateContainer(null,r.current,null),n.current.destroy())}),[]),Me.useLayoutEffect(()=>{c(n.current),Uc(n.current,e,o),La.updateContainer(Me.createElement(s,{},e.children),r.current,null)}),Me.createElement("div",{ref:t,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},za="Layer",Ur="Group",$r="Rect",Fo="Circle",vc="Line",Zb="Image",Pz="Transformer",La=PO(pz);La.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Me.version,rendererPackageName:"react-konva"});const Iz=Me.forwardRef((e,t)=>Me.createElement(Qb,{},Me.createElement(Ez,{...e,forwardedRef:t}))),Mz=me([tt,Ot],(e,t)=>{const{tool:n,isMovingBoundingBox:r}=e;return{tool:n,isStaging:t,isMovingBoundingBox:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Tz=()=>{const e=Y(),{tool:t,isStaging:n,isMovingBoundingBox:r}=A(Mz);return{handleDragStart:g.useCallback(()=>{(t==="move"||n)&&!r&&e(Xl(!0))},[e,r,n,t]),handleDragMove:g.useCallback(o=>{if(!((t==="move"||n)&&!r))return;const s={x:o.target.x(),y:o.target.y()};e(X1(s))},[e,r,n,t]),handleDragEnd:g.useCallback(()=>{(t==="move"||n)&&!r&&e(Xl(!1))},[e,r,n,t])}},_z=me([tt,bt,Ot],(e,t,n)=>{const{cursorPosition:r,shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:c,isMaskEnabled:u,shouldSnapToGrid:f}=e;return{activeTabName:t,isCursorOnCanvas:Boolean(r),shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:c,isStaging:n,isMaskEnabled:u,shouldSnapToGrid:f}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Dz=()=>{const e=Y(),{activeTabName:t,shouldShowBoundingBox:n,tool:r,isStaging:o,isMaskEnabled:s,shouldSnapToGrid:c}=A(_z),u=g.useRef(null),f=Q1(),p=()=>e(Jf());de(["shift+c"],()=>{p()},{enabled:()=>!o,preventDefault:!0},[]);const h=()=>e(ls(!s));de(["h"],()=>{h()},{enabled:()=>!o,preventDefault:!0},[s]),de(["n"],()=>{e(Ql(!c))},{enabled:!0,preventDefault:!0},[c]),de("esc",()=>{e(B3())},{enabled:()=>!0,preventDefault:!0}),de("shift+h",()=>{e(H3(!n))},{enabled:()=>!o,preventDefault:!0},[t,n]),de(["space"],y=>{y.repeat||(f==null||f.container().focus(),r!=="move"&&(u.current=r,e(Sr("move"))),r==="move"&&u.current&&u.current!=="move"&&(e(Sr(u.current)),u.current="move"))},{keyup:!0,keydown:!0,preventDefault:!0},[r,u])},zp=e=>{const t=e.getPointerPosition(),n=e.getAbsoluteTransform().copy();if(!t||!n)return;const r=n.invert().point(t);return{x:r.x,y:r.y}},Jb=()=>{const e=Y(),t=jr(),n=Q1();return{updateColorUnderCursor:()=>{if(!n||!t)return;const r=n.getPointerPosition();if(!r)return;const o=W3.pixelRatio,[s,c,u,f]=t.getContext().getImageData(r.x*o,r.y*o,1,1).data;e(V3({r:s,g:c,b:u,a:f}))},commitColorUnderCursor:()=>{e(U3())}}},Az=me([bt,tt,Ot],(e,t,n)=>{const{tool:r}=t;return{tool:r,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Oz=e=>{const t=Y(),{tool:n,isStaging:r}=A(Az),{commitColorUnderCursor:o}=Jb();return g.useCallback(s=>{if(!e.current)return;if(e.current.container().focus(),n==="move"||r){t(Xl(!0));return}if(n==="colorPicker"){o();return}const c=zp(e.current);c&&(s.evt.preventDefault(),t(Z1(!0)),t($3([c.x,c.y])))},[e,n,r,t,o])},zz=me([bt,tt,Ot],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Rz=(e,t,n)=>{const r=Y(),{isDrawing:o,tool:s,isStaging:c}=A(zz),{updateColorUnderCursor:u}=Jb();return g.useCallback(()=>{if(!e.current)return;const f=zp(e.current);if(f){if(r(G3(f)),n.current=f,s==="colorPicker"){u();return}!o||s==="move"||c||(t.current=!0,r(J1([f.x,f.y])))}},[t,r,o,c,n,e,s,u])},Nz=()=>{const e=Y();return g.useCallback(()=>{e(q3())},[e])},Fz=me([bt,tt,Ot],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Lz=(e,t)=>{const n=Y(),{tool:r,isDrawing:o,isStaging:s}=A(Fz);return g.useCallback(()=>{if(r==="move"||s){n(Xl(!1));return}if(!t.current&&o&&e.current){const c=zp(e.current);if(!c)return;n(J1([c.x,c.y]))}else t.current=!1;n(Z1(!1))},[t,n,o,s,e,r])},Bz=me([tt],e=>{const{isMoveStageKeyHeld:t,stageScale:n}=e;return{isMoveStageKeyHeld:t,stageScale:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Hz=e=>{const t=Y(),{isMoveStageKeyHeld:n,stageScale:r}=A(Bz);return g.useCallback(o=>{if(!e.current||n)return;o.evt.preventDefault();const s=e.current.getPointerPosition();if(!s)return;const c={x:(s.x-e.current.x())/r,y:(s.y-e.current.y())/r};let u=o.evt.deltaY;o.evt.ctrlKey&&(u=-u);const f=ee.clamp(r*Y3**u,K3,X3),p={x:s.x-c.x*f,y:s.y-c.y*f};t(Q3(f)),t(X1(p))},[e,n,r,t])},Wz=me(tt,e=>{const{boundingBoxCoordinates:t,boundingBoxDimensions:n,stageDimensions:r,stageScale:o,shouldDarkenOutsideBoundingBox:s,stageCoordinates:c}=e;return{boundingBoxCoordinates:t,boundingBoxDimensions:n,shouldDarkenOutsideBoundingBox:s,stageCoordinates:c,stageDimensions:r,stageScale:o}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Vz=()=>{const{boundingBoxCoordinates:e,boundingBoxDimensions:t,shouldDarkenOutsideBoundingBox:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=A(Wz);return l.jsxs(Ur,{children:[l.jsx($r,{offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fill:"rgba(0,0,0,0.4)",listening:!1,visible:n}),l.jsx($r,{x:e.x,y:e.y,width:t.width,height:t.height,fill:"rgb(255,255,255)",listening:!1,visible:n,globalCompositeOperation:"destination-out"})]})},Uz=me([tt],e=>{const{stageScale:t,stageCoordinates:n,stageDimensions:r}=e;return{stageScale:t,stageCoordinates:n,stageDimensions:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),$z=()=>{const e=A(f=>f.ui.currentTheme),{stageScale:t,stageCoordinates:n,stageDimensions:r}=A(Uz),[o,s]=g.useState([]),[c]=M1("colors",["gridLineColor"]),u=g.useCallback(f=>f/t,[t]);return g.useLayoutEffect(()=>{const{width:f,height:p}=r,{x:h,y}=n,x={x1:0,y1:0,x2:f,y2:p,offset:{x:u(h),y:u(y)}},S={x:Math.ceil(u(h)/64)*64,y:Math.ceil(u(y)/64)*64},C={x1:-S.x,y1:-S.y,x2:u(f)-S.x+64,y2:u(p)-S.y+64},w={x1:Math.min(x.x1,C.x1),y1:Math.min(x.y1,C.y1),x2:Math.max(x.x2,C.x2),y2:Math.max(x.y2,C.y2)},k=w.x2-w.x1,I=w.y2-w.y1,P=Math.round(k/64)+1,M=Math.round(I/64)+1,T=ee.range(0,P).map(_=>l.jsx(vc,{x:w.x1+_*64,y:w.y1,points:[0,0,0,I],stroke:c,strokeWidth:1},`x_${_}`)),D=ee.range(0,M).map(_=>l.jsx(vc,{x:w.x1,y:w.y1+_*64,points:[0,0,k,0],stroke:c,strokeWidth:1},`y_${_}`));s(T.concat(D))},[t,n,r,e,u,c]),l.jsx(Ur,{children:o})},Gz=me([e=>e.gallery],e=>e.intermediateImage?e.intermediateImage:null,{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),qz=e=>{const{...t}=e,n=A(Gz),[r,o]=g.useState(null);if(g.useEffect(()=>{if(!n)return;const p=new Image;p.onload=()=>{o(p)},p.src=n.url},[n]),!(n!=null&&n.boundingBox))return null;const{boundingBox:{x:s,y:c,width:u,height:f}}=n;return r?l.jsx(Zb,{x:s,y:c,width:u,height:f,image:r,listening:!1,...t}):null},Ko=e=>{const{r:t,g:n,b:r,a:o}=e;return`rgba(${t}, ${n}, ${r}, ${o})`},Yz=me(tt,e=>{const{maskColor:t,stageCoordinates:n,stageDimensions:r,stageScale:o}=e;return{stageCoordinates:n,stageDimensions:r,stageScale:o,maskColorString:Ko(t)}}),c1=e=>`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
  <svg width="60px" height="60px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
  <g transform="matrix(0.5,0,0,0.5,0,0)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
</svg>`.replaceAll("black",e),Kz=e=>{const{...t}=e,{maskColorString:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=A(Yz),[c,u]=g.useState(null),[f,p]=g.useState(0),h=g.useRef(null),y=g.useCallback(()=>{p(f+1),setTimeout(y,500)},[f]);return g.useEffect(()=>{if(c)return;const x=new Image;x.onload=()=>{u(x)},x.src=c1(n)},[c,n]),g.useEffect(()=>{c&&(c.src=c1(n))},[c,n]),g.useEffect(()=>{const x=setInterval(()=>p(S=>(S+1)%5),50);return()=>clearInterval(x)},[]),!c||!ee.isNumber(r.x)||!ee.isNumber(r.y)||!ee.isNumber(s)||!ee.isNumber(o.width)||!ee.isNumber(o.height)?null:l.jsx($r,{ref:h,offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fillPatternImage:c,fillPatternOffsetY:ee.isNumber(f)?f:0,fillPatternRepeat:"repeat",fillPatternScale:{x:1/s,y:1/s},listening:!0,globalCompositeOperation:"source-in",...t})},Xz=me([tt],e=>({objects:e.layerState.objects}),{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),Qz=e=>{const{...t}=e,{objects:n}=A(Xz);return l.jsx(Ur,{listening:!1,...t,children:n.filter(Z3).map((r,o)=>l.jsx(vc,{points:r.points,stroke:"rgb(0,0,0)",strokeWidth:r.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:r.tool==="brush"?"source-over":"destination-out"},o))})};var Lo=g,Zz=function(t,n,r){const o=Lo.useRef("loading"),s=Lo.useRef(),[c,u]=Lo.useState(0),f=Lo.useRef(),p=Lo.useRef(),h=Lo.useRef();return(f.current!==t||p.current!==n||h.current!==r)&&(o.current="loading",s.current=void 0,f.current=t,p.current=n,h.current=r),Lo.useLayoutEffect(function(){if(!t)return;var y=document.createElement("img");function x(){o.current="loaded",s.current=y,u(Math.random())}function S(){o.current="failed",s.current=void 0,u(Math.random())}return y.addEventListener("load",x),y.addEventListener("error",S),n&&(y.crossOrigin=n),r&&(y.referrerpolicy=r),y.src=t,function(){y.removeEventListener("load",x),y.removeEventListener("error",S)}},[t,n,r]),[s.current,o.current]};const e4=e=>{const{url:t,x:n,y:r}=e,[o]=Zz(t);return l.jsx(Zb,{x:n,y:r,image:o,listening:!1})},Jz=me([tt],e=>{const{layerState:{objects:t}}=e;return{objects:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),eR=()=>{const{objects:e}=A(Jz);return e?l.jsx(Ur,{name:"outpainting-objects",listening:!1,children:e.map((t,n)=>{if(K1(t))return l.jsx(e4,{x:t.x,y:t.y,url:t.image.url},n);if(J3(t)){const r=l.jsx(vc,{points:t.points,stroke:t.color?Ko(t.color):"rgb(0,0,0)",strokeWidth:t.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:t.tool==="brush"?"source-over":"destination-out"},n);return t.clip?l.jsx(Ur,{clipX:t.clip.x,clipY:t.clip.y,clipWidth:t.clip.width,clipHeight:t.clip.height,children:r},n):r}else{if(eC(t))return l.jsx($r,{x:t.x,y:t.y,width:t.width,height:t.height,fill:Ko(t.color)},n);if(tC(t))return l.jsx($r,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgb(255, 255, 255)",globalCompositeOperation:"destination-out"},n)}})}):null},tR=me([tt],e=>{const{layerState:{stagingArea:{images:t,selectedImageIndex:n}},shouldShowStagingImage:r,shouldShowStagingOutline:o,boundingBoxCoordinates:{x:s,y:c},boundingBoxDimensions:{width:u,height:f}}=e;return{currentStagingAreaImage:t.length>0?t[n]:void 0,isOnFirstImage:n===0,isOnLastImage:n===t.length-1,shouldShowStagingImage:r,shouldShowStagingOutline:o,x:s,y:c,width:u,height:f}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),nR=e=>{const{...t}=e,{currentStagingAreaImage:n,shouldShowStagingImage:r,shouldShowStagingOutline:o,x:s,y:c,width:u,height:f}=A(tR);return l.jsxs(Ur,{...t,children:[r&&n&&l.jsx(e4,{url:n.image.url,x:s,y:c}),o&&l.jsxs(Ur,{children:[l.jsx($r,{x:s,y:c,width:u,height:f,strokeWidth:1,stroke:"white",strokeScaleEnabled:!1}),l.jsx($r,{x:s,y:c,width:u,height:f,dash:[4,4],strokeWidth:1,stroke:"black",strokeScaleEnabled:!1})]})]})},rR=me([tt],e=>{const{layerState:{stagingArea:{images:t,selectedImageIndex:n}},shouldShowStagingOutline:r,shouldShowStagingImage:o}=e;return{currentStagingAreaImage:t.length>0?t[n]:void 0,isOnFirstImage:n===0,isOnLastImage:n===t.length-1,shouldShowStagingImage:o,shouldShowStagingOutline:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),oR=()=>{const e=Y(),{isOnFirstImage:t,isOnLastImage:n,currentStagingAreaImage:r,shouldShowStagingImage:o}=A(rR),{t:s}=K(),c=g.useCallback(()=>{e(Bv(!0))},[e]),u=g.useCallback(()=>{e(Bv(!1))},[e]);de(["left"],()=>{f()},{enabled:()=>!0,preventDefault:!0}),de(["right"],()=>{p()},{enabled:()=>!0,preventDefault:!0}),de(["enter"],()=>{h()},{enabled:()=>!0,preventDefault:!0});const f=()=>e(nC()),p=()=>e(rC()),h=()=>e(oC());return r?l.jsx(L,{pos:"absolute",bottom:4,w:"100%",align:"center",justify:"center",filter:"drop-shadow(0 0.5rem 1rem rgba(0,0,0))",onMouseOver:c,onMouseOut:u,children:l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{tooltip:`${s("unifiedCanvas.previous")} (Left)`,"aria-label":`${s("unifiedCanvas.previous")} (Left)`,icon:l.jsx(Wx,{}),onClick:f,colorScheme:"accent",isDisabled:t}),l.jsx(se,{tooltip:`${s("unifiedCanvas.next")} (Right)`,"aria-label":`${s("unifiedCanvas.next")} (Right)`,icon:l.jsx(_9,{}),onClick:p,colorScheme:"accent",isDisabled:n}),l.jsx(se,{tooltip:`${s("unifiedCanvas.accept")} (Enter)`,"aria-label":`${s("unifiedCanvas.accept")} (Enter)`,icon:l.jsx(zc,{}),onClick:h,colorScheme:"accent"}),l.jsx(se,{tooltip:s("unifiedCanvas.showHide"),"aria-label":s("unifiedCanvas.showHide"),"data-alert":!o,icon:o?l.jsx(F9,{}):l.jsx(N9,{}),onClick:()=>e(iC(!o)),colorScheme:"accent"}),l.jsx(se,{tooltip:s("unifiedCanvas.saveToGallery"),"aria-label":s("unifiedCanvas.saveToGallery"),icon:l.jsx(Jh,{}),onClick:()=>e(aC(r.image.url)),colorScheme:"accent"}),l.jsx(se,{tooltip:s("unifiedCanvas.discardAll"),"aria-label":s("unifiedCanvas.discardAll"),icon:l.jsx(Rc,{style:{transform:"rotate(45deg)"}}),onClick:()=>e(sC()),colorScheme:"error",fontSize:20})]})}):null},Li=e=>Math.round(e*100)/100,iR=me([tt],e=>{const{cursorPosition:t}=e,{cursorX:n,cursorY:r}=t?{cursorX:t.x,cursorY:t.y}:{cursorX:-1,cursorY:-1};return{cursorCoordinatesString:`(${Li(n)}, ${Li(r)})`}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function aR(){const{cursorCoordinatesString:e}=A(iR),{t}=K();return l.jsx(Ye,{children:`${t("unifiedCanvas.cursorPosition")}: ${e}`})}const qf="var(--invokeai-colors-warning-500)",sR=me([tt],e=>{const{stageDimensions:{width:t,height:n},stageCoordinates:{x:r,y:o},boundingBoxDimensions:{width:s,height:c},scaledBoundingBoxDimensions:{width:u,height:f},boundingBoxCoordinates:{x:p,y:h},stageScale:y,shouldShowCanvasDebugInfo:x,layer:S,boundingBoxScaleMethod:C,shouldPreserveMaskedArea:j}=e;let w="inherit";return(C==="none"&&(s<512||c<512)||C==="manual"&&u*f<512*512)&&(w=qf),{activeLayerColor:S==="mask"?qf:"inherit",activeLayerString:S.charAt(0).toUpperCase()+S.slice(1),boundingBoxColor:w,boundingBoxCoordinatesString:`(${Li(p)}, ${Li(h)})`,boundingBoxDimensionsString:`${s}${c}`,scaledBoundingBoxDimensionsString:`${u}${f}`,canvasCoordinatesString:`${Li(r)}${Li(o)}`,canvasDimensionsString:`${t}${n}`,canvasScaleString:Math.round(y*100),shouldShowCanvasDebugInfo:x,shouldShowBoundingBox:C!=="auto",shouldShowScaledBoundingBox:C!=="none",shouldPreserveMaskedArea:j}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),lR=()=>{const{activeLayerColor:e,activeLayerString:t,boundingBoxColor:n,boundingBoxCoordinatesString:r,boundingBoxDimensionsString:o,scaledBoundingBoxDimensionsString:s,shouldShowScaledBoundingBox:c,canvasCoordinatesString:u,canvasDimensionsString:f,canvasScaleString:p,shouldShowCanvasDebugInfo:h,shouldShowBoundingBox:y,shouldPreserveMaskedArea:x}=A(sR),{t:S}=K();return l.jsxs(L,{sx:{flexDirection:"column",position:"absolute",top:0,insetInlineStart:0,opacity:.65,display:"flex",fontSize:"sm",padding:1,px:2,minWidth:48,margin:1,borderRadius:"base",pointerEvents:"none",bg:"base.800"},children:[l.jsx(Ye,{style:{color:e},children:`${S("unifiedCanvas.activeLayer")}: ${t}`}),l.jsx(Ye,{children:`${S("unifiedCanvas.canvasScale")}: ${p}%`}),x&&l.jsx(Ye,{style:{color:qf},children:"Preserve Masked Area: On"}),y&&l.jsx(Ye,{style:{color:n},children:`${S("unifiedCanvas.boundingBox")}: ${o}`}),c&&l.jsx(Ye,{style:{color:n},children:`${S("unifiedCanvas.scaledBoundingBox")}: ${s}`}),h&&l.jsxs(l.Fragment,{children:[l.jsx(Ye,{children:`${S("unifiedCanvas.boundingBoxPosition")}: ${r}`}),l.jsx(Ye,{children:`${S("unifiedCanvas.canvasDimensions")}: ${f}`}),l.jsx(Ye,{children:`${S("unifiedCanvas.canvasPosition")}: ${u}`}),l.jsx(aR,{})]})]})},cR=me(tt,e=>{const{boundingBoxCoordinates:t,boundingBoxDimensions:n,stageScale:r,isDrawing:o,isTransformingBoundingBox:s,isMovingBoundingBox:c,tool:u,shouldSnapToGrid:f}=e;return{boundingBoxCoordinates:t,boundingBoxDimensions:n,isDrawing:o,isMovingBoundingBox:c,isTransformingBoundingBox:s,stageScale:r,shouldSnapToGrid:f,tool:u,hitStrokeWidth:20/r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),uR=e=>{const{...t}=e,n=Y(),{boundingBoxCoordinates:r,boundingBoxDimensions:o,isDrawing:s,isMovingBoundingBox:c,isTransformingBoundingBox:u,stageScale:f,shouldSnapToGrid:p,tool:h,hitStrokeWidth:y}=A(cR),x=g.useRef(null),S=g.useRef(null),[C,j]=g.useState(!1);g.useEffect(()=>{var Q;!x.current||!S.current||(x.current.nodes([S.current]),(Q=x.current.getLayer())==null||Q.batchDraw())},[]);const w=64*f,k=g.useCallback(Q=>{if(!p){n(pd({x:Math.floor(Q.target.x()),y:Math.floor(Q.target.y())}));return}const U=Q.target.x(),X=Q.target.y(),te=Hv(U,64),re=Hv(X,64);Q.target.x(te),Q.target.y(re),n(pd({x:te,y:re}))},[n,p]),I=g.useCallback(()=>{if(!S.current)return;const Q=S.current,U=Q.scaleX(),X=Q.scaleY(),te=Math.round(Q.width()*U),re=Math.round(Q.height()*X),$=Math.round(Q.x()),Z=Math.round(Q.y());n(Na({width:te,height:re})),n(pd({x:p?vl($,64):$,y:p?vl(Z,64):Z})),Q.scaleX(1),Q.scaleY(1)},[n,p]),P=g.useCallback((Q,U,X)=>{const te=Q.x%w,re=Q.y%w;return{x:vl(U.x,w)+te,y:vl(U.y,w)+re}},[w]),M=()=>{n(md(!0))},T=()=>{n(md(!1)),n(vd(!1)),n(gl(!1)),j(!1)},D=()=>{n(vd(!0))},_=()=>{n(md(!1)),n(vd(!1)),n(gl(!1)),j(!1)},R=()=>{j(!0)},V=()=>{!u&&!c&&j(!1)},F=()=>{n(gl(!0))},B=()=>{n(gl(!1))};return l.jsxs(Ur,{...t,children:[l.jsx($r,{height:o.height,width:o.width,x:r.x,y:r.y,onMouseEnter:F,onMouseOver:F,onMouseLeave:B,onMouseOut:B}),l.jsx($r,{draggable:!0,fillEnabled:!1,height:o.height,hitStrokeWidth:y,listening:!s&&h==="move",onDragStart:D,onDragEnd:_,onDragMove:k,onMouseDown:D,onMouseOut:V,onMouseOver:R,onMouseEnter:R,onMouseUp:_,onTransform:I,onTransformEnd:T,ref:S,stroke:C?"rgba(255,255,255,0.7)":"white",strokeWidth:(C?8:1)/f,width:o.width,x:r.x,y:r.y}),l.jsx(Pz,{anchorCornerRadius:3,anchorDragBoundFunc:P,anchorFill:"rgba(212,216,234,1)",anchorSize:15,anchorStroke:"rgb(42,42,42)",borderDash:[4,4],borderEnabled:!0,borderStroke:"black",draggable:!1,enabledAnchors:h==="move"?void 0:[],flipEnabled:!1,ignoreStroke:!0,keepRatio:!1,listening:!s&&h==="move",onDragStart:D,onDragEnd:_,onMouseDown:M,onMouseUp:T,onTransformEnd:T,ref:x,rotateEnabled:!1})]})},dR=me(tt,e=>{const{cursorPosition:t,brushSize:n,colorPickerColor:r,maskColor:o,brushColor:s,tool:c,layer:u,shouldShowBrush:f,isMovingBoundingBox:p,isTransformingBoundingBox:h,stageScale:y,stageDimensions:x,boundingBoxCoordinates:S,boundingBoxDimensions:C,shouldRestrictStrokesToBox:j}=e,w=j?{clipX:S.x,clipY:S.y,clipWidth:C.width,clipHeight:C.height}:{};return{cursorPosition:t,brushX:t?t.x:x.width/2,brushY:t?t.y:x.height/2,radius:n/2,colorPickerOuterRadius:Wv/y,colorPickerInnerRadius:(Wv-cf+1)/y,maskColorString:Ko({...o,a:.5}),brushColorString:Ko(s),colorPickerColorString:Ko(r),tool:c,layer:u,shouldShowBrush:f,shouldDrawBrushPreview:!(p||h||!t)&&f,strokeWidth:1.5/y,dotRadius:1.5/y,clip:w}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),fR=e=>{const{...t}=e,{brushX:n,brushY:r,radius:o,maskColorString:s,tool:c,layer:u,shouldDrawBrushPreview:f,dotRadius:p,strokeWidth:h,brushColorString:y,colorPickerColorString:x,colorPickerInnerRadius:S,colorPickerOuterRadius:C,clip:j}=A(dR);return f?l.jsxs(Ur,{listening:!1,...j,...t,children:[c==="colorPicker"?l.jsxs(l.Fragment,{children:[l.jsx(Fo,{x:n,y:r,radius:C,stroke:y,strokeWidth:cf,strokeScaleEnabled:!1}),l.jsx(Fo,{x:n,y:r,radius:S,stroke:x,strokeWidth:cf,strokeScaleEnabled:!1})]}):l.jsxs(l.Fragment,{children:[l.jsx(Fo,{x:n,y:r,radius:o,fill:u==="mask"?s:y,globalCompositeOperation:c==="eraser"?"destination-out":"source-out"}),l.jsx(Fo,{x:n,y:r,radius:o,stroke:"rgba(255,255,255,0.4)",strokeWidth:h*2,strokeEnabled:!0,listening:!1}),l.jsx(Fo,{x:n,y:r,radius:o,stroke:"rgba(0,0,0,1)",strokeWidth:h,strokeEnabled:!0,listening:!1})]}),l.jsx(Fo,{x:n,y:r,radius:p*2,fill:"rgba(255,255,255,0.4)",listening:!1}),l.jsx(Fo,{x:n,y:r,radius:p,fill:"rgba(0,0,0,1)",listening:!1})]}):null},hR=me([tt,Ot],(e,t)=>{const{isMaskEnabled:n,stageScale:r,shouldShowBoundingBox:o,isTransformingBoundingBox:s,isMouseOverBoundingBox:c,isMovingBoundingBox:u,stageDimensions:f,stageCoordinates:p,tool:h,isMovingStage:y,shouldShowIntermediates:x,shouldShowGrid:S,shouldRestrictStrokesToBox:C}=e;let j="none";return h==="move"||t?y?j="grabbing":j="grab":s?j=void 0:C&&!c&&(j="default"),{isMaskEnabled:n,isModifyingBoundingBox:s||u,shouldShowBoundingBox:o,shouldShowGrid:S,stageCoordinates:p,stageCursor:j,stageDimensions:f,stageScale:r,tool:h,isStaging:t,shouldShowIntermediates:x}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),pR=ne(Iz,{shouldForwardProp:e=>!["sx"].includes(e)}),t4=()=>{const{isMaskEnabled:e,isModifyingBoundingBox:t,shouldShowBoundingBox:n,shouldShowGrid:r,stageCoordinates:o,stageCursor:s,stageDimensions:c,stageScale:u,tool:f,isStaging:p,shouldShowIntermediates:h}=A(hR);Dz();const y=g.useRef(null),x=g.useRef(null),S=g.useCallback(V=>{cC(V),y.current=V},[]),C=g.useCallback(V=>{lC(V),x.current=V},[]),j=g.useRef({x:0,y:0}),w=g.useRef(!1),k=Hz(y),I=Oz(y),P=Lz(y,w),M=Rz(y,w,j),T=Nz(),{handleDragStart:D,handleDragMove:_,handleDragEnd:R}=Tz();return l.jsx(L,{sx:{position:"relative",height:"100%",width:"100%",borderRadius:"base"},children:l.jsxs(Ye,{sx:{position:"relative"},children:[l.jsxs(pR,{tabIndex:-1,ref:S,sx:{outline:"none",overflow:"hidden",cursor:s||void 0,canvas:{outline:"none"}},x:o.x,y:o.y,width:c.width,height:c.height,scale:{x:u,y:u},onTouchStart:I,onTouchMove:M,onTouchEnd:P,onMouseDown:I,onMouseLeave:T,onMouseMove:M,onMouseUp:P,onDragStart:D,onDragMove:_,onDragEnd:R,onContextMenu:V=>V.evt.preventDefault(),onWheel:k,draggable:(f==="move"||p)&&!t,children:[l.jsx(za,{id:"grid",visible:r,children:l.jsx($z,{})}),l.jsx(za,{id:"base",ref:C,listening:!1,imageSmoothingEnabled:!1,children:l.jsx(eR,{})}),l.jsxs(za,{id:"mask",visible:e,listening:!1,children:[l.jsx(Qz,{visible:!0,listening:!1}),l.jsx(Kz,{listening:!1})]}),l.jsx(za,{children:l.jsx(Vz,{})}),l.jsxs(za,{id:"preview",imageSmoothingEnabled:!1,children:[!p&&l.jsx(fR,{visible:f!=="move",listening:!1}),l.jsx(nR,{visible:p}),h&&l.jsx(qz,{}),l.jsx(uR,{visible:n&&!p})]})]}),l.jsx(lR,{}),l.jsx(oR,{})]})})},mR=me(tt,Ub,bt,(e,t,n)=>{const{doesCanvasNeedScaling:r,isCanvasInitialized:o}=e;return{doesCanvasNeedScaling:r,activeTabName:n,initialCanvasImage:t,isCanvasInitialized:o}}),n4=()=>{const e=Y(),{doesCanvasNeedScaling:t,activeTabName:n,initialCanvasImage:r,isCanvasInitialized:o}=A(mR),s=g.useRef(null);return g.useLayoutEffect(()=>{window.setTimeout(()=>{if(!s.current)return;const{clientWidth:c,clientHeight:u}=s.current;e(uC({width:c,height:u})),e(o?dC():Cc()),e(_1(!1))},0)},[e,r,t,n,o]),l.jsx(L,{ref:s,sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,width:"100%",height:"100%"},children:l.jsx(xc,{thickness:"2px",speed:"1s",size:"xl"})})},vR=me([tt,bt,Et],(e,t,n)=>{const{futureLayerStates:r}=e;return{canRedo:r.length>0&&!n.isProcessing,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function r4(){const e=Y(),{canRedo:t,activeTabName:n}=A(vR),{t:r}=K(),o=()=>{e(fC())};return de(["meta+shift+z","ctrl+shift+z","control+y","meta+y"],()=>{o()},{enabled:()=>t,preventDefault:!0},[n,t]),l.jsx(se,{"aria-label":`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,tooltip:`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,icon:l.jsx(K9,{}),onClick:o,isDisabled:!t})}const gR=me([tt,bt,Et],(e,t,n)=>{const{pastLayerStates:r}=e;return{canUndo:r.length>0&&!n.isProcessing,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function o4(){const e=Y(),{t}=K(),{canUndo:n,activeTabName:r}=A(gR),o=()=>{e(hC())};return de(["meta+z","ctrl+z"],()=>{o()},{enabled:()=>n,preventDefault:!0},[r,n]),l.jsx(se,{"aria-label":`${t("unifiedCanvas.undo")} (Ctrl+Z)`,tooltip:`${t("unifiedCanvas.undo")} (Ctrl+Z)`,icon:l.jsx(J9,{}),onClick:o,isDisabled:!n})}const yR=(e,t,n)=>{const r=document.createElement("img");r.addEventListener("load",()=>{const o=document.createElement("canvas");o.width=t,o.height=n;const s=o.getContext("2d");s&&(s.drawImage(r,0,0),o.toBlob(c=>{c&&navigator.clipboard.write([new ClipboardItem({[c.type]:c})])}),o.remove(),r.remove())}),r.src=e},xR=e=>{const t=document.createElement("a");t.href=e,t.download="",document.body.appendChild(t),t.click(),document.body.removeChild(t),t.remove()},bR=(e,t,n,r)=>{const o=e.scale(),s=e.getClientRect({relativeTo:e.getParent()});e.scale({x:1/t,y:1/t});const{x:c,y:u,width:f,height:p}=e.getClientRect(),h=r?{x:r.x+n.x,y:r.y+n.y,width:r.width,height:r.height}:{x:c,y:u,width:f,height:p},y=e.toDataURL(h);return e.scale(o),{dataURL:y,boundingBox:{x:s.x,y:s.y,width:f,height:p}}},SR={cropVisible:!1,cropToBoundingBox:!1,shouldSaveToGallery:!1,shouldDownload:!1,shouldCopy:!1,shouldSetAsInitialImage:!0},co=(e=SR)=>async(t,n)=>{const{cropVisible:r,cropToBoundingBox:o,shouldSaveToGallery:s,shouldDownload:c,shouldCopy:u,shouldSetAsInitialImage:f}=e;t(pC("Exporting Image")),t(yl(!1));const p=n(),{stageScale:h,boundingBoxCoordinates:y,boundingBoxDimensions:x,stageCoordinates:S}=p.canvas,C=jr();if(!C){t(gd(!1)),t(yl(!0));return}const{dataURL:j,boundingBox:w}=bR(C,h,S,o?{...y,...x}:void 0);if(!j){t(gd(!1)),t(yl(!0));return}const k=new FormData;k.append("data",JSON.stringify({dataURL:j,filename:"merged_canvas.png",kind:s?"result":"temp",cropVisible:r}));const P=await(await fetch(`${window.location.origin}/upload`,{method:"POST",body:k})).json(),{url:M,width:T,height:D}=P,_={uuid:k1(),category:s?"result":"user",...P};c&&(xR(M),t(xl({title:Ta.t("toast.downloadImageStarted"),status:"success",duration:2500,isClosable:!0}))),u&&(yR(M,T,D),t(xl({title:Ta.t("toast.imageCopied"),status:"success",duration:2500,isClosable:!0}))),s&&(t(E1({image:_,category:"result"})),t(xl({title:Ta.t("toast.imageSavedToGallery"),status:"success",duration:2500,isClosable:!0}))),f&&(t(mC({kind:"image",layer:"base",...w,image:_})),t(xl({title:Ta.t("toast.canvasMerged"),status:"success",duration:2500,isClosable:!0}))),t(gd(!1)),t(vC(Ta.t("common.statusConnected"))),t(yl(!0))};function CR(){const e=A(Ot),t=jr(),n=A(u=>u.system.isProcessing),r=A(u=>u.canvas.shouldCropToBoundingBoxOnSave),o=Y(),{t:s}=K();de(["meta+c","ctrl+c"],()=>{c()},{enabled:()=>!e,preventDefault:!0},[t,n]);const c=()=>{o(co({cropVisible:!r,cropToBoundingBox:r,shouldCopy:!0}))};return l.jsx(se,{"aria-label":`${s("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,tooltip:`${s("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,icon:l.jsx(Qi,{}),onClick:c,isDisabled:e})}function wR(){const e=Y(),{t}=K(),n=jr(),r=A(Ot),o=A(u=>u.system.isProcessing),s=A(u=>u.canvas.shouldCropToBoundingBoxOnSave);de(["shift+d"],()=>{c()},{enabled:()=>!r,preventDefault:!0},[n,o]);const c=()=>{e(co({cropVisible:!s,cropToBoundingBox:s,shouldDownload:!0}))};return l.jsx(se,{"aria-label":`${t("unifiedCanvas.downloadAsImage")} (Shift+D)`,tooltip:`${t("unifiedCanvas.downloadAsImage")} (Shift+D)`,icon:l.jsx(Zh,{}),onClick:c,isDisabled:r})}function jR(){const e=A(Ot),{openUploader:t}=Xh(),{t:n}=K();return l.jsx(se,{"aria-label":n("common.upload"),tooltip:n("common.upload"),icon:l.jsx(Nc,{}),onClick:t,isDisabled:e})}const kR=me([tt,Ot],(e,t)=>{const{layer:n,isMaskEnabled:r}=e;return{layer:n,isMaskEnabled:r,isStaging:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function ER(){const e=Y(),{t}=K(),{layer:n,isMaskEnabled:r,isStaging:o}=A(kR),s=()=>{e(Zl(n==="mask"?"base":"mask"))};de(["q"],()=>{s()},{enabled:()=>!o,preventDefault:!0},[n]);const c=u=>{const f=u.target.value;e(Zl(f)),f==="mask"&&!r&&e(ls(!0))};return l.jsx(Mn,{tooltip:`${t("unifiedCanvas.layer")} (Q)`,"aria-label":`${t("unifiedCanvas.layer")} (Q)`,tooltipProps:{hasArrow:!0,placement:"top"},value:n,validValues:e2,onChange:c,isDisabled:o})}function PR(){const e=Y(),{t}=K(),n=jr(),r=A(Ot),o=A(c=>c.system.isProcessing);de(["shift+m"],()=>{s()},{enabled:()=>!r,preventDefault:!0},[n,o]);const s=()=>{e(co({cropVisible:!1,shouldSetAsInitialImage:!0}))};return l.jsx(se,{"aria-label":`${t("unifiedCanvas.mergeVisible")} (Shift+M)`,tooltip:`${t("unifiedCanvas.mergeVisible")} (Shift+M)`,icon:l.jsx(Kx,{}),onClick:s,isDisabled:r})}function IR(){const e=A(s=>s.canvas.tool),t=A(Ot),n=Y(),{t:r}=K();de(["v"],()=>{o()},{enabled:()=>!t,preventDefault:!0},[]);const o=()=>n(Sr("move"));return l.jsx(se,{"aria-label":`${r("unifiedCanvas.move")} (V)`,tooltip:`${r("unifiedCanvas.move")} (V)`,icon:l.jsx(Vx,{}),isChecked:e==="move"||t,onClick:o})}function MR(){const e=A(s=>s.ui.shouldPinParametersPanel),t=A(s=>s.ui.shouldShowParametersPanel),n=Y(),{t:r}=K(),o=()=>{n(Yl(!0)),e&&n(cn())};return!e||!t?l.jsxs(L,{flexDirection:"column",gap:2,children:[l.jsx(se,{tooltip:`${r("parameters.showOptionsPanel")} (O)`,tooltipProps:{placement:"top"},"aria-label":r("parameters.showOptionsPanel"),onClick:o,children:l.jsx(ep,{})}),l.jsx(L,{children:l.jsx(Mp,{iconButton:!0})}),l.jsx(L,{children:l.jsx(Pp,{width:"100%",height:"40px",btnGroupWidth:"100%"})})]}):null}function TR(){const e=Y(),{t}=K(),n=A(Ot),r=()=>{e(eh()),e(Cc())};return l.jsx(se,{"aria-label":t("unifiedCanvas.clearCanvas"),tooltip:t("unifiedCanvas.clearCanvas"),icon:l.jsx(So,{}),onClick:r,isDisabled:n,colorScheme:"error"})}function i4(e,t,n=250){const[r,o]=g.useState(0);return g.useEffect(()=>{const s=setTimeout(()=>{r===1&&e(),o(0)},n);return r===2&&t(),()=>clearTimeout(s)},[r,e,t,n]),()=>o(s=>s+1)}function _R(){const e=jr(),t=Y(),{t:n}=K();de(["r"],()=>{o()},{enabled:()=>!0,preventDefault:!0},[e]);const r=i4(()=>o(!1),()=>o(!0)),o=(s=!1)=>{const c=jr();if(!c)return;const u=c.getClientRect({skipTransform:!0});t(t2({contentRect:u,shouldScaleTo1:s}))};return l.jsx(se,{"aria-label":`${n("unifiedCanvas.resetView")} (R)`,tooltip:`${n("unifiedCanvas.resetView")} (R)`,icon:l.jsx($x,{}),onClick:r})}function DR(){const e=A(Ot),t=jr(),n=A(u=>u.system.isProcessing),r=A(u=>u.canvas.shouldCropToBoundingBoxOnSave),o=Y(),{t:s}=K();de(["shift+s"],()=>{c()},{enabled:()=>!e,preventDefault:!0},[t,n]);const c=()=>{o(co({cropVisible:!r,cropToBoundingBox:r,shouldSaveToGallery:!0}))};return l.jsx(se,{"aria-label":`${s("unifiedCanvas.saveToGallery")} (Shift+S)`,tooltip:`${s("unifiedCanvas.saveToGallery")} (Shift+S)`,icon:l.jsx(Jh,{}),onClick:c,isDisabled:e})}const AR=me([tt,Ot,Et],(e,t,n)=>{const{isProcessing:r}=n,{tool:o}=e;return{tool:o,isStaging:t,isProcessing:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),OR=()=>{const e=Y(),{t}=K(),{tool:n,isStaging:r}=A(AR);de(["b"],()=>{o()},{enabled:()=>!r,preventDefault:!0},[]),de(["e"],()=>{s()},{enabled:()=>!r,preventDefault:!0},[n]),de(["c"],()=>{c()},{enabled:()=>!r,preventDefault:!0},[n]),de(["shift+f"],()=>{u()},{enabled:()=>!r,preventDefault:!0}),de(["delete","backspace"],()=>{f()},{enabled:()=>!r,preventDefault:!0});const o=()=>e(Sr("brush")),s=()=>e(Sr("eraser")),c=()=>e(Sr("colorPicker")),u=()=>e(n2()),f=()=>e(r2());return l.jsxs(L,{flexDirection:"column",gap:2,children:[l.jsxs(Qt,{children:[l.jsx(se,{"aria-label":`${t("unifiedCanvas.brush")} (B)`,tooltip:`${t("unifiedCanvas.brush")} (B)`,icon:l.jsx(Xx,{}),isChecked:n==="brush"&&!r,onClick:o,isDisabled:r}),l.jsx(se,{"aria-label":`${t("unifiedCanvas.eraser")} (E)`,tooltip:`${t("unifiedCanvas.eraser")} (B)`,icon:l.jsx(Gx,{}),isChecked:n==="eraser"&&!r,isDisabled:r,onClick:s})]}),l.jsxs(Qt,{children:[l.jsx(se,{"aria-label":`${t("unifiedCanvas.fillBoundingBox")} (Shift+F)`,tooltip:`${t("unifiedCanvas.fillBoundingBox")} (Shift+F)`,icon:l.jsx(Yx,{}),isDisabled:r,onClick:u}),l.jsx(se,{"aria-label":`${t("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,tooltip:`${t("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,icon:l.jsx(Rc,{style:{transform:"rotate(45deg)"}}),isDisabled:r,onClick:f})]}),l.jsx(se,{"aria-label":`${t("unifiedCanvas.colorPicker")} (C)`,tooltip:`${t("unifiedCanvas.colorPicker")} (C)`,icon:l.jsx(qx,{}),isChecked:n==="colorPicker"&&!r,isDisabled:r,onClick:c,width:"max-content"})]})},a4=()=>{const e=A(Ot),t=Y(),{t:n}=K(),r=()=>{t(gC()),t(eh()),t(o2())};return l.jsxs(Vc,{title:n("unifiedCanvas.emptyTempImageFolder"),acceptCallback:r,acceptButtonText:n("unifiedCanvas.emptyFolder"),triggerComponent:l.jsx(Xe,{leftIcon:l.jsx(So,{}),size:"sm",isDisabled:e,children:n("unifiedCanvas.emptyTempImageFolder")}),children:[l.jsx("p",{children:n("unifiedCanvas.emptyTempImagesFolderMessage")}),l.jsx("br",{}),l.jsx("p",{children:n("unifiedCanvas.emptyTempImagesFolderConfirm")})]})},s4=()=>{const e=A(Ot),t=Y(),{t:n}=K();return l.jsxs(Vc,{title:n("unifiedCanvas.clearCanvasHistory"),acceptCallback:()=>t(o2()),acceptButtonText:n("unifiedCanvas.clearHistory"),triggerComponent:l.jsx(Xe,{size:"sm",leftIcon:l.jsx(So,{}),isDisabled:e,children:n("unifiedCanvas.clearCanvasHistory")}),children:[l.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryMessage")}),l.jsx("br",{}),l.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryConfirm")})]})},zR=me([tt],e=>{const{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldShowCanvasDebugInfo:r,shouldShowIntermediates:o}=e;return{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldShowCanvasDebugInfo:r,shouldShowIntermediates:o}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),RR=()=>{const e=Y(),{t}=K(),{shouldAutoSave:n,shouldCropToBoundingBoxOnSave:r,shouldShowCanvasDebugInfo:o,shouldShowIntermediates:s}=A(zR);return l.jsx(or,{isLazy:!1,triggerComponent:l.jsx(se,{tooltip:t("unifiedCanvas.canvasSettings"),tooltipProps:{placement:"bottom"},"aria-label":t("unifiedCanvas.canvasSettings"),icon:l.jsx(tp,{})}),children:l.jsxs(L,{direction:"column",gap:2,children:[l.jsx(ft,{label:t("unifiedCanvas.showIntermediates"),isChecked:s,onChange:c=>e(i2(c.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.autoSaveToGallery"),isChecked:n,onChange:c=>e(a2(c.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.saveBoxRegionOnly"),isChecked:r,onChange:c=>e(s2(c.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.showCanvasDebugInfo"),isChecked:o,onChange:c=>e(l2(c.target.checked))}),l.jsx(s4,{}),l.jsx(a4,{})]})})},NR=()=>l.jsxs(L,{flexDirection:"column",rowGap:2,children:[l.jsx(ER,{}),l.jsx(OR,{}),l.jsxs(L,{gap:2,children:[l.jsx(IR,{}),l.jsx(_R,{})]}),l.jsxs(L,{columnGap:2,children:[l.jsx(PR,{}),l.jsx(DR,{})]}),l.jsxs(L,{columnGap:2,children:[l.jsx(CR,{}),l.jsx(wR,{})]}),l.jsxs(L,{gap:2,children:[l.jsx(o4,{}),l.jsx(r4,{})]}),l.jsxs(L,{gap:2,children:[l.jsx(jR,{}),l.jsx(TR,{})]}),l.jsx(RR,{}),l.jsx(MR,{})]});function FR(){const e=Y(),t=A(o=>o.canvas.brushSize),{t:n}=K(),r=A(Ot);return de(["BracketLeft"],()=>{e(Bi(Math.max(t-5,5)))},{enabled:()=>!r,preventDefault:!0},[t]),de(["BracketRight"],()=>{e(Bi(Math.min(t+5,500)))},{enabled:()=>!r,preventDefault:!0},[t]),l.jsx(ut,{label:n("unifiedCanvas.brushSize"),value:t,withInput:!0,onChange:o=>e(Bi(o)),sliderNumberInputProps:{max:500},inputReadOnly:!1,isCompact:!0})}function $c(){return($c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l4(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function Yf(e){var t=g.useRef(e),n=g.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var ea=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Ua=function(e){return"touches"in e},Kf=function(e){return e&&e.ownerDocument.defaultView||self},u1=function(e,t,n){var r=e.getBoundingClientRect(),o=Ua(t)?function(s,c){for(var u=0;u<s.length;u++)if(s[u].identifier===c)return s[u];return s[0]}(t.touches,n):t;return{left:ea((o.pageX-(r.left+Kf(e).pageXOffset))/r.width),top:ea((o.pageY-(r.top+Kf(e).pageYOffset))/r.height)}},d1=function(e){!Ua(e)&&e.preventDefault()},Rp=Me.memo(function(e){var t=e.onMove,n=e.onKey,r=l4(e,["onMove","onKey"]),o=g.useRef(null),s=Yf(t),c=Yf(n),u=g.useRef(null),f=g.useRef(!1),p=g.useMemo(function(){var S=function(w){d1(w),(Ua(w)?w.touches.length>0:w.buttons>0)&&o.current?s(u1(o.current,w,u.current)):j(!1)},C=function(){return j(!1)};function j(w){var k=f.current,I=Kf(o.current),P=w?I.addEventListener:I.removeEventListener;P(k?"touchmove":"mousemove",S),P(k?"touchend":"mouseup",C)}return[function(w){var k=w.nativeEvent,I=o.current;if(I&&(d1(k),!function(M,T){return T&&!Ua(M)}(k,f.current)&&I)){if(Ua(k)){f.current=!0;var P=k.changedTouches||[];P.length&&(u.current=P[0].identifier)}I.focus(),s(u1(I,k,u.current)),j(!0)}},function(w){var k=w.which||w.keyCode;k<37||k>40||(w.preventDefault(),c({left:k===39?.05:k===37?-.05:0,top:k===40?.05:k===38?-.05:0}))},j]},[c,s]),h=p[0],y=p[1],x=p[2];return g.useEffect(function(){return x},[x]),Me.createElement("div",$c({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:y,tabIndex:0,role:"slider"}))}),Gc=function(e){return e.filter(Boolean).join(" ")},Np=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=Gc(["react-colorful__pointer",e.className]);return Me.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},Me.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},gn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},c4=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:gn(e.h),s:gn(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:gn(o/2),a:gn(r,2)}},Xf=function(e){var t=c4(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Gd=function(e){var t=c4(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},LR=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),c=r*(1-n),u=r*(1-(t-s)*n),f=r*(1-(1-t+s)*n),p=s%6;return{r:gn(255*[r,u,c,c,f,r][p]),g:gn(255*[f,r,r,u,c,c][p]),b:gn(255*[c,c,f,r,r,u][p]),a:gn(o,2)}},BR=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),c=s-Math.min(t,n,r),u=c?s===t?(n-r)/c:s===n?2+(r-t)/c:4+(t-n)/c:0;return{h:gn(60*(u<0?u+6:u)),s:gn(s?c/s*100:0),v:gn(s/255*100),a:o}},HR=Me.memo(function(e){var t=e.hue,n=e.onChange,r=Gc(["react-colorful__hue",e.className]);return Me.createElement("div",{className:r},Me.createElement(Rp,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:ea(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":gn(t),"aria-valuemax":"360","aria-valuemin":"0"},Me.createElement(Np,{className:"react-colorful__hue-pointer",left:t/360,color:Xf({h:t,s:100,v:100,a:1})})))}),WR=Me.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Xf({h:t.h,s:100,v:100,a:1})};return Me.createElement("div",{className:"react-colorful__saturation",style:r},Me.createElement(Rp,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:ea(t.s+100*o.left,0,100),v:ea(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+gn(t.s)+"%, Brightness "+gn(t.v)+"%"},Me.createElement(Np,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Xf(t)})))}),u4=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function VR(e,t,n){var r=Yf(n),o=g.useState(function(){return e.toHsva(t)}),s=o[0],c=o[1],u=g.useRef({color:t,hsva:s});g.useEffect(function(){if(!e.equal(t,u.current.color)){var p=e.toHsva(t);u.current={hsva:p,color:t},c(p)}},[t,e]),g.useEffect(function(){var p;u4(s,u.current.hsva)||e.equal(p=e.fromHsva(s),u.current.color)||(u.current={hsva:s,color:p},r(p))},[s,e,r]);var f=g.useCallback(function(p){c(function(h){return Object.assign({},h,p)})},[]);return[s,f]}var UR=typeof window<"u"?g.useLayoutEffect:g.useEffect,$R=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},f1=new Map,GR=function(e){UR(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!f1.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,f1.set(t,n);var r=$R();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},qR=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+Gd(Object.assign({},n,{a:0}))+", "+Gd(Object.assign({},n,{a:1}))+")"},s=Gc(["react-colorful__alpha",t]),c=gn(100*n.a);return Me.createElement("div",{className:s},Me.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),Me.createElement(Rp,{onMove:function(u){r({a:u.left})},onKey:function(u){r({a:ea(n.a+u.left)})},"aria-label":"Alpha","aria-valuetext":c+"%","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},Me.createElement(Np,{className:"react-colorful__alpha-pointer",left:n.a,color:Gd(n)})))},YR=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,c=l4(e,["className","colorModel","color","onChange"]),u=g.useRef(null);GR(u);var f=VR(n,o,s),p=f[0],h=f[1],y=Gc(["react-colorful",t]);return Me.createElement("div",$c({},c,{ref:u,className:y}),Me.createElement(WR,{hsva:p,onChange:h}),Me.createElement(HR,{hue:p.h,onChange:h}),Me.createElement(qR,{hsva:p,onChange:h,className:"react-colorful__last-control"}))},KR={defaultColor:{r:0,g:0,b:0,a:1},toHsva:BR,fromHsva:LR,equal:u4},XR=function(e){return Me.createElement(YR,$c({},e,{colorModel:KR}))};const QR=ne(XR,{baseStyle:{paddingInline:4},shouldForwardProp:e=>!["pickerColor"].includes(e)}),qd={width:6,height:6,borderColor:"base.100"},ZR=e=>{const{styleClass:t="",...n}=e;return l.jsx(QR,{sx:{".react-colorful__hue-pointer":qd,".react-colorful__saturation-pointer":qd,".react-colorful__alpha-pointer":qd},className:t,...n})},gc=g.memo(ZR),JR=me([tt,Ot],(e,t)=>{const{brushColor:n,maskColor:r,layer:o}=e;return{brushColor:n,maskColor:r,layer:o,isStaging:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function eN(){const e=Y(),{brushColor:t,maskColor:n,layer:r,isStaging:o}=A(JR),s=()=>{if(r==="base")return`rgba(${t.r},${t.g},${t.b},${t.a})`;if(r==="mask")return`rgba(${n.r},${n.g},${n.b},${n.a})`};return de(["shift+BracketLeft"],()=>{e(Hi({...t,a:ee.clamp(t.a-.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[t]),de(["shift+BracketRight"],()=>{e(Hi({...t,a:ee.clamp(t.a+.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[t]),l.jsx(or,{triggerComponent:l.jsx(Ye,{sx:{width:7,height:7,minWidth:7,minHeight:7,borderRadius:"full",bg:s(),cursor:"pointer"}}),children:l.jsxs(L,{minWidth:60,direction:"column",gap:4,width:"100%",children:[r==="base"&&l.jsx(gc,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:t,onChange:c=>e(Hi(c))}),r==="mask"&&l.jsx(gc,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:n,onChange:c=>e(c2(c))})]})})}function d4(){return l.jsxs(L,{columnGap:4,alignItems:"center",children:[l.jsx(FR,{}),l.jsx(eN,{})]})}function tN(){const e=Y(),t=A(r=>r.canvas.shouldRestrictStrokesToBox),{t:n}=K();return l.jsx(ft,{label:n("unifiedCanvas.betaLimitToBox"),isChecked:t,onChange:r=>e(u2(r.target.checked))})}function nN(){return l.jsxs(L,{gap:4,alignItems:"center",children:[l.jsx(d4,{}),l.jsx(tN,{})]})}function rN(){const e=Y(),{t}=K(),n=()=>e(Jf());return l.jsx(Xe,{size:"sm",leftIcon:l.jsx(So,{}),onClick:n,tooltip:`${t("unifiedCanvas.clearMask")} (Shift+C)`,children:t("unifiedCanvas.betaClear")})}function oN(){const e=A(o=>o.canvas.isMaskEnabled),t=Y(),{t:n}=K(),r=()=>t(ls(!e));return l.jsx(ft,{label:`${n("unifiedCanvas.enableMask")} (H)`,isChecked:e,onChange:r})}function iN(){const e=Y(),{t}=K(),n=A(r=>r.canvas.shouldPreserveMaskedArea);return l.jsx(ft,{label:t("unifiedCanvas.betaPreserveMasked"),isChecked:n,onChange:r=>e(d2(r.target.checked))})}function aN(){return l.jsxs(L,{gap:4,alignItems:"center",children:[l.jsx(d4,{}),l.jsx(oN,{}),l.jsx(iN,{}),l.jsx(rN,{})]})}function sN(){const e=A(r=>r.canvas.shouldDarkenOutsideBoundingBox),t=Y(),{t:n}=K();return l.jsx(ft,{label:n("unifiedCanvas.betaDarkenOutside"),isChecked:e,onChange:r=>t(f2(r.target.checked))})}function lN(){const e=A(r=>r.canvas.shouldShowGrid),t=Y(),{t:n}=K();return l.jsx(ft,{label:n("unifiedCanvas.showGrid"),isChecked:e,onChange:r=>t(h2(r.target.checked))})}function cN(){const e=A(o=>o.canvas.shouldSnapToGrid),t=Y(),{t:n}=K(),r=o=>t(Ql(o.target.checked));return l.jsx(ft,{label:`${n("unifiedCanvas.snapToGrid")} (N)`,isChecked:e,onChange:r})}function uN(){return l.jsxs(L,{alignItems:"center",gap:4,children:[l.jsx(lN,{}),l.jsx(cN,{}),l.jsx(sN,{})]})}const dN=me([tt],e=>{const{tool:t,layer:n}=e;return{tool:t,layer:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function fN(){const{tool:e,layer:t}=A(dN);return l.jsxs(L,{height:8,minHeight:8,maxHeight:8,alignItems:"center",children:[t=="base"&&["brush","eraser","colorPicker"].includes(e)&&l.jsx(nN,{}),t=="mask"&&["brush","eraser","colorPicker"].includes(e)&&l.jsx(aN,{}),e=="move"&&l.jsx(uN,{})]})}const hN=me([tt],e=>{const{doesCanvasNeedScaling:t}=e;return{doesCanvasNeedScaling:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),pN=()=>{const e=Y(),{doesCanvasNeedScaling:t}=A(hN);return g.useLayoutEffect(()=>{e(cn());const n=()=>{e(cn())};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),l.jsx(Ye,{sx:{width:"100%",height:"100%",borderRadius:"base",bg:"base.850"},children:l.jsxs(L,{flexDirection:"row",width:"100%",height:"100%",columnGap:4,padding:4,children:[l.jsx(NR,{}),l.jsxs(L,{width:"100%",height:"100%",flexDirection:"column",rowGap:4,children:[l.jsx(fN,{}),t?l.jsx(n4,{}):l.jsx(t4,{})]})]})})},mN=me([tt,Ot],(e,t)=>{const{maskColor:n,layer:r,isMaskEnabled:o,shouldPreserveMaskedArea:s}=e;return{layer:r,maskColor:n,maskColorString:Ko(n),isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),vN=()=>{const e=Y(),{t}=K(),{layer:n,maskColor:r,isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:c}=A(mN);de(["q"],()=>{u()},{enabled:()=>!c,preventDefault:!0},[n]),de(["shift+c"],()=>{f()},{enabled:()=>!c,preventDefault:!0},[]),de(["h"],()=>{p()},{enabled:()=>!c,preventDefault:!0},[o]);const u=()=>{e(Zl(n==="mask"?"base":"mask"))},f=()=>e(Jf()),p=()=>e(ls(!o));return l.jsx(or,{triggerComponent:l.jsx(Qt,{children:l.jsx(se,{"aria-label":t("unifiedCanvas.maskingOptions"),tooltip:t("unifiedCanvas.maskingOptions"),icon:l.jsx(V9,{}),isChecked:n==="mask",isDisabled:c})}),children:l.jsxs(L,{direction:"column",gap:2,children:[l.jsx(ft,{label:`${t("unifiedCanvas.enableMask")} (H)`,isChecked:o,onChange:p}),l.jsx(ft,{label:t("unifiedCanvas.preserveMaskedArea"),isChecked:s,onChange:h=>e(d2(h.target.checked))}),l.jsx(gc,{sx:{paddingTop:2,paddingBottom:2},pickerColor:r,onChange:h=>e(c2(h))}),l.jsxs(Xe,{size:"sm",leftIcon:l.jsx(So,{}),onClick:f,children:[t("unifiedCanvas.clearMask")," (Shift+C)"]})]})})},gN=me([tt],e=>{const{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:c,shouldSnapToGrid:u,shouldRestrictStrokesToBox:f}=e;return{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:c,shouldSnapToGrid:u,shouldRestrictStrokesToBox:f}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),yN=()=>{const e=Y(),{t}=K(),{shouldAutoSave:n,shouldCropToBoundingBoxOnSave:r,shouldDarkenOutsideBoundingBox:o,shouldShowCanvasDebugInfo:s,shouldShowGrid:c,shouldShowIntermediates:u,shouldSnapToGrid:f,shouldRestrictStrokesToBox:p}=A(gN);de(["n"],()=>{e(Ql(!f))},{enabled:!0,preventDefault:!0},[f]);const h=y=>e(Ql(y.target.checked));return l.jsx(or,{isLazy:!1,triggerComponent:l.jsx(se,{tooltip:t("unifiedCanvas.canvasSettings"),"aria-label":t("unifiedCanvas.canvasSettings"),icon:l.jsx(tp,{})}),children:l.jsxs(L,{direction:"column",gap:2,children:[l.jsx(ft,{label:t("unifiedCanvas.showIntermediates"),isChecked:u,onChange:y=>e(i2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.showGrid"),isChecked:c,onChange:y=>e(h2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.snapToGrid"),isChecked:f,onChange:h}),l.jsx(ft,{label:t("unifiedCanvas.darkenOutsideSelection"),isChecked:o,onChange:y=>e(f2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.autoSaveToGallery"),isChecked:n,onChange:y=>e(a2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.saveBoxRegionOnly"),isChecked:r,onChange:y=>e(s2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.limitStrokesToBox"),isChecked:p,onChange:y=>e(u2(y.target.checked))}),l.jsx(ft,{label:t("unifiedCanvas.showCanvasDebugInfo"),isChecked:s,onChange:y=>e(l2(y.target.checked))}),l.jsx(s4,{}),l.jsx(a4,{})]})})},xN=me([tt,Ot,Et],(e,t,n)=>{const{isProcessing:r}=n,{tool:o,brushColor:s,brushSize:c}=e;return{tool:o,isStaging:t,isProcessing:r,brushColor:s,brushSize:c}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),bN=()=>{const e=Y(),{tool:t,brushColor:n,brushSize:r,isStaging:o}=A(xN),{t:s}=K();de(["b"],()=>{c()},{enabled:()=>!o,preventDefault:!0},[]),de(["e"],()=>{u()},{enabled:()=>!o,preventDefault:!0},[t]),de(["c"],()=>{f()},{enabled:()=>!o,preventDefault:!0},[t]),de(["shift+f"],()=>{p()},{enabled:()=>!o,preventDefault:!0}),de(["delete","backspace"],()=>{h()},{enabled:()=>!o,preventDefault:!0}),de(["BracketLeft"],()=>{e(Bi(Math.max(r-5,5)))},{enabled:()=>!o,preventDefault:!0},[r]),de(["BracketRight"],()=>{e(Bi(Math.min(r+5,500)))},{enabled:()=>!o,preventDefault:!0},[r]),de(["shift+BracketLeft"],()=>{e(Hi({...n,a:ee.clamp(n.a-.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]),de(["shift+BracketRight"],()=>{e(Hi({...n,a:ee.clamp(n.a+.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]);const c=()=>e(Sr("brush")),u=()=>e(Sr("eraser")),f=()=>e(Sr("colorPicker")),p=()=>e(n2()),h=()=>e(r2());return l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{"aria-label":`${s("unifiedCanvas.brush")} (B)`,tooltip:`${s("unifiedCanvas.brush")} (B)`,icon:l.jsx(Xx,{}),isChecked:t==="brush"&&!o,onClick:c,isDisabled:o}),l.jsx(se,{"aria-label":`${s("unifiedCanvas.eraser")} (E)`,tooltip:`${s("unifiedCanvas.eraser")} (E)`,icon:l.jsx(Gx,{}),isChecked:t==="eraser"&&!o,isDisabled:o,onClick:u}),l.jsx(se,{"aria-label":`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,tooltip:`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,icon:l.jsx(Yx,{}),isDisabled:o,onClick:p}),l.jsx(se,{"aria-label":`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,tooltip:`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,icon:l.jsx(Rc,{style:{transform:"rotate(45deg)"}}),isDisabled:o,onClick:h}),l.jsx(se,{"aria-label":`${s("unifiedCanvas.colorPicker")} (C)`,tooltip:`${s("unifiedCanvas.colorPicker")} (C)`,icon:l.jsx(qx,{}),isChecked:t==="colorPicker"&&!o,isDisabled:o,onClick:f}),l.jsx(or,{triggerComponent:l.jsx(se,{"aria-label":s("unifiedCanvas.brushOptions"),tooltip:s("unifiedCanvas.brushOptions"),icon:l.jsx(ep,{})}),children:l.jsxs(L,{minWidth:60,direction:"column",gap:4,width:"100%",children:[l.jsx(L,{gap:4,justifyContent:"space-between",children:l.jsx(ut,{label:s("unifiedCanvas.brushSize"),value:r,withInput:!0,onChange:y=>e(Bi(y)),sliderNumberInputProps:{max:500},inputReadOnly:!1})}),l.jsx(gc,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:n,onChange:y=>e(Hi(y))})]})})]})},SN=me([Et,tt,Ot],(e,t,n)=>{const{isProcessing:r}=e,{tool:o,shouldCropToBoundingBoxOnSave:s,layer:c,isMaskEnabled:u}=t;return{isProcessing:r,isStaging:n,isMaskEnabled:u,tool:o,layer:c,shouldCropToBoundingBoxOnSave:s}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),CN=()=>{const e=Y(),{isProcessing:t,isStaging:n,isMaskEnabled:r,layer:o,tool:s,shouldCropToBoundingBoxOnSave:c}=A(SN),u=jr(),{t:f}=K(),{openUploader:p}=Xh();de(["v"],()=>{h()},{enabled:()=>!n,preventDefault:!0},[]),de(["r"],()=>{x()},{enabled:()=>!0,preventDefault:!0},[u]),de(["shift+m"],()=>{C()},{enabled:()=>!n,preventDefault:!0},[u,t]),de(["shift+s"],()=>{j()},{enabled:()=>!n,preventDefault:!0},[u,t]),de(["meta+c","ctrl+c"],()=>{w()},{enabled:()=>!n,preventDefault:!0},[u,t]),de(["shift+d"],()=>{k()},{enabled:()=>!n,preventDefault:!0},[u,t]);const h=()=>e(Sr("move")),y=i4(()=>x(!1),()=>x(!0)),x=(P=!1)=>{const M=jr();if(!M)return;const T=M.getClientRect({skipTransform:!0});e(t2({contentRect:T,shouldScaleTo1:P}))},S=()=>{e(eh()),e(Cc())},C=()=>{e(co({cropVisible:!1,shouldSetAsInitialImage:!0}))},j=()=>{e(co({cropVisible:!c,cropToBoundingBox:c,shouldSaveToGallery:!0}))},w=()=>{e(co({cropVisible:!c,cropToBoundingBox:c,shouldCopy:!0}))},k=()=>{e(co({cropVisible:!c,cropToBoundingBox:c,shouldDownload:!0}))},I=P=>{const M=P.target.value;e(Zl(M)),M==="mask"&&!r&&e(ls(!0))};return l.jsxs(L,{sx:{alignItems:"center",gap:2},children:[l.jsx(Mn,{tooltip:`${f("unifiedCanvas.layer")} (Q)`,tooltipProps:{hasArrow:!0,placement:"top"},value:o,validValues:e2,onChange:I,isDisabled:n}),l.jsx(vN,{}),l.jsx(bN,{}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{"aria-label":`${f("unifiedCanvas.move")} (V)`,tooltip:`${f("unifiedCanvas.move")} (V)`,icon:l.jsx(Vx,{}),isChecked:s==="move"||n,onClick:h}),l.jsx(se,{"aria-label":`${f("unifiedCanvas.resetView")} (R)`,tooltip:`${f("unifiedCanvas.resetView")} (R)`,icon:l.jsx($x,{}),onClick:y})]}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{"aria-label":`${f("unifiedCanvas.mergeVisible")} (Shift+M)`,tooltip:`${f("unifiedCanvas.mergeVisible")} (Shift+M)`,icon:l.jsx(Kx,{}),onClick:C,isDisabled:n}),l.jsx(se,{"aria-label":`${f("unifiedCanvas.saveToGallery")} (Shift+S)`,tooltip:`${f("unifiedCanvas.saveToGallery")} (Shift+S)`,icon:l.jsx(Jh,{}),onClick:j,isDisabled:n}),l.jsx(se,{"aria-label":`${f("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,tooltip:`${f("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,icon:l.jsx(Qi,{}),onClick:w,isDisabled:n}),l.jsx(se,{"aria-label":`${f("unifiedCanvas.downloadAsImage")} (Shift+D)`,tooltip:`${f("unifiedCanvas.downloadAsImage")} (Shift+D)`,icon:l.jsx(Zh,{}),onClick:k,isDisabled:n})]}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(o4,{}),l.jsx(r4,{})]}),l.jsxs(Qt,{isAttached:!0,children:[l.jsx(se,{"aria-label":`${f("common.upload")}`,tooltip:`${f("common.upload")}`,icon:l.jsx(Nc,{}),onClick:p,isDisabled:n}),l.jsx(se,{"aria-label":`${f("unifiedCanvas.clearCanvas")}`,tooltip:`${f("unifiedCanvas.clearCanvas")}`,icon:l.jsx(So,{}),onClick:S,colorScheme:"error",isDisabled:n})]}),l.jsx(Qt,{isAttached:!0,children:l.jsx(yN,{})})]})},wN=me([tt],e=>{const{doesCanvasNeedScaling:t}=e;return{doesCanvasNeedScaling:t}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),jN=()=>{const e=Y(),{doesCanvasNeedScaling:t}=A(wN);return g.useLayoutEffect(()=>{e(cn());const n=()=>{e(cn())};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),l.jsx(Ye,{sx:{width:"100%",height:"100%",padding:4,borderRadius:"base",bg:"base.850"},children:l.jsxs(L,{sx:{flexDirection:"column",alignItems:"center",gap:4,width:"100%",height:"100%"},children:[l.jsx(CN,{}),l.jsx(L,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,width:"100%",height:"100%"},children:t?l.jsx(n4,{}):l.jsx(t4,{})})]})})},kN=me(tt,e=>{const{boundingBoxDimensions:t,boundingBoxScaleMethod:n}=e;return{boundingBoxDimensions:t,boundingBoxScale:n}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),EN=()=>{const e=Y(),{boundingBoxDimensions:t}=A(kN),{t:n}=K(),r=u=>{e(Na({...t,width:Math.floor(u)}))},o=u=>{e(Na({...t,height:Math.floor(u)}))},s=()=>{e(Na({...t,width:Math.floor(512)}))},c=()=>{e(Na({...t,height:Math.floor(512)}))};return l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(ut,{label:n("parameters.width"),min:64,max:1024,step:64,value:t.width,onChange:r,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:s}),l.jsx(ut,{label:n("parameters.height"),min:64,max:1024,step:64,value:t.height,onChange:o,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:c})]})},PN=me([Ip,Et,tt],(e,t,n)=>{const{tileSize:r,infillMethod:o}=e,{infill_methods:s}=t,{boundingBoxScaleMethod:c,scaledBoundingBoxDimensions:u}=n;return{boundingBoxScale:c,scaledBoundingBoxDimensions:u,tileSize:r,infillMethod:o,availableInfillMethods:s,isManual:c==="manual"}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),IN=()=>{const e=Y(),{tileSize:t,infillMethod:n,availableInfillMethods:r,boundingBoxScale:o,isManual:s,scaledBoundingBoxDimensions:c}=A(PN),{t:u}=K(),f=S=>{e(bl({...c,width:Math.floor(S)}))},p=S=>{e(bl({...c,height:Math.floor(S)}))},h=()=>{e(bl({...c,width:Math.floor(512)}))},y=()=>{e(bl({...c,height:Math.floor(512)}))},x=S=>{e(bC(S.target.value))};return l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(Mn,{label:u("parameters.scaleBeforeProcessing"),validValues:yC,value:o,onChange:x}),l.jsx(ut,{isInputDisabled:!s,isResetDisabled:!s,isSliderDisabled:!s,label:u("parameters.scaledWidth"),min:64,max:1024,step:64,value:c.width,onChange:f,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:h}),l.jsx(ut,{isInputDisabled:!s,isResetDisabled:!s,isSliderDisabled:!s,label:u("parameters.scaledHeight"),min:64,max:1024,step:64,value:c.height,onChange:p,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,inputReadOnly:!0,withReset:!0,handleReset:y}),l.jsx(Mn,{label:u("parameters.infillMethod"),value:n,validValues:r,onChange:S=>e(xC(S.target.value))}),l.jsx(ut,{isInputDisabled:n!=="tile",isResetDisabled:n!=="tile",isSliderDisabled:n!=="tile",label:u("parameters.tileSize"),min:16,max:64,sliderNumberInputProps:{max:256},value:t,onChange:S=>{e(Vv(S))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(Vv(32))}})]})};function MN(){const e=Y(),t=A(r=>r.generation.seamBlur),{t:n}=K();return l.jsx(ut,{label:n("parameters.seamBlur"),min:0,max:64,sliderNumberInputProps:{max:512},value:t,onChange:r=>{e(Uv(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(Uv(16))}})}function TN(){const e=Y(),{t}=K(),n=A(r=>r.generation.seamSize);return l.jsx(ut,{label:t("parameters.seamSize"),min:1,max:256,sliderNumberInputProps:{max:512},value:n,onChange:r=>{e($v(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>e($v(96))})}function _N(){const{t:e}=K(),t=A(r=>r.generation.seamSteps),n=Y();return l.jsx(ut,{label:e("parameters.seamSteps"),min:1,max:100,sliderNumberInputProps:{max:999},value:t,onChange:r=>{n(Gv(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{n(Gv(30))}})}function DN(){const e=Y(),{t}=K(),n=A(r=>r.generation.seamStrength);return l.jsx(ut,{label:t("parameters.seamStrength"),min:.01,max:.99,step:.01,value:n,onChange:r=>{e(qv(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(qv(.7))}})}const AN=()=>l.jsxs(Fe,{gap:2,alignItems:"stretch",children:[l.jsx(TN,{}),l.jsx(MN,{}),l.jsx(DN,{}),l.jsx(_N,{})]});function ON(){const{t:e}=K(),t={general:{header:`${e("parameters.general")}`,feature:void 0,content:l.jsx(kp,{})},unifiedCanvasImg2Img:{header:`${e("parameters.imageToImage")}`,feature:void 0,content:l.jsx(Gb,{label:e("parameters.img2imgStrength")})},seed:{header:`${e("parameters.seed")}`,feature:ln.SEED,content:l.jsx(Cp,{})},boundingBox:{header:`${e("parameters.boundingBoxHeader")}`,feature:ln.BOUNDING_BOX,content:l.jsx(EN,{})},seamCorrection:{header:`${e("parameters.seamCorrectionHeader")}`,feature:ln.SEAM_CORRECTION,content:l.jsx(AN,{})},infillAndScaling:{header:`${e("parameters.infillScalingHeader")}`,feature:ln.INFILL_AND_SCALING,content:l.jsx(IN,{})},variations:{header:`${e("parameters.variations")}`,feature:ln.VARIATIONS,content:l.jsx(jp,{}),additionalHeaderComponents:l.jsx(wp,{})},symmetry:{header:`${e("parameters.symmetry")}`,content:l.jsx(bp,{}),additionalHeaderComponents:l.jsx(Sp,{})}};return l.jsxs(L,{flexDir:"column",gap:2,position:"relative",children:[l.jsx(Dp,{}),l.jsx(_p,{}),l.jsx(Tp,{}),l.jsx(Ep,{accordionInfo:t})]})}function zN(){const e=A(n=>n.ui.shouldUseCanvasBetaLayout),t=A(bt);return l.jsx(pp,{parametersPanelContent:l.jsx(ON,{}),children:t==="unifiedCanvas"&&(e?l.jsx(pN,{}):l.jsx(jN,{}))})}const Di={boxSize:6},h1=[{id:"txt2img",icon:l.jsx(tn,{as:qD,sx:Di}),workarea:l.jsx(jO,{})},{id:"img2img",icon:l.jsx(tn,{as:fp,sx:Di}),workarea:l.jsx(vO,{})},{id:"unifiedCanvas",icon:l.jsx(tn,{as:XD,sx:Di}),workarea:l.jsx(zN,{})},{id:"nodes",icon:l.jsx(tn,{as:YD,sx:Di}),workarea:l.jsx(iA,{})},{id:"postprocessing",icon:l.jsx(tn,{as:QD,sx:Di}),workarea:l.jsx(aA,{})},{id:"training",icon:l.jsx(tn,{as:KD,sx:Di}),workarea:l.jsx(sA,{})}];function RN(){const e=A(iE),t=A(f=>f.lightbox.isLightboxOpen),n=A(f=>f.ui.shouldPinGallery),r=A(f=>f.ui.shouldPinParametersPanel),{t:o}=K(),s=Y();de("1",()=>{s(kn(0))}),de("2",()=>{s(kn(1))}),de("3",()=>{s(kn(2))}),de("4",()=>{s(kn(3))}),de("5",()=>{s(kn(4))}),de("6",()=>{s(kn(5))}),de("z",()=>{s(Uo(!t))},[t]),de("f",()=>{s(SC()),(n||r)&&s(cn())},[n,r]);const c=g.useMemo(()=>h1.map(f=>l.jsx(Gt,{hasArrow:!0,label:String(o(`common.${f.id}`)),placement:"end",children:l.jsxs(Sx,{children:[l.jsx(E2,{children:String(o(`common.${f.id}`))}),f.icon]})},f.id)),[o]),u=g.useMemo(()=>h1.map(f=>l.jsx(xx,{children:f.workarea},f.id)),[]);return l.jsxs(gx,{defaultIndex:e,index:e,onChange:f=>{s(kn(f))},flexGrow:1,children:[l.jsx(yx,{children:c}),l.jsx(bx,{children:u})]})}function NN(){async function e(n=""){return await fetch(n,{method:"GET",cache:"no-cache"})}const t=()=>{const n=document.location;e(n+"/flaskwebgui-keep-server-alive").then(o=>o)};(!{}.NODE_ENV||{}.NODE_ENV==="production")&&document.addEventListener("DOMContentLoaded",()=>{t(),setInterval(t,3e3)})}const FN=()=>{const e=Y(),t=A(tP),n=us();g.useEffect(()=>{t.forEach(r=>{n(r)}),t.length>0&&e(CC())},[e,n,t])},LN=me([bt,Pr],(e,t)=>{const{shouldPinGallery:n,shouldShowGallery:r}=t;return{shouldPinGallery:n,shouldShowGalleryButton:(!n||!r)&&["txt2img","img2img","unifiedCanvas"].includes(e)}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),BN=()=>{const{t:e}=K(),{shouldPinGallery:t,shouldShowGalleryButton:n}=A(LN),r=Y(),o=()=>{r(uf(!0)),t&&r(cn())};return n?l.jsx(se,{tooltip:"Show Gallery (G)",tooltipProps:{placement:"top"},"aria-label":e("accessibility.showGallery"),onClick:o,sx:{pos:"absolute",top:"50%",transform:"translate(0, -50%)",zIndex:31,p:0,insetInlineEnd:0,px:3,h:48,w:8,borderStartEndRadius:0,borderEndEndRadius:0},children:l.jsx(fp,{})}):null},Yd={borderStartStartRadius:0,borderEndStartRadius:0},HN=me([Pr,bt],(e,t)=>{const{shouldPinParametersPanel:n,shouldUseCanvasBetaLayout:r,shouldShowParametersPanel:o}=e,s=r&&t==="unifiedCanvas",c=!s&&(!n||!o),u=!s&&(!n||!o)&&["txt2img","img2img","unifiedCanvas"].includes(t);return{shouldPinParametersPanel:n,shouldShowParametersPanelButton:u,shouldShowProcessButtons:c}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}}),WN=()=>{const e=Y(),{t}=K(),{shouldShowProcessButtons:n,shouldShowParametersPanelButton:r,shouldPinParametersPanel:o}=A(HN),s=()=>{e(Yl(!0)),o&&e(cn())};return r?l.jsxs(L,{pos:"absolute",transform:"translate(0, -50%)",zIndex:20,minW:8,top:"50%",insetInlineStart:"4.5rem",direction:"column",gap:2,children:[l.jsx(se,{tooltip:"Show Options Panel (O)",tooltipProps:{placement:"top"},"aria-label":t("accessibility.showOptionsPanel"),onClick:s,sx:Yd,children:l.jsx(ep,{})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(Mp,{iconButton:!0,sx:Yd}),l.jsx(Pp,{sx:Yd})]})]}):null};var $a=globalThis&&globalThis.__assign||function(){return $a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$a.apply(this,arguments)};function VN(e){var t,n=g.useState(!1),r=n[0],o=n[1],s=g.useState(!1),c=s[0],u=s[1],f=g.useState(!1),p=f[0],h=f[1],y=g.useState([0,0]),x=y[0],S=y[1],C=g.useRef(null);g.useEffect(function(){if(r)setTimeout(function(){u(!0),setTimeout(function(){h(!0)})});else{h(!1);var w=setTimeout(function(){u(r)},1e3);return function(){return clearTimeout(w)}}},[r]),O6("contextmenu",function(w){var k;!((k=C.current)===null||k===void 0)&&k.contains(w.target)||w.target===C.current?(w.preventDefault(),o(!0),S([w.pageX,w.pageY])):o(!1)});var j=g.useCallback(function(){var w,k;(k=(w=e.menuProps)===null||w===void 0?void 0:w.onClose)===null||k===void 0||k.call(w),o(!1)},[(t=e.menuProps)===null||t===void 0?void 0:t.onClose,o]);return g.createElement(g.Fragment,null,e.children(C),c&&g.createElement(qa,$a({},e.portalProps),g.createElement(Oh,$a({isOpen:p,gutter:0},e.menuProps,{onClose:j}),g.createElement(Rh,$a({"aria-hidden":!0,w:1,h:1,style:{position:"absolute",left:x[0],top:x[1],cursor:"default"}},e.menuButtonProps)),e.renderMenu())))}const UN=(e,t)=>e.image.uuid===t.image.uuid&&e.isSelected===t.isSelected,f4=g.memo(e=>{const t=Y(),{activeTabName:n,galleryImageObjectFit:r,galleryImageMinimumWidth:o,mayDeleteImage:s,shouldUseSingleGalleryColumn:c}=A(cA),{image:u,isSelected:f}=e,{url:p,thumbnail:h,uuid:y,metadata:x}=u,[S,C]=g.useState(!1),j=us(),{direction:w}=na(),{t:k}=K(),I=yp(),P=()=>C(!0),M=()=>C(!1),T=()=>{var X,te,re,$;(te=(X=u.metadata)==null?void 0:X.image)!=null&&te.prompt&&I(($=(re=u.metadata)==null?void 0:re.image)==null?void 0:$.prompt),j({title:k("toast.promptSet"),status:"success",duration:2500,isClosable:!0})},D=()=>{u.metadata&&t(ss(u.metadata.image.seed)),j({title:k("toast.seedSet"),status:"success",duration:2500,isClosable:!0})},_=()=>{t(is(u)),n!=="img2img"&&t(kn("img2img")),j({title:k("toast.sentToImageToImage"),status:"success",duration:2500,isClosable:!0})},R=()=>{t(Sc(u)),t(Cc()),n!=="unifiedCanvas"&&t(kn("unifiedCanvas")),j({title:k("toast.sentToUnifiedCanvas"),status:"success",duration:2500,isClosable:!0})},V=()=>{x&&t(R1(x)),j({title:k("toast.parametersSet"),status:"success",duration:2500,isClosable:!0})},F=async()=>{var X;if((X=x==null?void 0:x.image)!=null&&X.init_image_path&&(await fetch(x.image.init_image_path)).ok){t(kn("img2img")),t(wC(x)),j({title:k("toast.initialImageSet"),status:"success",duration:2500,isClosable:!0});return}j({title:k("toast.initialImageNotSet"),description:k("toast.initialImageNotSetDesc"),status:"error",duration:2500,isClosable:!0})},B=()=>t(Yv(u)),Q=X=>{X.dataTransfer.setData("invokeai/imageUuid",y),X.dataTransfer.effectAllowed="move"},U=()=>{t(Yv(u)),t(Uo(!0))};return l.jsx(VN,{menuProps:{size:"sm",isLazy:!0},renderMenu:()=>{var X,te,re,$,Z,oe,le,ze;return l.jsxs(zh,{children:[l.jsx(gr,{onClickCapture:U,children:k("parameters.openInViewer")}),l.jsx(gr,{onClickCapture:T,isDisabled:((te=(X=u==null?void 0:u.metadata)==null?void 0:X.image)==null?void 0:te.prompt)===void 0,children:k("parameters.usePrompt")}),l.jsx(gr,{onClickCapture:D,isDisabled:(($=(re=u==null?void 0:u.metadata)==null?void 0:re.image)==null?void 0:$.seed)===void 0,children:k("parameters.useSeed")}),l.jsx(gr,{onClickCapture:V,isDisabled:!["txt2img","img2img"].includes((oe=(Z=u==null?void 0:u.metadata)==null?void 0:Z.image)==null?void 0:oe.type),children:k("parameters.useAll")}),l.jsx(gr,{onClickCapture:F,isDisabled:((ze=(le=u==null?void 0:u.metadata)==null?void 0:le.image)==null?void 0:ze.type)!=="img2img",children:k("parameters.useInitImg")}),l.jsx(gr,{onClickCapture:_,children:k("parameters.sendToImg2Img")}),l.jsx(gr,{onClickCapture:R,children:k("parameters.sendToUnifiedCanvas")}),l.jsx(gr,{"data-warning":!0,children:l.jsx(pc,{image:u,children:l.jsx("p",{children:k("parameters.deleteImage")})})})]})},children:X=>l.jsxs(Ye,{position:"relative",onMouseOver:P,onMouseOut:M,userSelect:"none",draggable:!0,onDragStart:Q,ref:X,sx:{padding:2,display:"flex",justifyContent:"center",transition:"transform 0.2s ease-out",_hover:{cursor:"pointer",zIndex:2},_before:{content:'""',display:"block",paddingBottom:"100%"}},children:[l.jsx(Xo,{objectFit:c?"contain":r,rounded:"md",src:h||p,loading:"lazy",sx:{position:"absolute",width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",top:"50%",transform:"translate(-50%,-50%)",...w==="rtl"?{insetInlineEnd:"50%"}:{insetInlineStart:"50%"}}}),l.jsx(L,{onClick:B,sx:{position:"absolute",top:"0",insetInlineStart:"0",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:f&&l.jsx(tn,{as:zc,sx:{width:"50%",height:"50%",fill:"ok.500"}})}),S&&o>=64&&l.jsx(Ye,{sx:{position:"absolute",top:1,insetInlineEnd:1},children:l.jsx(pc,{image:u,children:l.jsx(se,{"aria-label":k("parameters.deleteImage"),icon:l.jsx(Z9,{}),size:"xs",fontSize:14,isDisabled:!s})})})]},y)})},UN);f4.displayName="HoverableImage";const $N=290,h4=()=>{const e=Y(),{t}=K(),n=g.useRef(null),[r,o]=g.useState(!0),{images:s,currentCategory:c,currentImageUuid:u,shouldPinGallery:f,galleryImageMinimumWidth:p,galleryGridTemplateColumns:h,galleryImageObjectFit:y,shouldAutoSwitchToNewImages:x,areMoreImagesAvailable:S,shouldUseSingleGalleryColumn:C}=A(lA),j=()=>{e(PC(c))},w=I=>{e(Jl(I))},k=()=>{e(p2()),e(cn())};return g.useEffect(()=>{if(!n.current)return;const I=new ResizeObserver(()=>{if(n.current){if(n.current.clientWidth<$N){o(!0);return}o(!1)}});return I.observe(n.current),()=>I.disconnect()},[]),l.jsxs(L,{flexDirection:"column",w:"full",h:"full",gap:4,children:[l.jsxs(L,{ref:n,alignItems:"center",justifyContent:"space-between",children:[l.jsx(Qt,{size:"sm",isAttached:!0,w:"max-content",justifyContent:"stretch",children:r?l.jsxs(l.Fragment,{children:[l.jsx(se,{"aria-label":t("gallery.showGenerations"),tooltip:t("gallery.showGenerations"),isChecked:c==="result",role:"radio",icon:l.jsx(B9,{}),onClick:()=>e(Sl("result"))}),l.jsx(se,{"aria-label":t("gallery.showUploads"),tooltip:t("gallery.showUploads"),role:"radio",isChecked:c==="user",icon:l.jsx(eP,{}),onClick:()=>e(Sl("user"))})]}):l.jsxs(l.Fragment,{children:[l.jsx(Xe,{size:"sm",isChecked:c==="result",onClick:()=>e(Sl("result")),flexGrow:1,children:t("gallery.generations")}),l.jsx(Xe,{size:"sm",isChecked:c==="user",onClick:()=>e(Sl("user")),flexGrow:1,children:t("gallery.uploads")})]})}),l.jsxs(L,{gap:2,children:[l.jsx(or,{triggerComponent:l.jsx(se,{size:"sm","aria-label":t("gallery.gallerySettings"),icon:l.jsx(tp,{})}),children:l.jsxs(L,{direction:"column",gap:2,children:[l.jsx(ut,{value:p,onChange:w,min:32,max:256,hideTooltip:!0,label:t("gallery.galleryImageSize"),withReset:!0,handleReset:()=>e(Jl(64))}),l.jsx(ft,{label:t("gallery.maintainAspectRatio"),isChecked:y==="contain",onChange:()=>e(jC(y==="contain"?"cover":"contain"))}),l.jsx(ft,{label:t("gallery.autoSwitchNewImages"),isChecked:x,onChange:I=>e(kC(I.target.checked))}),l.jsx(ft,{label:t("gallery.singleColumnLayout"),isChecked:C,onChange:I=>e(EC(I.target.checked))})]})}),l.jsx(se,{size:"sm","aria-label":t("gallery.pinGallery"),tooltip:`${t("gallery.pinGallery")} (Shift+G)`,onClick:k,icon:f?l.jsx(Rb,{}):l.jsx(Nb,{})})]})]}),l.jsx(zb,{children:l.jsx(L,{direction:"column",gap:2,h:"full",children:s.length||S?l.jsxs(l.Fragment,{children:[l.jsx(ir,{gap:2,style:{gridTemplateColumns:h},children:s.map(I=>{const{uuid:P}=I,M=u===P;return l.jsx(f4,{image:I,isSelected:M},P)})}),l.jsx(Xe,{onClick:j,isDisabled:!S,flexShrink:0,children:t(S?"gallery.loadMore":"gallery.allImagesLoaded")})]}):l.jsxs(L,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2,padding:8,h:"100%",w:"100%",color:"base.500"},children:[l.jsx(tn,{as:fp,sx:{w:16,h:16}}),l.jsx(Ce,{textAlign:"center",children:t("gallery.noImagesInGallery")})]})})})]})};h4.displayName="ImageGalleryContent";const p1={txt2img:{galleryMinWidth:200,galleryMaxWidth:500},img2img:{galleryMinWidth:200,galleryMaxWidth:500},unifiedCanvas:{galleryMinWidth:200,galleryMaxWidth:200},nodes:{galleryMinWidth:200,galleryMaxWidth:500},postprocessing:{galleryMinWidth:200,galleryMaxWidth:500},training:{galleryMinWidth:200,galleryMaxWidth:500}},GN=me([bt,Pr,qr,Ot,Cs],(e,t,n,r,o)=>{const{shouldPinGallery:s,shouldShowGallery:c}=t,{galleryImageMinimumWidth:u}=n,{isLightboxOpen:f}=o;return{activeTabName:e,isStaging:r,shouldPinGallery:s,shouldShowGallery:c,galleryImageMinimumWidth:u,isResizable:e!=="unifiedCanvas",isLightboxOpen:f}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function qN(){const e=Y(),{shouldPinGallery:t,shouldShowGallery:n,galleryImageMinimumWidth:r,activeTabName:o,isStaging:s,isResizable:c,isLightboxOpen:u}=A(GN),f=()=>{e(p2()),e(cn())},p=()=>{e(IC()),t&&e(cn())},h=()=>{e(uf(!1)),t&&e(cn())};de("g",()=>{p()},[t]),de("left",()=>{e(V1())},{enabled:!s||o!=="unifiedCanvas"},[s,o]),de("right",()=>{e(U1())},{enabled:!s||o!=="unifiedCanvas"},[s,o]),de("shift+g",()=>{f()},[t]),de("esc",()=>{e(uf(!1))},{enabled:()=>!t,preventDefault:!0},[t]);const y=32;return de("shift+up",()=>{if(r<256){const x=ee.clamp(r+y,32,256);e(Jl(x))}},[r]),de("shift+down",()=>{if(r>32){const x=ee.clamp(r-y,32,256);e(Jl(x))}},[r]),l.jsx(Ob,{direction:"right",isResizable:c||!t,isOpen:n,onClose:h,isPinned:t&&!u,minWidth:t?p1[o].galleryMinWidth:200,maxWidth:t?p1[o].galleryMaxWidth:void 0,children:l.jsx(h4,{})})}var Hn=function(e,t){return Number(e.toFixed(t))},YN=function(e,t){return typeof e=="number"?e:t},Mt=function(e,t,n){n&&typeof n=="function"&&n(e,t)},KN=function(e){return-Math.cos(e*Math.PI)/2+.5},XN=function(e){return e},QN=function(e){return e*e},ZN=function(e){return e*(2-e)},JN=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},eF=function(e){return e*e*e},tF=function(e){return--e*e*e+1},nF=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},rF=function(e){return e*e*e*e},oF=function(e){return 1- --e*e*e*e},iF=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},aF=function(e){return e*e*e*e*e},sF=function(e){return 1+--e*e*e*e*e},lF=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},p4={easeOut:KN,linear:XN,easeInQuad:QN,easeOutQuad:ZN,easeInOutQuad:JN,easeInCubic:eF,easeOutCubic:tF,easeInOutCubic:nF,easeInQuart:rF,easeOutQuart:oF,easeInOutQuart:iF,easeInQuint:aF,easeOutQuint:sF,easeInOutQuint:lF},m4=function(e){typeof e=="number"&&cancelAnimationFrame(e)},br=function(e){e.mounted&&(m4(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function v4(e,t,n,r){if(e.mounted){var o=new Date().getTime(),s=1;br(e),e.animation=function(){if(!e.mounted)return m4(e.animation);var c=new Date().getTime()-o,u=c/n,f=p4[t],p=f(u);c>=n?(r(s),e.animation=null):e.animation&&(r(p),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function cF(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function jo(e,t,n,r){var o=cF(t);if(!(!e.mounted||!o)){var s=e.setTransformState,c=e.transformState,u=c.scale,f=c.positionX,p=c.positionY,h=t.scale-u,y=t.positionX-f,x=t.positionY-p;n===0?s(t.scale,t.positionX,t.positionY):v4(e,r,n,function(S){var C=u+h*S,j=f+y*S,w=p+x*S;s(C,j,w)})}}function uF(e,t,n){var r=e.offsetWidth,o=e.offsetHeight,s=t.offsetWidth,c=t.offsetHeight,u=s*n,f=c*n,p=r-u,h=o-f;return{wrapperWidth:r,wrapperHeight:o,newContentWidth:u,newDiffWidth:p,newContentHeight:f,newDiffHeight:h}}var dF=function(e,t,n,r,o,s,c){var u=e>t?n*(c?1:.5):0,f=r>o?s*(c?1:.5):0,p=e-t-u,h=u,y=r-o-f,x=f;return{minPositionX:p,maxPositionX:h,minPositionY:y,maxPositionY:x}},Fp=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,o=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var s=uF(n,r,t),c=s.wrapperWidth,u=s.wrapperHeight,f=s.newContentWidth,p=s.newDiffWidth,h=s.newContentHeight,y=s.newDiffHeight,x=dF(c,f,p,u,h,y,Boolean(o));return x},Qf=function(e,t,n,r){return r?e<t?Hn(t,2):e>n?Hn(n,2):Hn(e,2):Hn(e,2)},ta=function(e,t){var n=Fp(e,t);return e.bounds=n,n};function qc(e,t,n,r,o,s,c){var u=n.minPositionX,f=n.minPositionY,p=n.maxPositionX,h=n.maxPositionY,y=0,x=0;c&&(y=o,x=s);var S=Qf(e,u-y,p+y,r),C=Qf(t,f-x,h+x,r);return{x:S,y:C}}function Yc(e,t,n,r,o,s){var c=e.transformState,u=c.scale,f=c.positionX,p=c.positionY,h=r-u;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:f,y:p};var y=f-t*h,x=p-n*h,S=qc(y,x,o,s,0,0,null);return S}function ws(e,t,n,r,o){var s=o?r:0,c=t-s;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=c?c:e}var m1=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,o=e.wrapperComponent,s=t.target,c=o==null?void 0:o.contains(s),u=r&&s&&c;if(!u)return!1;var f=Kc(s,n);return!f},v1=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,o=r.panning.disabled,s=t&&n&&!o;return!!s},fF=function(e,t){var n=e.transformState,r=n.positionX,o=n.positionY;e.isPanning=!0;var s=t.clientX,c=t.clientY;e.startCoords={x:s-r,y:c-o}},hF=function(e,t){var n=t.touches,r=e.transformState,o=r.positionX,s=r.positionY;e.isPanning=!0;var c=n.length===1;if(c){var u=n[0].clientX,f=n[0].clientY;e.startCoords={x:u-o,y:f-s}}};function pF(e){var t=e.transformState,n=t.positionX,r=t.positionY,o=t.scale,s=e.setup,c=s.disabled,u=s.limitToBounds,f=s.centerZoomedOut,p=e.wrapperComponent;if(!(c||!p||!e.bounds)){var h=e.bounds,y=h.maxPositionX,x=h.minPositionX,S=h.maxPositionY,C=h.minPositionY,j=n>y||n<x,w=r>S||r<C,k=n>y?p.offsetWidth:e.setup.minPositionX||0,I=r>S?p.offsetHeight:e.setup.minPositionY||0,P=Yc(e,k,I,o,e.bounds,u||f),M=P.x,T=P.y;return{scale:o,positionX:j?M:n,positionY:w?T:r}}}function mF(e,t,n,r,o){var s=e.setup.limitToBounds,c=e.wrapperComponent,u=e.bounds,f=e.transformState,p=f.scale,h=f.positionX,y=f.positionY;if(!(c===null||u===null||t===h&&n===y)){var x=qc(t,n,u,s,r,o,c),S=x.x,C=x.y;e.setTransformState(p,S,C)}}var vF=function(e,t,n){var r=e.startCoords,o=e.transformState,s=e.setup.panning,c=s.lockAxisX,u=s.lockAxisY,f=o.positionX,p=o.positionY;if(!r)return{x:f,y:p};var h=t-r.x,y=n-r.y,x=c?f:h,S=u?p:y;return{x,y:S}},yc=function(e,t){var n=e.setup,r=e.transformState,o=r.scale,s=n.minScale,c=n.disablePadding;return t>0&&o>=s&&!c?t:0},gF=function(e){var t=e.mounted,n=e.setup,r=n.disabled,o=n.velocityAnimation,s=e.transformState.scale,c=o.disabled,u=!c||s>1||!r||t;return!!u},yF=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,o=e.setup,s=o.disabled,c=o.velocityAnimation,u=e.transformState.scale,f=c.disabled,p=!f||u>1||!s||t;return!(!p||!n||!r)};function xF(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,o=n.animationTime,s=n.sensitivity;return r?o*t*s:o}function g1(e,t,n,r,o,s,c,u,f,p){if(o){if(t>c&&n>c){var h=c+(e-c)*p;return h>f?f:h<c?c:h}if(t<s&&n<s){var h=s+(e-s)*p;return h<u?u:h>s?s:h}}return r?t:Qf(e,s,c,o)}function bF(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function SF(e,t){var n=gF(e);if(n){var r=e.lastMousePosition,o=e.velocityTime,s=e.setup,c=e.wrapperComponent,u=s.velocityAnimation.equalToMove,f=Date.now();if(r&&o&&c){var p=bF(c,u),h=t.x-r.x,y=t.y-r.y,x=h/p,S=y/p,C=f-o,j=h*h+y*y,w=Math.sqrt(j)/C;e.velocity={velocityX:x,velocityY:S,total:w}}e.lastMousePosition=t,e.velocityTime=f}}function CF(e){var t=e.velocity,n=e.bounds,r=e.setup,o=e.wrapperComponent,s=yF(e);if(!(!s||!t||!n||!o)){var c=t.velocityX,u=t.velocityY,f=t.total,p=n.maxPositionX,h=n.minPositionX,y=n.maxPositionY,x=n.minPositionY,S=r.limitToBounds,C=r.alignmentAnimation,j=r.zoomAnimation,w=r.panning,k=w.lockAxisY,I=w.lockAxisX,P=j.animationType,M=C.sizeX,T=C.sizeY,D=C.velocityAlignmentTime,_=D,R=xF(e,f),V=Math.max(R,_),F=yc(e,M),B=yc(e,T),Q=F*o.offsetWidth/100,U=B*o.offsetHeight/100,X=p+Q,te=h-Q,re=y+U,$=x-U,Z=e.transformState,oe=new Date().getTime();v4(e,P,V,function(le){var ze=e.transformState,Re=ze.scale,Ie=ze.positionX,pe=ze.positionY,ce=new Date().getTime()-oe,Ne=ce/_,Ve=p4[C.animationType],Ue=1-Ve(Math.min(1,Ne)),$e=1-le,Ze=Ie+c*$e,ve=pe+u*$e,Te=g1(Ze,Z.positionX,Ie,I,S,h,p,te,X,Ue),Ge=g1(ve,Z.positionY,pe,k,S,x,y,$,re,Ue);(Ie!==Ze||pe!==ve)&&e.setTransformState(Re,Te,Ge)})}}function y1(e,t){var n=e.transformState.scale;br(e),ta(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?hF(e,t):fF(e,t)}function g4(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,o=n.alignmentAnimation,s=o.disabled,c=o.sizeX,u=o.sizeY,f=o.animationTime,p=o.animationType,h=s||t<r||!c&&!u;if(!h){var y=pF(e);y&&jo(e,y,f,p)}}function x1(e,t,n){var r=e.startCoords,o=e.setup,s=o.alignmentAnimation,c=s.sizeX,u=s.sizeY;if(r){var f=vF(e,t,n),p=f.x,h=f.y,y=yc(e,c),x=yc(e,u);SF(e,{x:p,y:h}),mF(e,p,h,y,x)}}function wF(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,o=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var s=r==null?void 0:r.getBoundingClientRect(),c=o==null?void 0:o.getBoundingClientRect(),u=(s==null?void 0:s.width)||0,f=(s==null?void 0:s.height)||0,p=(c==null?void 0:c.width)||0,h=(c==null?void 0:c.height)||0,y=u<p||f<h,x=!t&&n&&(n==null?void 0:n.total)>.1&&y;x?CF(e):g4(e)}}function Lp(e,t,n,r){var o=e.setup,s=o.minScale,c=o.maxScale,u=o.limitToBounds,f=ws(Hn(t,2),s,c,0,!1),p=ta(e,f),h=Yc(e,n,r,f,p,u),y=h.x,x=h.y;return{scale:f,positionX:y,positionY:x}}function y4(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,s=e.setup,c=s.minScale,u=s.limitToBounds,f=s.zoomAnimation,p=f.disabled,h=f.animationTime,y=f.animationType,x=p||r>=c;if((r>=1||u)&&g4(e),!(x||!o||!e.mounted)){var S=t||o.offsetWidth/2,C=n||o.offsetHeight/2,j=Lp(e,c,S,C);j&&jo(e,j,h,y)}}var fo=function(){return fo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},fo.apply(this,arguments)};function b1(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Nl={previousScale:1,scale:1,positionX:0,positionY:0},Ra={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},x4=function(e){var t,n,r,o;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Nl.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Nl.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Nl.positionX,positionY:(o=e.initialPositionY)!==null&&o!==void 0?o:Nl.positionY}},S1=function(e){var t=fo({},Ra);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",o=typeof Ra[n]<"u";if(o&&r){var s=Object.prototype.toString.call(Ra[n]),c=s==="[object Object]",u=s==="[object Array]";c?t[n]=fo(fo({},Ra[n]),e[n]):u?t[n]=b1(b1([],Ra[n],!0),e[n],!0):t[n]=e[n]}}),t},b4=function(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,s=e.setup,c=s.maxScale,u=s.minScale,f=s.zoomAnimation,p=f.size;if(!o)throw new Error("Wrapper is not mounted");var h=r*Math.exp(t*n),y=ws(Hn(h,3),u,c,p,!1);return y};function S4(e,t,n,r,o){var s=e.wrapperComponent,c=e.transformState,u=c.scale,f=c.positionX,p=c.positionY;if(!s)return console.error("No WrapperComponent found");var h=s.offsetWidth,y=s.offsetHeight,x=(h/2-f)/u,S=(y/2-p)/u,C=b4(e,t,n),j=Lp(e,C,x,S);if(!j)return console.error("Error during zoom event. New transformation state was not calculated.");jo(e,j,r,o)}function C4(e,t,n,r){var o=e.setup,s=e.wrapperComponent,c=o.limitToBounds,u=x4(e.props),f=e.transformState,p=f.scale,h=f.positionX,y=f.positionY;if(s){var x=Fp(e,u.scale),S=qc(u.positionX,u.positionY,x,c,0,0,s),C={scale:u.scale,positionX:S.x,positionY:S.y};p===u.scale&&h===u.positionX&&y===u.positionY||(r==null||r(),jo(e,C,t,n))}}function jF(e,t,n,r){var o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),c=n.getBoundingClientRect(),u=s.x*r.scale,f=s.y*r.scale;return{x:(o.x-c.x+u)/r.scale,y:(o.y-c.y+f)/r.scale}}function kF(e,t,n){var r=e.wrapperComponent,o=e.contentComponent,s=e.transformState,c=e.setup,u=c.limitToBounds,f=c.minScale,p=c.maxScale;if(!r||!o)return s;var h=r.getBoundingClientRect(),y=t.getBoundingClientRect(),x=jF(t,r,o,s),S=x.x,C=x.y,j=y.width/s.scale,w=y.height/s.scale,k=r.offsetWidth/j,I=r.offsetHeight/w,P=ws(n||Math.min(k,I),f,p,0,!1),M=(h.width-j*P)/2,T=(h.height-w*P)/2,D=(h.left-S)*P+M,_=(h.top-C)*P+T,R=Fp(e,P),V=qc(D,_,R,u,0,0,r),F=V.x,B=V.y;return{positionX:F,positionY:B,scale:P}}var EF=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),S4(e,1,t,n,r)}},PF=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),S4(e,-1,t,n,r)}},IF=function(e){return function(t,n,r,o,s){o===void 0&&(o=300),s===void 0&&(s="easeOut");var c=e.transformState,u=c.positionX,f=c.positionY,p=c.scale,h=e.wrapperComponent,y=e.contentComponent,x=e.setup.disabled;if(!(x||!h||!y)){var S={positionX:Number.isNaN(t)?u:t,positionY:Number.isNaN(n)?f:n,scale:Number.isNaN(r)?p:r};jo(e,S,o,s)}}},MF=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),C4(e,t,n)}},TF=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var o=e.transformState,s=e.wrapperComponent,c=e.contentComponent;if(s&&c){var u=w4(t||o.scale,s,c);jo(e,u,n,r)}}},_F=function(e){return function(t,n,r,o){r===void 0&&(r=600),o===void 0&&(o="easeOut"),br(e);var s=e.wrapperComponent,c=typeof t=="string"?document.getElementById(t):t;if(s&&c&&s.contains(c)){var u=kF(e,c,n);jo(e,u,r,o)}}},dt=function(e){return{instance:e,state:e.transformState,zoomIn:EF(e),zoomOut:PF(e),setTransform:IF(e),resetTransform:MF(e),centerView:TF(e),zoomToElement:_F(e)}},Kd=!1;function Xd(){try{var e={get passive(){return Kd=!0,!1}};return e}catch{return Kd=!1,Kd}}var Kc=function(e,t){var n=e.tagName.toUpperCase(),r=t.find(function(s){return s.toUpperCase()===n});if(r)return!0;var o=t.find(function(s){return e.classList.contains(s)});return!!o},Zf=function(e){e&&clearTimeout(e)},DF=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},w4=function(e,t,n){var r=n.offsetWidth*e,o=n.offsetHeight*e,s=(t.offsetWidth-r)/2,c=(t.offsetHeight-o)/2;return{scale:e,positionX:s,positionY:c}};function AF(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var OF=function(e,t){var n=e.setup.wheel,r=n.disabled,o=n.wheelDisabled,s=n.touchPadDisabled,c=n.excluded,u=e.isInitialized,f=e.isPanning,p=t.target,h=u&&!f&&!r&&p;if(!h||o&&!t.ctrlKey||s&&t.ctrlKey)return!1;var y=Kc(p,c);return!y},zF=function(e){return e?e.deltaY<0?1:-1:0};function RF(e,t){var n=zF(e),r=YN(t,n);return r}function j4(e,t,n){var r=t.getBoundingClientRect(),o=0,s=0;if("clientX"in e)o=(e.clientX-r.left)/n,s=(e.clientY-r.top)/n;else{var c=e.touches[0];o=(c.clientX-r.left)/n,s=(c.clientY-r.top)/n}return(Number.isNaN(o)||Number.isNaN(s))&&console.error("No mouse or touch offset found"),{x:o,y:s}}var NF=function(e,t,n,r,o){var s=e.transformState.scale,c=e.wrapperComponent,u=e.setup,f=u.maxScale,p=u.minScale,h=u.zoomAnimation,y=u.disablePadding,x=h.size,S=h.disabled;if(!c)throw new Error("Wrapper is not mounted");var C=s+t*(s-s*n)*n;if(o)return C;var j=r?!1:!S,w=ws(Hn(C,3),p,f,x,j&&!y);return w},FF=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,o=e.setup,s=o.maxScale,c=o.minScale;return n?r<s||r>c||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},LF=function(e,t){var n=e.setup.pinch,r=n.disabled,o=n.excluded,s=e.isInitialized,c=t.target,u=s&&!r&&c;if(!u)return!1;var f=Kc(c,o);return!f},BF=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,o=n&&!t&&r;return!!o},HF=function(e,t,n){var r=n.getBoundingClientRect(),o=e.touches,s=Hn(o[0].clientX-r.left,5),c=Hn(o[0].clientY-r.top,5),u=Hn(o[1].clientX-r.left,5),f=Hn(o[1].clientY-r.top,5);return{x:(s+u)/2/t,y:(c+f)/2/t}},k4=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},WF=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,o=e.setup,s=o.maxScale,c=o.minScale,u=o.zoomAnimation,f=o.disablePadding,p=u.size,h=u.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var y=t/r,x=y*n;return ws(Hn(x,2),c,s,p,!h&&!f)},VF=160,UF=100,$F=function(e,t){var n=e.props,r=n.onWheelStart,o=n.onZoomStart;e.wheelStopEventTimer||(br(e),Mt(dt(e),t,r),Mt(dt(e),t,o))},GF=function(e,t){var n=e.props,r=n.onWheel,o=n.onZoom,s=e.contentComponent,c=e.setup,u=e.transformState,f=u.scale,p=c.limitToBounds,h=c.centerZoomedOut,y=c.zoomAnimation,x=c.wheel,S=c.disablePadding,C=y.size,j=y.disabled,w=x.step;if(!s)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var k=RF(t,null),I=NF(e,k,w,!t.ctrlKey);if(f!==I){var P=ta(e,I),M=j4(t,s,f),T=j||C===0||h||S,D=p&&T,_=Yc(e,M.x,M.y,I,P,D),R=_.x,V=_.y;e.previousWheelEvent=t,e.setTransformState(I,R,V),Mt(dt(e),t,r),Mt(dt(e),t,o)}},qF=function(e,t){var n=e.props,r=n.onWheelStop,o=n.onZoomStop;Zf(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(y4(e,t.x,t.y),e.wheelAnimationTimer=null)},UF);var s=FF(e,t);s&&(Zf(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Mt(dt(e),t,r),Mt(dt(e),t,o))},VF))},YF=function(e,t){var n=k4(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,br(e)},KF=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,o=e.transformState.scale,s=e.setup,c=s.limitToBounds,u=s.centerZoomedOut,f=s.zoomAnimation,p=f.disabled,h=f.size;if(!(r===null||!n)){var y=HF(t,o,n);if(!(!Number.isFinite(y.x)||!Number.isFinite(y.y))){var x=k4(t),S=WF(e,x);if(S!==o){var C=ta(e,S),j=p||h===0||u,w=c&&j,k=Yc(e,y.x,y.y,S,C,w),I=k.x,P=k.y;e.pinchMidpoint=y,e.lastDistance=x,e.setTransformState(S,I,P)}}}},XF=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,y4(e,t==null?void 0:t.x,t==null?void 0:t.y)},E4=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;Zf(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Mt(dt(e),t,n)},r)},QF=function(e,t){var n=e.props,r=n.onZoomStart,o=n.onZoom,s=e.setup.doubleClick,c=s.animationTime,u=s.animationType;Mt(dt(e),t,r),C4(e,c,u,function(){return Mt(dt(e),t,o)}),E4(e,t)};function ZF(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,o=e.transformState,s=e.contentComponent,c=o.scale,u=e.props,f=u.onZoomStart,p=u.onZoom,h=n.doubleClick,y=h.disabled,x=h.mode,S=h.step,C=h.animationTime,j=h.animationType;if(!y&&!r){if(x==="reset")return QF(e,t);if(!s)return console.error("No ContentComponent found");var w=x==="zoomOut"?-1:1,k=b4(e,w,S);if(c!==k){Mt(dt(e),t,f);var I=j4(t,s,c),P=Lp(e,k,I.x,I.y);if(!P)return console.error("Error during zoom event. New transformation state was not calculated.");Mt(dt(e),t,p),jo(e,P,C,j),E4(e,t)}}}var JF=function(e,t){var n=e.isInitialized,r=e.setup,o=e.wrapperComponent,s=r.doubleClick,c=s.disabled,u=s.excluded,f=t.target,p=o==null?void 0:o.contains(f),h=n&&f&&p&&!c;if(!h)return!1;var y=Kc(f,u);return!y},eL=function(){function e(t){var n=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){ta(n,n.transformState.scale),n.setup=S1(r)},this.initializeWindowEvents=function(){var r,o=Xd(),s=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,c=s==null?void 0:s.defaultView;c==null||c.addEventListener("mousedown",n.onPanningStart,o),c==null||c.addEventListener("mousemove",n.onPanning,o),c==null||c.addEventListener("mouseup",n.onPanningStop,o),s==null||s.addEventListener("mouseleave",n.clearPanning,o),c==null||c.addEventListener("keyup",n.setKeyUnPressed,o),c==null||c.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,o,s=Xd(),c=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,u=c==null?void 0:c.defaultView;u==null||u.removeEventListener("mousedown",n.onPanningStart,s),u==null||u.removeEventListener("mousemove",n.onPanning,s),u==null||u.removeEventListener("mouseup",n.onPanningStop,s),c==null||c.removeEventListener("mouseleave",n.clearPanning,s),u==null||u.removeEventListener("keyup",n.setKeyUnPressed,s),u==null||u.removeEventListener("keydown",n.setKeyPressed,s),document.removeEventListener("mouseleave",n.clearPanning,s),br(n),(o=n.observer)===null||o===void 0||o.disconnect()},this.handleInitializeWrapperEvents=function(r){var o=Xd();r.addEventListener("wheel",n.onWheelZoom,o),r.addEventListener("dblclick",n.onDoubleClick,o),r.addEventListener("touchstart",n.onTouchPanningStart,o),r.addEventListener("touchmove",n.onTouchPanning,o),r.addEventListener("touchend",n.onTouchPanningStop,o)},this.handleInitialize=function(r){var o=n.setup.centerOnInit;n.applyTransformation(),o&&(n.setCenter(),n.observer=new ResizeObserver(function(){var s;n.setCenter(),(s=n.observer)===null||s===void 0||s.disconnect()}),n.observer.observe(r))},this.onWheelZoom=function(r){var o=n.setup.disabled;if(!o){var s=OF(n,r);if(s){var c=n.isPressingKeys(n.setup.wheel.activationKeys);c&&($F(n,r),GF(n,r),qF(n,r))}}},this.onPanningStart=function(r){var o=n.setup.disabled,s=n.props.onPanningStart;if(!o){var c=m1(n,r);if(c){var u=n.isPressingKeys(n.setup.panning.activationKeys);u&&(r.preventDefault(),r.stopPropagation(),br(n),y1(n,r),Mt(dt(n),r,s))}}},this.onPanning=function(r){var o=n.setup.disabled,s=n.props.onPanning;if(!o){var c=v1(n);if(c){var u=n.isPressingKeys(n.setup.panning.activationKeys);u&&(r.preventDefault(),r.stopPropagation(),x1(n,r.clientX,r.clientY),Mt(dt(n),r,s))}}},this.onPanningStop=function(r){var o=n.props.onPanningStop;n.isPanning&&(wF(n),Mt(dt(n),r,o))},this.onPinchStart=function(r){var o=n.setup.disabled,s=n.props,c=s.onPinchingStart,u=s.onZoomStart;if(!o){var f=LF(n,r);f&&(YF(n,r),br(n),Mt(dt(n),r,c),Mt(dt(n),r,u))}},this.onPinch=function(r){var o=n.setup.disabled,s=n.props,c=s.onPinching,u=s.onZoom;if(!o){var f=BF(n);f&&(r.preventDefault(),r.stopPropagation(),KF(n,r),Mt(dt(n),r,c),Mt(dt(n),r,u))}},this.onPinchStop=function(r){var o=n.props,s=o.onPinchingStop,c=o.onZoomStop;n.pinchStartScale&&(XF(n),Mt(dt(n),r,s),Mt(dt(n),r,c))},this.onTouchPanningStart=function(r){var o=n.setup.disabled,s=n.props.onPanningStart;if(!o){var c=m1(n,r);if(c){var u=n.lastTouch&&+new Date-n.lastTouch<200;if(u&&r.touches.length===1)n.onDoubleClick(r);else{n.lastTouch=+new Date,br(n);var f=r.touches,p=f.length===1,h=f.length===2;p&&(br(n),y1(n,r),Mt(dt(n),r,s)),h&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var o=n.setup.disabled,s=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(o)return;var c=v1(n);if(!c)return;r.preventDefault(),r.stopPropagation();var u=r.touches[0];x1(n,u.clientX,u.clientY),Mt(dt(n),r,s)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var o=n.setup.disabled;if(!o){var s=JF(n,r);s&&ZF(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?Boolean(r.find(function(o){return n.pressedKeys[o]})):!0},this.setTransformState=function(r,o,s){var c=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(o)&&!Number.isNaN(s)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=o,n.transformState.positionY=s;var u=dt(n);n.onChangeCallbacks.forEach(function(f){return f(u)}),Mt(u,{scale:r,positionX:o,positionY:s},c),n.applyTransformation()}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=w4(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,o,s){return n.props.customTransform?n.props.customTransform(r,o,s):DF(r,o,s)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,o=r.scale,s=r.positionX,c=r.positionY,u=n.handleTransformStyles(s,c,o);n.contentComponent.style.transform=u}},this.getContext=function(){return dt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.init=function(r,o){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=o,ta(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(o),n.initializeWindowEvents(),n.isInitialized=!0,Mt(dt(n),void 0,n.props.onInit)},this.props=t,this.setup=S1(this.props),this.transformState=x4(this.props)}return e}(),Xc=Me.createContext(null),tL=function(e,t){return typeof e=="function"?e(t):e},nL=Me.forwardRef(function(e,t){var n=g.useState(0),r=n[1],o=e.children,s=g.useRef(new eL(e)).current,c=tL(e.children,dt(s)),u=g.useCallback(function(){typeof o=="function"&&r(function(f){return f+1})},[o]);return g.useImperativeHandle(t,function(){return dt(s)},[s]),g.useEffect(function(){s.update(e)},[s,e]),g.useEffect(function(){return s.onChange(u)},[s,e,u]),Me.createElement(Xc.Provider,{value:s},c)});function rL(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var oL=`.transform-component-module_wrapper__7HFJe {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__uCDPE {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__uCDPE img {
  pointer-events: none;
}
`,C1={wrapper:"transform-component-module_wrapper__7HFJe",content:"transform-component-module_content__uCDPE"};rL(oL);var iL=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,o=e.contentClass,s=o===void 0?"":o,c=e.wrapperStyle,u=e.contentStyle,f=e.wrapperProps,p=f===void 0?{}:f,h=e.contentProps,y=h===void 0?{}:h,x=g.useContext(Xc).init,S=g.useRef(null),C=g.useRef(null);return g.useEffect(function(){var j=S.current,w=C.current;j!==null&&w!==null&&x&&x(j,w)},[]),Me.createElement("div",fo({},p,{ref:S,className:"react-transform-wrapper ".concat(C1.wrapper," ").concat(r),style:c}),Me.createElement("div",fo({},y,{ref:C,className:"react-transform-component ".concat(C1.content," ").concat(s),style:u}),t))},P4=function(){var e=g.useContext(Xc),t=g.useState(dt(e||{})),n=t[0],r=t[1];if(!e)throw new Error("Transform context mus be placed inside TransformWrapper");return g.useEffect(function(){e.onChange(function(o){r(o)})},[e]),n};Me.forwardRef(function(e,t){var n=g.useRef(null),r=g.useContext(Xc);return g.useEffect(function(){return r.onChange(function(o){if(n.current){var s=0,c=0;n.current.style.transform=r.handleTransformStyles(s,c,1/o.state.scale)}})},[r]),Me.createElement("div",fo({},e,{ref:AF([n,t])}))});const aL=()=>{const[e,t]=g.useState(0),[n,r]=g.useState(1),[o,s]=g.useState(1);return{rotation:e,scaleX:n,scaleY:o,flipHorizontally:()=>{r(n*-1)},flipVertically:()=>{s(o*-1)},rotateCounterClockwise:()=>{t(e===-270?0:e-90)},rotateClockwise:()=>{t(e===270?0:e+90)},reset:()=>{t(0),r(1),s(1)}}},sL=({flipHorizontally:e,flipVertically:t,rotateCounterClockwise:n,rotateClockwise:r,reset:o})=>{const{zoomIn:s,zoomOut:c,resetTransform:u}=P4(),{t:f}=K();return l.jsxs(Qt,{isAttached:!0,orientation:"vertical",children:[l.jsx(se,{icon:l.jsx(PD,{}),"aria-label":f("accessibility.zoomIn"),tooltip:"Zoom In",onClick:()=>s(),fontSize:20}),l.jsx(se,{icon:l.jsx(ID,{}),"aria-label":f("accessibility.zoomOut"),tooltip:"Zoom Out",onClick:()=>c(),fontSize:20}),l.jsx(se,{icon:l.jsx(kD,{}),"aria-label":f("accessibility.rotateCounterClockwise"),tooltip:"Rotate Counter-Clockwise",onClick:n,fontSize:20}),l.jsx(se,{icon:l.jsx(ED,{}),"aria-label":f("accessibility.rotateClockwise"),tooltip:"Rotate Clockwise",onClick:r,fontSize:20}),l.jsx(se,{icon:l.jsx($0,{}),"aria-label":f("accessibility.flipHorizontally"),tooltip:"Flip Horizontally",onClick:e,fontSize:20}),l.jsx(se,{icon:l.jsx($0,{style:{transform:"rotate(90deg)"}}),"aria-label":f("accessibility.flipVertically"),tooltip:"Flip Vertically",onClick:t,fontSize:20}),l.jsx(se,{icon:l.jsx(_b,{}),"aria-label":f("accessibility.reset"),tooltip:"Reset",onClick:()=>{u(),o()},fontSize:20})]})};function lL({image:e,alt:t,ref:n,styleClass:r,rotation:o,scaleX:s,scaleY:c}){const{centerView:u}=P4();return l.jsx(iL,{wrapperStyle:{width:"100%",height:"100%"},children:l.jsx("img",{style:{transform:`rotate(${o}deg) scaleX(${s})  scaleY(${c})`,width:"100%"},src:e.url,alt:t,ref:n,className:r||"",onLoad:()=>u(1,0,"easeOut")})})}const cL=me([qr,Pr],(e,t)=>{const{currentImage:n}=e,{shouldShowImageDetails:r}=t;return{viewerImageToDisplay:n,shouldShowImageDetails:r}},{memoizeOptions:{resultEqualityCheck:ee.isEqual}});function uL(){const e=Y(),t=A(x=>x.lightbox.isLightboxOpen),{rotation:n,scaleX:r,scaleY:o,flipHorizontally:s,flipVertically:c,rotateCounterClockwise:u,rotateClockwise:f,reset:p}=aL(),{viewerImageToDisplay:h,shouldShowImageDetails:y}=A(cL);return de("Esc",()=>{t&&e(Uo(!1))},[t]),l.jsx(xo,{children:t&&l.jsx(ar.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeInOut"},style:{display:"flex",width:"100vw",height:`calc(100vh - ${fc*4}px)`,position:"fixed",top:`${fc*4}px`,background:"var(--invokeai-colors-base-900)",zIndex:99},children:l.jsxs(nL,{centerOnInit:!0,minScale:.1,initialPositionX:50,initialPositionY:50,children:[l.jsxs(L,{sx:{flexDir:"column",position:"absolute",insetInlineStart:4,gap:4,zIndex:3,top:4},children:[l.jsx(se,{icon:l.jsx(jD,{}),"aria-label":"Exit Viewer",className:"lightbox-close-btn",onClick:()=>{e(Uo(!1))},fontSize:20}),l.jsx(sL,{flipHorizontally:s,flipVertically:c,rotateCounterClockwise:u,rotateClockwise:f,reset:p})]}),l.jsx(L,{sx:{position:"absolute",top:4,zIndex:3,insetInlineStart:"50%",transform:"translate(-50%, 0)"},children:l.jsx(Fb,{})}),h&&l.jsxs(l.Fragment,{children:[l.jsx(lL,{rotation:n,scaleX:r,scaleY:o,image:h,styleClass:"lightbox-image"}),y&&l.jsx(xp,{image:h}),!y&&l.jsx(Ye,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"100vw",h:"100vh",px:16,pointerEvents:"none"},children:l.jsx(Lb,{})})]})]})},"lightbox")})}NN();const mL=e=>{FN();const t=A(r=>r.ui.currentTheme),{setColorMode:n}=MC();return g.useEffect(()=>{n(["light"].includes(t)?"light":"dark")},[n,t]),l.jsxs(ir,{w:"100vw",h:"100vh",children:[l.jsx(uL,{}),l.jsxs(m9,{children:[l.jsx(fP,{}),l.jsxs(ir,{gap:4,p:4,gridAutoRows:"min-content auto",w:sP,h:lP,children:[e.children||l.jsx(Ab,{}),l.jsxs(L,{gap:4,w:"full",h:"full",children:[l.jsx(RN,{}),l.jsx(qN,{})]})]}),l.jsx(Ye,{children:l.jsx(iP,{})})]}),l.jsx(qa,{children:l.jsx(WN,{})}),l.jsx(qa,{children:l.jsx(BN,{})})]})};export{mL as default};
